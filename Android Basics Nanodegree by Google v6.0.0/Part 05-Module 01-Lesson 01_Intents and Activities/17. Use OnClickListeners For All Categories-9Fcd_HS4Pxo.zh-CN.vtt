WEBVTT
Kind: captions
Language: zh-CN

00:00:00.025 --> 00:00:03.649
[声音] 刚才我们写了好多行代码啊

00:00:03.649 --> 00:00:06.643
现在我来展示另一种编写 clickListener 的方法

00:00:06.643 --> 00:00:09.170
并且不需要写这么多行的代码

00:00:09.170 --> 00:00:12.060
作为开发者 我们希望代码尽量简洁

00:00:12.060 --> 00:00:14.660
使他人更容易阅读代码

00:00:14.660 --> 00:00:17.130
现在我们位于 MainActivity.java 中

00:00:17.130 --> 00:00:19.920
注意我们在这里创建了 OnClickListener 变量

00:00:19.920 --> 00:00:21.740
但是仅在这里用到了一次

00:00:21.740 --> 00:00:25.770
我将展示一种新的方法 在代码行内创建该对象

00:00:25.770 --> 00:00:28.860
剪切掉该部分 并在这里替换为该对象

00:00:28.860 --> 00:00:30.340
不错

00:00:30.340 --> 00:00:32.271
现在我可以删除这行了

00:00:32.271 --> 00:00:34.647
代码变简练了 看起来是这样的

00:00:34.647 --> 00:00:37.240
代码行数变少了 看起来更易阅读了

00:00:37.240 --> 00:00:39.860
我来展示下如何使代码更加简练

00:00:39.860 --> 00:00:43.780
当我们调用 setOnClickListener 方法时

00:00:43.780 --> 00:00:47.190
我们实际上可以在代码行内声明 NumbersClickListener 类

00:00:47.190 --> 00:00:49.790
而不用在全新的文件里创建全新的 NumbersClickListener 类

00:00:49.790 --> 00:00:52.810
现在我将刚刚在这里输入的新 NumbersClickListener

00:00:52.810 --> 00:00:56.830
替换为 OnClickListener

00:00:56.830 --> 00:01:00.760
注意 NumbersClickListener 是从 OnClickListener 类实现的

00:01:00.760 --> 00:01:03.287
在这里添加一个左括号

00:01:03.287 --> 00:01:06.590
直接在这里的代码行内实现 OnClick 方法

00:01:06.590 --> 00:01:09.200
不需要额外的 Java 类

00:01:09.200 --> 00:01:11.950
现在我可以在 onClick 方法中输入任何内容

00:01:11.950 --> 00:01:16.740
我可以显示一条消息 或使其打开 Numbers Activity 或任何其他内容

00:01:16.740 --> 00:01:20.380
为此 我们添加一些代码并打开 Numbers Activity

00:01:20.380 --> 00:01:24.418
如果还记得之前教过的代码 我们可以创建一个新的 intent

00:01:24.418 --> 00:01:26.551
并对该 intent 调用 startActivity

00:01:26.551 --> 00:01:30.157
看看代码是什么样的 请仔细观察

00:01:30.157 --> 00:01:35.350
每个句子末尾的右括号和冒号

00:01:35.350 --> 00:01:38.960
我们很容易就丢了这些括号和冒号 但在 Android Studio 中

00:01:38.960 --> 00:01:41.662
幸运的是 如果你点击某个括号 系统会高亮显示对应的另一半

00:01:42.800 --> 00:01:46.570
现在我再回去删了 NumbersClickListener 文件

00:01:46.570 --> 00:01:48.110
因为现在不会再用到该文件了

00:01:48.110 --> 00:01:52.250
我实际上已经将该代码移到我的 MainActivity 中

00:01:52.250 --> 00:01:55.485
我们之前所学的和这里创建 clickListeners 的新方法是等同的

00:01:55.485 --> 00:01:59.740
这里用更短的代码行写出了相同的三个步骤

00:01:59.740 --> 00:02:00.440
大部分情况下

00:02:00.440 --> 00:02:03.320
我都是这么设置我的 clickListener 的 按照需要在代码行中进行设置

00:02:03.320 --> 00:02:06.440
这样使代码更容易阅读 因为与单独的文件相比

00:02:06.440 --> 00:02:09.220
clickListener 的逻辑和视图挨得很近

00:02:09.220 --> 00:02:12.180
当然 有些情况下这也不是最理想的方法

00:02:12.180 --> 00:02:15.980
但是如果你在代码里的多个位置都会用到 clickListener

00:02:15.980 --> 00:02:17.110
那么你就不需要复制相同的代码块

00:02:17.110 --> 00:02:20.280
并粘贴到不同的文件中

00:02:20.280 --> 00:02:21.620
现在该你来操作了

00:02:21.620 --> 00:02:25.913
在 MainActivity 文件中 将 clickListener 附到

00:02:25.913 --> 00:02:29.177
Numbers Phrases Colors 和 Family Members 对应的类别视图中

00:02:29.177 --> 00:02:32.766
像我刚刚展示的那样 在代码行中声明 clickListener

00:02:32.766 --> 00:02:35.570
我们提供了相关代码供你参考

00:02:35.570 --> 00:02:36.070
祝你好运

