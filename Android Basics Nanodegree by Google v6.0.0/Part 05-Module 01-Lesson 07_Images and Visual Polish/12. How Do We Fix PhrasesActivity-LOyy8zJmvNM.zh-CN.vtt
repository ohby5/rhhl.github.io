WEBVTT
Kind: captions
Language: zh-CN

00:00:00.870 --> 00:00:03.840
我们知道最近的代码更改操作导致了 PhrasesActivity

00:00:03.840 --> 00:00:06.150
屏幕出现问题

00:00:06.150 --> 00:00:08.150
我们回去看看到底执行了哪些操作

00:00:09.336 --> 00:00:11.250
在 WordAdapter 类中

00:00:11.250 --> 00:00:14.550
我们添加了这段代码以便在列表项中显示正确的图片

00:00:17.130 --> 00:00:21.410
调用 setImageResource 可能有点奇怪

00:00:21.410 --> 00:00:22.660
因为短语没有对应的图片

00:00:23.830 --> 00:00:26.200
所以对于第一个问题的答案

00:00:26.200 --> 00:00:29.392
PhrasesActivity 存在的问题是屏幕是空白的

00:00:29.392 --> 00:00:33.320
WordAdapter 认为该短语有图片

00:00:33.320 --> 00:00:35.470
但是短语没有图片

00:00:35.470 --> 00:00:37.000
转到第二个问题

00:00:37.000 --> 00:00:40.150
我们可以用多种方式来描述

00:00:40.150 --> 00:00:43.400
如何修复该问题或编写相关代码

00:00:43.400 --> 00:00:47.350
我们可以写一个具体的适配器 叫做 PhraseAdapter

00:00:47.350 --> 00:00:52.670
该适配器明确知道如何创建只包含两个 TextView 而没有 ImageView 的

00:00:52.670 --> 00:00:54.110
列表项视图

00:00:54.110 --> 00:00:58.640
PhraseAdapter 仅用在 PhrasesActivity 中

00:00:58.640 --> 00:01:03.070
而 WordAdapter 会用在其他三个 Activity 中

00:01:03.070 --> 00:01:07.920
但是 这个解决方法会导致两个适配器存在多个重复的逻辑内容

00:01:07.920 --> 00:01:11.390
我们会使用相同的逻辑来显示英语和

00:01:11.390 --> 00:01:13.070
米沃克语翻译

00:01:13.070 --> 00:01:17.230
所以 为何不仅使用一个 WordAdapter 类呢

00:01:17.230 --> 00:01:20.460
我们可以对 WordAdapter 类稍加修改

00:01:20.460 --> 00:01:25.590
使其可以创建不具有图片和具有图片的列表项

00:01:25.590 --> 00:01:30.010
然后我们可以在所有 Activity 中使用这一个适配器

00:01:30.010 --> 00:01:32.870
你会发现 PhrasesActivity 和其他三个 Activity 一样

00:01:32.870 --> 00:01:35.580
具有相同的列表项布局

00:01:35.580 --> 00:01:37.980
只是没有 ImageView

00:01:37.980 --> 00:01:41.240
文字稍微向左移了移

00:01:41.240 --> 00:01:44.690
我在测试题中还提示到

00:01:44.690 --> 00:01:48.100
当应用运行时 你可以在 Android 中隐藏或显示某个视图

00:01:48.100 --> 00:01:51.180
知道这一点后 是不是意味着我们可以在某些情况下在列表项中显示 ImageView

00:01:51.180 --> 00:01:55.270
在其他情形下隐藏 ImageView？

00:01:55.270 --> 00:01:56.220
我转到了《Android for All》文档

00:01:56.220 --> 00:02:00.000
查看的是 if/else 语句

00:02:00.000 --> 00:02:02.940
在上一门课程的第三节课中

00:02:02.940 --> 00:02:05.570
我们可以使用控制流程语句

00:02:05.570 --> 00:02:08.130
使我们的代码具有不同的行为

00:02:08.130 --> 00:02:10.919
也就是我们可以根据特定的测试条件（如图中的开关一样）

00:02:10.919 --> 00:02:15.180
执行不同分支的代码

00:02:15.180 --> 00:02:17.300
就像这里的火车轨道一样

00:02:17.300 --> 00:02:21.100
对于 Number Family 和 Color Words 我们可以进入一个分支

00:02:22.470 --> 00:02:26.010
而对于 Phrases 我们可以进入另一个分支

00:02:26.010 --> 00:02:28.750
更具体地说 我们的代码该如何修改

00:02:28.750 --> 00:02:31.020
或对于 Number Family 和 Color Words 该如何操作？

00:02:31.020 --> 00:02:33.650
我们希望执行这部分代码块 以便在 ImageView 上

00:02:33.650 --> 00:02:35.930
设置正确的图片

00:02:35.930 --> 00:02:39.190
但对于 Phrases 来说 我们希望跳过这段逻辑代码

00:02:39.190 --> 00:02:42.600
隐藏 ImageView 使其不显示任何内容

00:02:42.600 --> 00:02:45.520
我们在测试题的第二个问题里写上该答案吧

00:02:45.520 --> 00:02:49.430
请描述如何修改我们的代码来解决该问题

00:02:49.430 --> 00:02:54.160
我们可以修改 WordAdapter 只针对

00:02:54.160 --> 00:02:56.840
Number Family 和 Color Words 向 ImageView 分配图片

00:02:56.840 --> 00:03:00.150
对于 Phrases 我们可以隐藏 ImageView

00:03:00.150 --> 00:03:03.720
我不知道大家怎么想的 但我对这个答案还是不太满意

00:03:04.860 --> 00:03:07.560
还是很难用代码来实现

00:03:07.560 --> 00:03:11.210
我们需要更深入地思考单词位于哪个类别

00:03:12.410 --> 00:03:13.090
我们看看 Word 类

00:03:13.090 --> 00:03:16.480
一种解决方法是添加新的变量

00:03:16.480 --> 00:03:19.770
来跟踪每个单词所处的类别

00:03:19.770 --> 00:03:22.109
但最终 我们只需知道

00:03:22.109 --> 00:03:23.868
是否应该隐藏该 ImageView

00:03:23.868 --> 00:03:27.004
在 Word 类中 我们已经拥有

00:03:27.004 --> 00:03:28.285
图片资源 ID 字段

00:03:28.285 --> 00:03:30.435
我说的字段 是指类的

00:03:30.435 --> 00:03:32.470
全局变量

00:03:32.470 --> 00:03:35.420
为了判断我们是否应该在列表项中隐藏 ImageView

00:03:35.420 --> 00:03:39.985
我们可以查看该构造函数是否设置了这个 ImageView

00:03:41.530 --> 00:03:45.090
我再回去更新下这道题的答案

00:03:45.090 --> 00:03:47.960
我们可以修改 WordAdapter

00:03:47.960 --> 00:03:50.160
使用 if/else 语句

00:03:50.160 --> 00:03:54.190
如果 Word 对象具有相关的图片 则显示 ImageView

00:03:54.190 --> 00:03:56.510
否则隐藏 ImageView

00:03:56.510 --> 00:03:58.120
这就是答案 这将更有助于我们

00:03:58.120 --> 00:04:01.020
编写代码来作出更改

00:04:01.020 --> 00:04:03.622
之前的答案太模糊了

00:04:03.622 --> 00:04:06.170
知道答案后 我们转到下一步吧

