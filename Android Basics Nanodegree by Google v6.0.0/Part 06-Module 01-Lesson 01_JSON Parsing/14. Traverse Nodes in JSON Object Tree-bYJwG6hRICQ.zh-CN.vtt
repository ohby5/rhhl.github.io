WEBVTT
Kind: captions
Language: zh-CN

00:00:00.180 --> 00:00:05.190
非常好 现在我们已经了解了 JSON 的关键值结构

00:00:05.190 --> 00:00:10.140
可以识别各个 JSON 成分了 我们可以利用这一知识

00:00:10.140 --> 00:00:14.690
在 JSON 响应内容中进行导航 从而提取出感兴趣的字段

00:00:14.690 --> 00:00:18.510
也就是说 我们将利用这一知识点 找到一条路径

00:00:18.510 --> 00:00:22.300
从 JSON 响应内容的根开始 遍历途中各个节点

00:00:22.300 --> 00:00:24.560
直到找到我们感兴趣的值

00:00:24.560 --> 00:00:27.541
让我们再次访问上一测验中的 这部分 Twitter 响应

00:00:27.541 --> 00:00:31.530
例如 我们想要提取有关 Chris 最近第四条

00:00:31.530 --> 00:00:33.869
最受欢迎推文的话题标签

00:00:33.869 --> 00:00:38.170
内容是从体育馆走廊里 投球

00:00:38.170 --> 00:00:41.910
我已经提前对响应内容进行了 格式处理 即放到

00:00:41.910 --> 00:00:46.620
jsonformatter.curiousconcept.com 中 让它的可读性更高

00:00:46.620 --> 00:00:48.320
全部内容展开后

00:00:48.320 --> 00:00:53.770
可以发现 在根这里 从这对儿中括号可以看出 这是一个 JSON 数组

00:00:53.770 --> 00:00:57.390
如果折叠所有节点 可以看出

00:00:57.390 --> 00:01:01.650
这个数组中包含 JSONObject 我们可以 解释其中的对象数据

00:01:01.650 --> 00:01:04.900
数组中很可能含有 以时间倒序表示的

00:01:04.900 --> 00:01:06.930
最近发布的推文

00:01:06.930 --> 00:01:11.590
展开其中一条 我们就能够确定 其中包含的 JSONObject

00:01:11.590 --> 00:01:14.750
存储着表示一条推文 的数据

00:01:14.750 --> 00:01:17.610
为了获取最近 第四条推文

00:01:17.610 --> 00:01:22.360
需要使用第三条索引来访问数组的 第四个元素

00:01:22.360 --> 00:01:29.140
所以我们来数一数索引 索引零、第一、 第二、第三条索引

00:01:29.140 --> 00:01:33.600
在这条索引中有一个 JSONObject 我们可以通过 entities 键

00:01:33.600 --> 00:01:38.580
引用的 JSONObject 进一步深入导航

00:01:38.580 --> 00:01:42.960
然后 可以提取 hashtags 键对应的值 其中存储着全部

00:01:42.960 --> 00:01:45.329
话题标签的 JSON 数组

00:01:45.329 --> 00:01:50.488
从这里开始 需要一次 一个地处理每条内容

00:01:50.488 --> 00:01:54.490
对于数组中的每个 JSONObject 我们都需要提取出

00:01:54.490 --> 00:01:56.470
text 键引用的文本字符串

00:01:56.470 --> 00:02:01.760
在这个例子中 第一个话题标签是 NBA 第二个是 knicks

00:02:01.760 --> 00:02:05.920
总而言之 要获取感兴趣的值 我们需要遍历一系列

00:02:05.920 --> 00:02:08.080
JSON 成分

00:02:08.080 --> 00:02:09.370
我们再来看看路径

00:02:10.380 --> 00:02:14.720
从根开始、第三个 JSON 数组 零

00:02:14.720 --> 00:02:18.620
一、二、三 返回一个 JSONObject

00:02:18.620 --> 00:02:23.540
然后利用 entities 键 获取另一个 JSONObject

00:02:23.540 --> 00:02:28.455
然后利用 hashtags 键获取包含 话题标签 JSONObject 的

00:02:28.455 --> 00:02:31.021
JSON 数组

00:02:31.021 --> 00:02:33.016
最后 针对每个 JSONObject

00:02:33.016 --> 00:02:37.840
利用 text 键提取 各个话题标签的名称

00:02:37.840 --> 00:02:39.810
那么这样做的目的是什么呢？

00:02:39.810 --> 00:02:43.658
我们所做的是从响应内容的 JSON 成分中

00:02:43.658 --> 00:02:48.590
划分出一条路径 从而获取要 为应用提取的数据

00:02:48.590 --> 00:02:53.220
我们用来遍历响应的逻辑 正是代码

00:02:53.220 --> 00:02:57.610
在编写 JSON 响应的解析或解构步骤时 应该遵从的

00:02:57.610 --> 00:02:59.570
相同路径遍历

00:03:00.820 --> 00:03:03.870
在下面的测验中 将练习 遍历 JSONObject 树

00:03:03.870 --> 00:03:06.170
从中找出感兴趣的 节点

00:03:06.170 --> 00:03:09.520
为向你展示其他 JSON 响应示例

00:03:09.520 --> 00:03:13.390
我们将阅读一条来自 Instagram API 的 响应示例

00:03:13.390 --> 00:03:17.720
Instagram 是一款极受欢迎的分享照片、视频 的社交媒体应用

00:03:17.720 --> 00:03:21.660
利用其提供的公开 API 可以 以编程的方式访问

00:03:21.660 --> 00:03:22.455
有关媒体文件的信息

00:03:23.810 --> 00:03:28.810
利用这条 URL 我们可以访问有关 某特定媒体文件的信息

00:03:28.810 --> 00:03:31.430
单击响应 (RESPONSE) 按钮 查看响应示例

00:03:31.430 --> 00:03:34.785
 

00:03:34.785 --> 00:03:37.850
Chris 在他的 Instagram 账户上 发布了这张图片

00:03:38.960 --> 00:03:42.510
在向 Instagram API 发送关于 此特定图片的请求后

00:03:42.510 --> 00:03:45.360
我们收到了返回的 JSON 响应

00:03:45.360 --> 00:03:50.360
其中包含有关图片的信息 例如 标签、滤镜

00:03:50.360 --> 00:03:53.570
拍摄时间和一条链接

00:03:53.570 --> 00:03:57.381
在此测验中 将更深入地 了解响应

00:03:57.381 --> 00:03:58.960
并回答一些问题

00:03:58.960 --> 00:04:00.803
在此测验中 希望你能够

00:04:00.803 --> 00:04:04.420
确定对于某些感兴趣字段的 遍历路径

00:04:04.420 --> 00:04:08.540
例如 找出遍历路径 遍历在查看图片所获 点赞数量时

00:04:08.540 --> 00:04:10.950
所必须经过的节点

00:04:10.950 --> 00:04:12.940
我们先来一起完成第一个内容

00:04:12.940 --> 00:04:16.560
那么 快速浏览后我们发现 在 likes 键当中

00:04:16.560 --> 00:04:19.820
存在 count 键 这很可能就是我要找的值

00:04:21.019 --> 00:04:24.330
要找出遍历路径 需要指定 如何从根开始

00:04:24.330 --> 00:04:30.080
也就是 JSONObject 的顶部 直到获取 likes 键值对

00:04:30.080 --> 00:04:33.410
实际上 是 count 键值对 而不是 likes

00:04:33.410 --> 00:04:35.402
首先 从根开始

00:04:35.402 --> 00:04:39.002
然后遍历具有 data 键的 JSONObject

00:04:39.002 --> 00:04:41.333
其中有很多属性 但是

00:04:41.333 --> 00:04:44.130
我们感兴趣的只有 likes 键

00:04:44.130 --> 00:04:48.690
从大括号可以看出 likes 键 映射一个 JSONObject

00:04:48.690 --> 00:04:53.650
其中 我们需要的是 count 键 count 对应整数 5

00:04:53.650 --> 00:04:57.990
那么 回到测验中 我们可以键入 获取 count 键值对

00:04:57.990 --> 00:05:00.950
所需遵从 的路径

00:05:02.060 --> 00:05:05.720
对剩余的其他感兴趣字段 重复相似过程

00:05:05.720 --> 00:05:09.590
写出如何从根 JSONObject 一直遍历到

00:05:09.590 --> 00:05:11.870
正确的键值对

00:05:11.870 --> 00:05:13.700
至于箭头符号

00:05:13.700 --> 00:05:15.840
可以使用短线和 右尖角号输入

00:05:16.920 --> 00:05:18.320
本课到此结束 请单击继续 (Continue)

