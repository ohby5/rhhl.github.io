<!-- udacity2.0 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Parse JSON response in Quake Report app</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3>JSON Parsing</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. Earthquake at the Coffee Shop.html">01. Earthquake at the Coffee Shop</a>
    </li>
    <li class="">
      <a href="02. Where to Find Earthquake Data .html">02. Where to Find Earthquake Data? </a>
    </li>
    <li class="">
      <a href="03. Receiving Mocks from Our Designer.html">03. Receiving Mocks from Our Designer</a>
    </li>
    <li class="">
      <a href="04. Course Map.html">04. Course Map</a>
    </li>
    <li class="">
      <a href="05. Explore USGS Website As A User.html">05. Explore USGS Website As A User</a>
    </li>
    <li class="">
      <a href="06. Drive-Through Data.html">06. Drive-Through Data</a>
    </li>
    <li class="">
      <a href="07. Explore USGS Website As A Developer.html">07. Explore USGS Website As A Developer</a>
    </li>
    <li class="">
      <a href="08. Import Existing Project.html">08. Import Existing Project</a>
    </li>
    <li class="">
      <a href="09. Checking the build.gradle file.html">09. Checking the build.gradle file</a>
    </li>
    <li class="">
      <a href="10. Solution Code on GitHub.html">10. Solution Code on GitHub</a>
    </li>
    <li class="">
      <a href="11. Show more info on each earthquake.html">11. Show more info on each earthquake</a>
    </li>
    <li class="">
      <a href="12. Overview of JSON.html">12. Overview of JSON</a>
    </li>
    <li class="">
      <a href="13. JSON Components.html">13. JSON Components</a>
    </li>
    <li class="">
      <a href="14. Traverse Nodes in JSON Object Tree.html">14. Traverse Nodes in JSON Object Tree</a>
    </li>
    <li class="">
      <a href="15. Parsing JSON in Android.html">15. Parsing JSON in Android</a>
    </li>
    <li class="">
      <a href="16. Look at Earthquake Query Result.html">16. Look at Earthquake Query Result</a>
    </li>
    <li class="">
      <a href="17. Traversing Earthquake JSON Object Tree.html">17. Traversing Earthquake JSON Object Tree</a>
    </li>
    <li class="">
      <a href="18. Parse JSON response in Quake Report app.html">18. Parse JSON response in Quake Report app</a>
    </li>
    <li class="">
      <a href="19. Display date and time of earthquake.html">19. Display date and time of earthquake</a>
    </li>
    <li class="">
      <a href="20. Quiz Display date and time of earthquake.html">20. Quiz: Display date and time of earthquake</a>
    </li>
    <li class="">
      <a href="21. Split location into 2 TextViews.html">21. Split location into 2 TextViews</a>
    </li>
    <li class="">
      <a href="22. Magnitude as a Decimal Value.html">22. Magnitude as a Decimal Value</a>
    </li>
    <li class="">
      <a href="23. Switch Statement.html">23. Switch Statement</a>
    </li>
    <li class="">
      <a href="24. Circle Background for Magnitude.html">24. Circle Background for Magnitude</a>
    </li>
    <li class="">
      <a href="25. Visual Polish.html">25. Visual Polish</a>
    </li>
    <li class="">
      <a href="26. Add Earthquake Intent.html">26. Add Earthquake Intent</a>
    </li>
    <li class="">
      <a href="27. Reflection.html">27. Reflection</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">18. Parse JSON response in Quake Report app</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3><p>Parse JSON response in Quake Report app</p></h3>
  <div>
  <div>
    <h4>Question:</h4>


    <p><p>In the last quiz, we already talked about how to traverse the JSON object tree to extract the values we care about. You just parsed JSON in your head! That was a bit of a manual, tedious process though, so let’s get the app to do it for us. We will just have to write down the logic step-by-step so that the app can take care of it for us.</p>
<p>Technically, we would get a real-time response from the Internet, but for now we’re going to simulate the fact that we got <em>this</em> particular JSON response by hardcoding it into our app. That will allow us to build out all the logic in our app and test that it works, so that we can handle any JSON response in the future.</p>
<p>The response we'll be using:<br />
<a href="http://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson&starttime=2016-01-01&endtime=2016-01-31&minmag=6&limit=10" rel="noopener noreferrer" target="_blank">http://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson&starttime=2016-01-01&endtime=2016-01-31&minmag=6&limit=10</a> </p>
<h1 id="your-turn">Your Turn</h1>
<p>In the Quake Report app, you’ll write code to convert this JSON response and turn it into an ArrayList of Earthquake objects with the proper attributes.</p>
<p>Copy/paste the code from the <a href="https://gist.github.com/udacityandroid/10892631f57f9f073ab9e1d11cfaafcf" target="_blank">QueryUtils.java class</a>  (we’ve provided this for you) into a new file within your app. Notice that the particular JSON response we want to use is already defined in the SAMPLE_JSON_RESPONSE String constant at the top of the file.</p>
<p>Finish implementing the TODO that was left in the QueryUtils.extractEarthquakes() method. Here’s some pseudocode of what needs to be done:</p>
<pre><code> Convert SAMPLE_JSON_RESPONSE String into a JSONObject
 Extract “features” JSONArray
 Loop through each feature in the array
 Get earthquake JSONObject at position i
 Get “properties” JSONObject
 Extract “mag” for magnitude
 Extract “place” for location
 Extract “time” for time
 Create Earthquake java object from magnitude, location, and time
 Add earthquake to list of earthquakes</code></pre>
<p>Modify the EarthquakeActivity to call QueryUtils.extractEarthquakes() to get a list of Earthquake objects from the JSON response.</p>
<p>In EarthquakeActivity, instead of creating a fake list of earthquakes:</p>
<pre><code> // Create a fake list of earthquakes.
 ArrayList&lt;Earthquake&gt; earthquakes = new ArrayList&lt;&gt;();
 earthquakes.add(new Earthquake("7.2", "San Francisco", "Feb 2, 2016"));
 earthquakes.add(new Earthquake("6.1", "London", "July 20, 2015"));
 earthquakes.add(new Earthquake("3.9", "Tokyo", "Nov 10, 2014"));
 earthquakes.add(new Earthquake("5.4", "Mexico City", "May 3, 2014"));
 earthquakes.add(new Earthquake("2.8", "Moscow", "Jan 31, 2013"));
 earthquakes.add(new Earthquake("4.9", "Rio de Janeiro", "Aug 19, 2012"));
 earthquakes.add(new Earthquake("1.6", "Paris", "Oct 30, 2011"));</code></pre>
<p>Replace with this code:</p>
<pre><code> // Create a fake list of earthquakes.
 ArrayList&lt;Earthquake&gt; earthquakes = QueryUtils.extractEarthquakes();</code></pre>
<p>The resulting app should look like this:</p>
<p><img src="media/unnamed-160958-0.gif" width=200></p></p>
  </div>

  <h4>Start Quiz:</h4>
  <div>
  <div style="display: block;">
    <div style="position: relative;">
      <img src="img/8919990020.gif" style="width: 100%; max-height: 100%" alt="">
      
    <div style="
    position: absolute; top: 24.575020733006514%; left: 6.820773722077367%; width: 5%; height: 5%;
  ">
      
        <input type="checkbox" style="width: 100%; height: 100%; max-width: 15px; max-height: 15px;" name="null" id="check1" aria-label="">
      
    </div>
  
    <div style="
    position: absolute; top: 41.03382051387541%; left: 6.841531755915317%; width: 5%; height: 5%;
  ">
      
        <input type="checkbox" style="width: 100%; height: 100%; max-width: 15px; max-height: 15px;" name="null" id="check2" aria-label="">
      
    </div>
  
    <div style="
    position: absolute; top: 66.83296152863429%; left: 6.732565379825655%; width: 5%; height: 5%;
  ">
      
        <input type="checkbox" style="width: 100%; height: 100%; max-width: 15px; max-height: 15px;" name="null" id="check3" aria-label="">
      
    </div>
  
    </div>
  </div>
</div>


  <div>
    <details>
      <summary><strong>Solution:</strong></summary>
      <div>
        <video controls>
  <source src="18. Parse JSON response in Quake Report app-G4QByuw7HuE.mp4" type="video/mp4">

  <track default="true" kind="subtitles" srclang="en" src="18. Parse JSON response in Quake Report app-G4QByuw7HuE.en.vtt" label="en">
  <track default="false" kind="subtitles" srclang="id-ID" src="18. Parse JSON response in Quake Report app-G4QByuw7HuE.id-ID.vtt" label="id-ID">
  <track default="false" kind="subtitles" srclang="zh-CN" src="18. Parse JSON response in Quake Report app-G4QByuw7HuE.zh-CN.vtt" label="zh-CN">
  <track default="false" kind="subtitles" srclang="ar" src="18. Parse JSON response in Quake Report app-G4QByuw7HuE.ar.vtt" label="ar">
  <track default="false" kind="subtitles" srclang="pt-BR" src="18. Parse JSON response in Quake Report app-G4QByuw7HuE.pt-BR.vtt" label="pt-BR">
  <track default="false" kind="subtitles" srclang="id" src="18. Parse JSON response in Quake Report app-G4QByuw7HuE.id.vtt" label="id">
</video>


      </div>
    </details>
  </div>
</div>


</div>
<div class="divider"></div>
          </div>

          <div class="col-12">
            <p class="text-right">
              <a href="19. Display date and time of earthquake.html" class="btn btn-outline-primary mt-4" role="button">Next Concept</a>
            </p>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://us-udacity.github.io/" target="_blank">【udacity2.0 】If you need more courses, please add wechat：udacity6</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('18. Parse JSON response in Quake Report app')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
</body>

</html>
