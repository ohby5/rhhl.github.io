<!-- udacity2.0 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Empty State of the List</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3>Threads &amp; Parallelism</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. Intro.html">01. Intro</a>
    </li>
    <li class="">
      <a href="02. Did You Feel It App.html">02. &quot;Did You Feel It?&quot; App</a>
    </li>
    <li class="">
      <a href="03. Main vs Background Threads 1.html">03. Main vs Background Threads 1</a>
    </li>
    <li class="">
      <a href="04. Main vs Background Threads 2.html">04. Main vs Background Threads 2</a>
    </li>
    <li class="">
      <a href="05. Main vs Background Threads 3.html">05. Main vs Background Threads 3</a>
    </li>
    <li class="">
      <a href="06. AsyncTask to the Rescue.html">06. AsyncTask to the Rescue</a>
    </li>
    <li class="">
      <a href="07. AsyncTask Callback Methods.html">07. AsyncTask Callback Methods</a>
    </li>
    <li class="">
      <a href="08. Review of Generics.html">08. Review of Generics</a>
    </li>
    <li class="">
      <a href="09. AsyncTask Generic Params.html">09. AsyncTask Generic Params</a>
    </li>
    <li class="">
      <a href="10. Inner Classes.html">10. Inner Classes</a>
    </li>
    <li class="">
      <a href="11. Fix the Did You Feel It App.html">11. Fix the &quot;Did You Feel It?&quot; App</a>
    </li>
    <li class="">
      <a href="12. Handle Empty or Null Cases.html">12. Handle Empty or Null Cases</a>
    </li>
    <li class="">
      <a href="13. Plan Changes to Quake Report App.html">13. Plan Changes to Quake Report App</a>
    </li>
    <li class="">
      <a href="14. AsyncTask Generic Params in Quake Report App.html">14. AsyncTask Generic Params in Quake Report App</a>
    </li>
    <li class="">
      <a href="15. Networking in Quake Report App.html">15. Networking in Quake Report App</a>
    </li>
    <li class="">
      <a href="16. Limitations of AsyncTask.html">16. Limitations of AsyncTask</a>
    </li>
    <li class="">
      <a href="17. Intro to Loaders, Part 1.html">17. Intro to Loaders, Part 1</a>
    </li>
    <li class="">
      <a href="18. Intro to Loaders, Part 2.html">18. Intro to Loaders, Part 2</a>
    </li>
    <li class="">
      <a href="19. Switch to Using a Loader.html">19. Switch to Using a Loader</a>
    </li>
    <li class="">
      <a href="20. Verify Loader Behavior.html">20. Verify Loader Behavior</a>
    </li>
    <li class="">
      <a href="21. Empty State of the List.html">21. Empty State of the List</a>
    </li>
    <li class="">
      <a href="22. Loading Indicator.html">22. Loading Indicator</a>
    </li>
    <li class="">
      <a href="23. No Internet Connection.html">23. No Internet Connection</a>
    </li>
    <li class="">
      <a href="24. Check Network Connectivity Status.html">24. Check Network Connectivity Status</a>
    </li>
    <li class="">
      <a href="25. Congrats.html">25. Congrats</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">21. Empty State of the List</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3><p>Empty State of the List</p></h3>
  <div>
  <div>
    <h4>Question:</h4>

    <video controls>
  <source src="21. Empty State of the List-YxYEFBzpV54.mp4" type="video/mp4">

  <track default="true" kind="subtitles" srclang="en" src="21. Empty State of the List-YxYEFBzpV54.en.vtt" label="en">
  <track default="false" kind="subtitles" srclang="id-ID" src="21. Empty State of the List-YxYEFBzpV54.id-ID.vtt" label="id-ID">
  <track default="false" kind="subtitles" srclang="zh-CN" src="21. Empty State of the List-YxYEFBzpV54.zh-CN.vtt" label="zh-CN">
  <track default="false" kind="subtitles" srclang="ar" src="21. Empty State of the List-YxYEFBzpV54.ar.vtt" label="ar">
  <track default="false" kind="subtitles" srclang="pt-BR" src="21. Empty State of the List-YxYEFBzpV54.pt-BR.vtt" label="pt-BR">
  <track default="false" kind="subtitles" srclang="id" src="21. Empty State of the List-YxYEFBzpV54.id.vtt" label="id">
</video>


  </div>

  <h4>Start Quiz:</h4>
  <div>
  <div style="display: block;">
    <div style="position: relative;">
      <img src="img/8974030337.gif" style="width: 100%; max-height: 100%" alt="">
      
    <div style="
    position: absolute; top: 21.192488913525498%; left: 7.3955735660847886%; width: 5%; height: 5%;
  ">
      
        <input type="checkbox" style="width: 100%; height: 100%; max-width: 15px; max-height: 15px;" name="null" id="check1" aria-label="">
      
    </div>
  
    <div style="
    position: absolute; top: 41.05806541019955%; left: 7.736518079800499%; width: 5%; height: 5%;
  ">
      
        <input type="checkbox" style="width: 100%; height: 100%; max-width: 15px; max-height: 15px;" name="null" id="check2" aria-label="">
      
    </div>
  
    <div style="
    position: absolute; top: 62.28173503325942%; left: 8.024859725685786%; width: 5%; height: 5%;
  ">
      
        <input type="checkbox" style="width: 100%; height: 100%; max-width: 15px; max-height: 15px;" name="null" id="check3" aria-label="">
      
    </div>
  
    </div>
  </div>
</div>


  <div>
    <details>
      <summary><strong>Solution:</strong></summary>
      <div>

        <p><p>Here are the changes you need to make in order to show the empty view.</p>
<p>For the first task, we modify the earthquake_activity layout. Instead of a single ListView, we add a parent RelativeLayout, because it allows children views to overlap each other. The first child is the ListView, with width/height match parent, to take up the full screen. The second child is a TextView, which will be the empty view. The TextView has height and width wrap_content, and we center it vertically and horizontally within the parent with the attribute </p>
<pre><code>  “android:layout_centerInParent” = true. </code></pre>
<p>In earthquake_activity.xml:</p>
<pre><code>  &lt;RelativeLayout
     xmlns:android="http://schemas.android.com/apk/res/android"
     android:layout_width="match_parent"
     android:layout_height="match_parent"&gt;

     &lt;ListView
         android:id="@+id/list"
         android:orientation="vertical"
         android:layout_width="match_parent"
         android:layout_height="match_parent"
         android:divider="@null"
         android:dividerHeight="0dp"/&gt;

     &lt;!-- Empty view is only visible when the list has no items. --&gt;
     &lt;TextView
         android:id="@+id/empty_view"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         android:layout_centerInParent="true"
         android:textAppearance="?android:textAppearanceMedium"/&gt;

  &lt;/RelativeLayout&gt;</code></pre>
<p>Now we need to hook up the TextView as the empty view of the ListView. We can use the ListView setEmptyView() method. We can also make the empty state TextView be a global variable, so we can refer to it in a later method. The TextView class was also automatically imported into the java file, as soon as we used that class.</p>
<p>In EarthquakeActivity.java:</p>
<pre><code>  /** TextView that is displayed when the list is empty */
  private TextView mEmptyStateTextView;

  @Override
  protected void onCreate(Bundle savedInstanceState) {

       …

      mEmptyStateTextView = (TextView) findViewById(R.id.empty_view);
      earthquakeListView.setEmptyView(mEmptyStateTextView);

      … 
  }</code></pre>
<p>To avoid the “No earthquakes found.” message blinking on the screen when the app first launches, we can leave the empty state TextView blank, until the first load completes. In the onLoadFinished callback method, we can set the text to be the string “No earthquakes found.” It’s okay if this text is set every time the loader finishes because it’s not too expensive of an operation. There’s always tradeoffs, and this user experience is better.</p>
<p>In EarthquakeActivity.java:</p>
<pre><code>  @Override
  public void onLoadFinished(Loader&lt;List&lt;Earthquake&gt;&gt; loader, List&lt;Earthquake&gt; earthquakes) {
     // Set empty state text to display "No earthquakes found."
     mEmptyStateTextView.setText(R.string.no_earthquakes);

     …
  }</code></pre>
<p>Also remember to declare the empty state message as a string in the resources file, so the app can be localized to other languages (if you decide to support those in the future).</p>
<pre><code>  &lt;!-- Text to display in the list when there are no earthquakes [CHAR LIMIT=NONE] --&gt;
  &lt;string name="no_earthquakes"&gt;No earthquakes found.&lt;/string&gt;</code></pre>
<p>Run the app on your device to check that it still works.</p>
<p><img src="media/unnamed-161298-0.gif" width="200"></p>
<p>To test the empty state, you can temporarily comment out the line of code that adds earthquake data to the adapter, which is the mAdapter.addAll(earthquakes) method call. This will pretend like 0 results came back from the web server, and you should see the empty state in the app.</p>
<p>In EarthquakeActivity.java:</p>
<pre><code>  @Override
  public void onLoadFinished(Loader&lt;List&lt;Earthquake&gt;&gt; loader, List&lt;Earthquake&gt; earthquakes) {
     // Set empty state text to display "No earthquakes found."
     mEmptyStateTextView.setText(R.string.no_earthquakes);

     // Clear the adapter of previous earthquake data
     mAdapter.clear();

     // If there is a valid list of {@link Earthquake}s, then add them to the adapter's
     // data set. This will trigger the ListView to update.
     if (earthquakes != null &amp;&amp; !earthquakes.isEmpty()) {
         // mAdapter.addAll(earthquakes);
     }
  }</code></pre>
<p><img src="media/unnamed-161298-1.gif" width="200">         <br />
(Source image)          </p>
<p>Then undo this change, and continue to the next task! Great work on improving the user experience of your app!</p>
<p>In the discussion forum, if you shared a screenshot of an Android app that tries to make the empty state be a pleasant user experience, thank you!</p></p>
      </div>
    </details>
  </div>
</div>


  <div class="jumbotron" style="margin-top: 50px; margin-bottom: 50px;">
    <h3>INSTRUCTOR NOTE:</h3>
    <p><strong>Optional:</strong> Do you know of an Android app that tries to make the empty state be a pleasant user experience? Share a screenshot in the discussion forum.</p>
<p>ListView <a href="https://developer.android.com/reference/android/widget/AdapterView.html?utm_source=udacity&utm_medium=course&utm_campaign=android_basics#setEmptyView(android.view.View)" target="_blank">setEmptyView()</a> method.</p>
<p>Material Design guidelines on <a href="https://material.google.com/patterns/empty-states.html?utm_source=udacity&utm_medium=course&utm_campaign=android_basics" target="_blank">empty states</a>.</p>
  </div>
</div>
<div class="divider"></div>
          </div>

          <div class="col-12">
            <p class="text-right">
              <a href="22. Loading Indicator.html" class="btn btn-outline-primary mt-4" role="button">Next Concept</a>
            </p>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://us-udacity.github.io/" target="_blank">【udacity2.0 】If you need more courses, please add wechat：udacity6</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('21. Empty State of the List')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
</body>

</html>
