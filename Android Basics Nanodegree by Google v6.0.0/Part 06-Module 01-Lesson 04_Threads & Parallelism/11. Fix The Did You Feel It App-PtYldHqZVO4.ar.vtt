WEBVTT
Kind: captions
Language: ar

00:00:00.300 --> 00:00:04.101
‫مشكلة الكود الحالي أنه في وظيفة
‫onCreate في MainActivity..

00:00:04.501 --> 00:00:07.235
‫نحاول تنفيذ طلب الشبكة
‫على الخيط الرئيسي

00:00:07.701 --> 00:00:11.635
‫الآن نريد نقل استدعاء هاتين
‫الوظيفتين داخل AsyncTask

00:00:12.267 --> 00:00:15.801
‫استدعاء وظيفة fetchEarthquakeData
‫يفترض أن يعمل في خيط خلفي

00:00:16.334 --> 00:00:19.968
‫بينما استدعاء updateUI يفترض أن
‫يعمل على خيط الواجهة أو الرئيسي

00:00:20.133 --> 00:00:22.367
‫بعد تلقينا كائن نتيجة الزلزال

00:00:23.467 --> 00:00:25.234
‫لنقم ببعض البرمجة الحية

00:00:25.601 --> 00:00:29.968
‫أولاً سأعرف فئة فرعية من AsyncTask
‫اسمها EarthquakeAsyncTask

00:00:30.601 --> 00:00:33.601
‫كما سأعرفها كفئة داخلية
‫خاصة في MainActivity

00:00:34.133 --> 00:00:36.433
‫إن لم يتم استيراد AsyncTask بالفعل..

00:00:36.467 --> 00:00:39.068
‫سأستخدام اختصار الإصلاح
‫السريع في آندرويد ستوديو

00:00:39.267 --> 00:00:40.334
‫Alt+Enter

00:00:40.701 --> 00:00:44.135
‫ليتم استيراد AsyncTask آلياً
‫في أعلى ملف جافا

00:00:46.000 --> 00:00:47.968
‫وكما ترى، تم استيرادها هنا

00:00:48.834 --> 00:00:53.134
‫كما ترى من الخط الأحمر المتعرج، فإن
‫آندرويد ستوديو لا يزال يبلغ عن خطأ

00:00:53.300 --> 00:00:55.433
‫لذا سأستخدم الإصلاح السريع مجدداً

00:00:55.534 --> 00:00:58.667
‫عبر ضغط Alt+Enter لإنشاء الوظائف
‫التي أحتاج لتجاوزها آلياً

00:00:59.501 --> 00:01:01.501
‫باشر باختيار Implement methods

00:01:02.067 --> 00:01:05.734
‫وسأنقر (موافق) هنا لتطبيق الكود
‫الافتراضي لوظيفة doInBackground

00:01:06.734 --> 00:01:08.834
‫لنراجع الأنواع العامة المستخدمة هنا

00:01:09.167 --> 00:01:11.934
‫حددت النوع String لمدخل params..

00:01:12.067 --> 00:01:16.234
‫لأن عبارة رابط USGS
‫ستكون مدخلات doInBackground

00:01:16.701 --> 00:01:18.635
‫استخدمت Void لباراميتر التقدم

00:01:18.734 --> 00:01:22.668
‫لأني لا أريد إطلاع المستخدم دورياً
‫على تقدم هذه المهمة تحديداً

00:01:22.834 --> 00:01:25.934
‫ولباراميتر النتيجة،
‫حددت نوع البيانات Event..

00:01:26.133 --> 00:01:29.200
‫لأني أريد لنتيجة عمل الخلفية
‫أن تكون كائن Event

00:01:29.901 --> 00:01:34.235
‫يمكننا الآن نقل fetchEarthquakeData
‫مباشرة داخل وظيفة doInBackground

00:01:34.367 --> 00:01:36.235
‫لكن لا يزال لدينا بضع تعديلات

00:01:37.267 --> 00:01:41.300
‫بدلاً من تثبيت قيمة هذه المهمة برمجياً
‫لتعمل مع رابط USGS هذا بالتحديد..

00:01:41.701 --> 00:01:46.168
‫سأستخدم باراميتر المدخل عبر الوصول
‫للعنصر الصفري في مصفوفة الروابط

00:01:46.734 --> 00:01:50.468
‫هكذا، يمكن أن تعمل EarthquakeAsyncTask
‫مع أي عبارة رابط آخر

00:01:51.067 --> 00:01:54.634
‫كما سأرجع كائن الحدث Event كقيمة
‫مرتجعة من وظيفة doInBackground

00:01:54.834 --> 00:01:57.967
‫كما سنرغب أيضاً في تجاوز
‫onPostExecuteCallback

00:01:58.234 --> 00:02:01.434
‫فيها، سنتلقى كائن (الحدث)
‫المسترجع سابقاً هنا..

00:02:01.734 --> 00:02:03.134
‫في وظيفة doInBackground

00:02:03.434 --> 00:02:06.434
‫عظيم، انتهينا من تعريف
‫EarthquakeAsyncTask

00:02:07.067 --> 00:02:10.134
‫كما أضفت التعليقات
‫على الوظائف والفئة أيضاً

00:02:10.667 --> 00:02:13.667
‫الآن وفي MainActivity
‫في وظيفة onCreate..

00:02:13.901 --> 00:02:15.901
‫يمكنني الآن إنشاء مهمة جديدة..

00:02:16.501 --> 00:02:19.768
‫واستدعي execute عليها
‫بينما أمرر رابط معين

00:02:20.300 --> 00:02:23.333
‫حسناً، لنترجم التطبيق ونشغله على جهازنا

00:02:24.534 --> 00:02:27.834
‫جيد، لم يعد تطبيقنا ينهار، مرحى!

00:02:28.567 --> 00:02:33.368
‫كما ترى، يعرض التطبيق تفاصيل
‫زلزال بقوة 7.8 في (الإكوادور)

00:02:33.934 --> 00:02:36.201
‫الآن، شعر به 183 شخص

00:02:36.601 --> 00:02:39.701
‫وفي المتوسط، فقد شعروا أنه بقوة 9.1

00:02:40.868 --> 00:02:42.402
‫هذا زلزال كبير نوعاً ما

00:02:43.534 --> 00:02:46.402
‫على أية حال، إن رغبت في
‫تفقد الكود الذي كتبته لتوي..

00:02:46.501 --> 00:02:48.834
‫راجع الرابط أدناه لمستودع (جيت هاب)

00:02:49.067 --> 00:02:52.035
‫إن تمكنت من إكمال هذا التدريب، فمبارك!

00:02:52.501 --> 00:02:54.402
‫وإن لم تفعل، فلا بأس مطلقاً

00:02:54.868 --> 00:02:58.836
‫لشخص بدأ تعلم آندرويد وجافا
‫منذ بضعة أشهر أو أسابيع مضت..

00:02:59.200 --> 00:03:02.434
‫فإن إنشاء اتصال شبكي في خيط خلفي
‫وتطبيق وظائف مستدعاة..

00:03:02.501 --> 00:03:05.102
‫في فئة فرعية من فئة تستخدم أنواع عامة..

00:03:05.200 --> 00:03:07.667
‫رباه، هذا كثير من المفاهيم التي تتجمع

00:03:07.834 --> 00:03:09.834
‫ويجب أن تفخر بما قطعت من أشواط

