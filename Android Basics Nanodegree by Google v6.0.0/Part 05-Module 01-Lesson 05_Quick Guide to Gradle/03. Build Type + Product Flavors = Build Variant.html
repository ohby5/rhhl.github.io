<!-- udacity2.0 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Build Type + Product Flavors &#x3D; Build Variant</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3>Quick Guide to Gradle</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. What is Gradle.html">01. What is Gradle?</a>
    </li>
    <li class="">
      <a href="02. Build Configuration Files (build.gradle).html">02. Build Configuration Files (build.gradle)</a>
    </li>
    <li class="">
      <a href="03. Build Type + Product Flavors &#x3D; Build Variant.html">03. Build Type + Product Flavors &#x3D; Build Variant</a>
    </li>
    <li class="">
      <a href="04. Elements of build.gradle file.html">04. Elements of build.gradle file</a>
    </li>
    <li class="">
      <a href="05. Using Gradle in Android Studio.html">05. Using Gradle in Android Studio</a>
    </li>
    <li class="">
      <a href="06. Additional Resources.html">06. Additional Resources</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">03. Build Type + Product Flavors = Build Variant</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3></h3>
  <div>
  <h1 id="build-type--product-flavors--build-variant">Build Type + Product Flavors = Build Variant</h1>
<p>(<a href="http://tools.android.com/tech-docs/new-build-system/user-guide#TOC-Build-Variants" rel="noopener noreferrer" target="_blank">Source</a>)</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/screen-shot-2017-09-12-at-4.45.39-pm.png" alt="Use the Build Variant Tool Window to change the build variant. It’s also accessible from the toolbar **Build &gt; Select Build Variant**" class="img img-fluid">
    <figcaption class="figure-caption">
      <p>Use the Build Variant Tool Window to change the build variant. It’s also accessible from the toolbar <strong>Build > Select Build Variant</strong></p>
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>As alluded previously, it’s very common for a single app to have different variations which come about by different Build Types and Product Flavors (Build Type + Product Flavors = Build Variant). </p>
<h2 id="build-types">Build Types</h2>
<p>Android will automatically build a <em>debug</em> and <em>release</em> version for any application.  The biggest difference between the two is how the APK is signed - the <em>debug</em> version is signed with an auto-generated key + certificate so it can be built on the spot while the <em>release</em> version is not signed during the build, therefore  a release key + certificate need to be created and signing happens after the build.</p>
<p>(APK is short for Application Package Kit.  Application Package Kit  is the file format used for installing software on the Android operating system. Files with this format have the extension .apk)</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/screen-shot-2017-09-12-at-4.46.53-pm.png" alt="Note the 2 buildTypes - release and debugs - found in the module-level build.gradle file. Within each buildType are specified properties. See a full list of buildType properties [here](http://google.github.io/android-gradle-dsl/current/com.android.build.gradle.internal.dsl.BuildType.html). " class="img img-fluid">
    <figcaption class="figure-caption">
      <p>Note the 2 buildTypes - release and debugs - found in the module-level build.gradle file. Within each buildType are specified properties. See a full list of buildType properties <a href="http://google.github.io/android-gradle-dsl/current/com.android.build.gradle.internal.dsl.BuildType.html" rel="noopener noreferrer" target="_blank">here</a>. </p>
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="product-flavors">Product Flavors</h2>
<p>In addition to Build Types which allow us to apply specify how to build and package an app, Android Studio also provides Product Flavors, which allow developers to build out and manage different code versions of a single app. For example, an app may have different flavors depending on code or depending on context (e.g. connectivity, device and API requirements, min and target API levels). </p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/screen-shot-2017-09-12-at-4.47.33-pm.png" alt="Example of configured product Flavors in the module-level build.gradle file" class="img img-fluid">
    <figcaption class="figure-caption">
      <p>Example of configured product Flavors in the module-level build.gradle file</p>
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="build-variants">Build Variants</h2>
<p>The combination of different Build Types and Product Flavors gives us the possible Build Variants. Gradle automatically creates build variants based on your build types and product flavors, and names them according to <code>&lt;product-flavor&gt;&lt;Build-Type&gt;</code>.</p>
<p>For example, if we have the following:</p>
<ul>
<li>2 Build Types — debug and release</li>
</ul>
<p>And</p>
<ul>
<li>2 Product Flavors — staging and production</li>
</ul>
<p>There will be 4 APKs generated by the project:</p>
<ul>
<li>app-staging-debug.apk</li>
<li>app-staging-release.apk</li>
<li>app-production-debug.apk</li>
<li>app-production-release.apk</li>
</ul>
<p>This may seem like a lot, but just remember:</p>
<h3 id="build-type--product-flavors--build-variant">Build Type + Product Flavors = Build Variant</h3>
</div>

</div>
<div class="divider"></div>
          </div>

          <div class="col-12">
            <p class="text-right">
              <a href="04. Elements of build.gradle file.html" class="btn btn-outline-primary mt-4" role="button">Next Concept</a>
            </p>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://us-udacity.github.io/" target="_blank">【udacity2.0 】If you need more courses, please add wechat：udacity6</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('03. Build Type + Product Flavors &#x3D; Build Variant')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
</body>

</html>
