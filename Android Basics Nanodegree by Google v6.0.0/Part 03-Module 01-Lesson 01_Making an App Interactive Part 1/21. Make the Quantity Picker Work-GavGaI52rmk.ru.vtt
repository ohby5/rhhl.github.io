WEBVTT
Kind: captions
Language: ru

00:00:00.270 --> 00:00:03.330
В прошлом видео мы уже
прошли первые два этапа.

00:00:03.330 --> 00:00:06.370
Теперь я покажу вам пару моментов, с
которыми можно поэкспериментировать.

00:00:06.670 --> 00:00:10.040
Я бы хотела изменить
начальное значение quantity,

00:00:10.040 --> 00:00:13.690
чтобы при запуске приложения
отображалось число 0, а не 2.

00:00:13.690 --> 00:00:17.030
Чтобы это сделать, мне нужно
изменить первоначальное значение

00:00:17.030 --> 00:00:19.400
переменной quantity на 0.

00:00:19.400 --> 00:00:22.930
Тогда методы increment и
decrement должны работать, как надо.

00:00:22.930 --> 00:00:24.390
Когда будет вызван метод increment,

00:00:24.390 --> 00:00:27.170
он задействует последнее значение
quantity и прибавит к нему единицу.

00:00:27.170 --> 00:00:31.040
Когда будет вызван метод decrement,
он вычтет единицу из величины quantity.

00:00:31.040 --> 00:00:32.850
Давайте проверим, работает ли это.

00:00:32.950 --> 00:00:34.040
Странно.

00:00:34.040 --> 00:00:35.490
Я хотела, чтобы здесь отображался 0.

00:00:35.490 --> 00:00:39.700
Если я нажимаю кнопку "+",
то значение изменяется на 1,

00:00:39.700 --> 00:00:43.850
то есть уменьшается.
Но теперь оно увеличивается.

00:00:43.850 --> 00:00:46.110
Итак, эти кнопки, кажется,
работают, но почему-то

00:00:46.110 --> 00:00:49.120
первоначальное значение неверное.

00:00:49.120 --> 00:00:52.350
Ах да, мы забыли изменить
файл разметки Activity_main.

00:00:52.350 --> 00:00:55.050
В этой разметке есть элемент
TextView, в котором изначальное

00:00:55.050 --> 00:00:56.860
значение text установлено на 2.

00:00:56.860 --> 00:01:01.290
Это должно решить проблему с
отображением значения 2 при запуске.

00:01:01.290 --> 00:01:02.570
Прекрасно.
Теперь 0 отображается

00:01:02.570 --> 00:01:04.660
в качестве начального значения.

00:01:04.660 --> 00:01:07.310
А когда я жму на кнопку увеличения,
величина обновляется правильно.

00:01:07.310 --> 00:01:10.140
При нажатии на кнопку уменьшения
величина также обновляется правильно.

00:01:10.200 --> 00:01:13.330
Как вы видите, начальное количество
обозначается в двух местах,

00:01:13.630 --> 00:01:15.900
и это немного запутывает.

00:01:15.900 --> 00:01:19.660
Наличие двух мест в коде,
обозначающих одно и то же,

00:01:19.660 --> 00:01:24.080
в будущем может привести к ошибкам,
что мы только что увидели.

00:01:24.080 --> 00:01:28.150
Более продвинутый способ решить
эту проблему – сделать так, чтобы

00:01:28.150 --> 00:01:31.990
величина 0 отображалась в main activity
непосредственно при запуске приложения,

00:01:31.990 --> 00:01:35.040
а не зависела от
разметки.

00:01:35.040 --> 00:01:37.890
Тогда единственным источником будет
вот эта глобальная переменная.

00:01:37.890 --> 00:01:39.260
Но пока не беспокойтесь об этом.

00:01:39.260 --> 00:01:43.280
Это продвинутое решение, которое
вы сможете применить после Урока 3.

00:01:43.280 --> 00:01:47.060
Другой способ поэкспериментировать с
кодом – сделать так, чтобы при каждом

00:01:47.060 --> 00:01:49.510
нажатии кнопки "+" число заказанных
чашек кофе удваивалось, а

00:01:49.510 --> 00:01:53.250
при нажатии кнопки "-" это число
сокращалось бы вдвое.

00:01:53.260 --> 00:01:55.270
Установим первоначальную
величину равной 2, чтобы

00:01:55.360 --> 00:01:59.110
при нажатии кнопки "-" мы могли
сократить число по крайней мере один раз.

00:02:00.140 --> 00:02:01.730
При вызове метода increment

00:02:01.730 --> 00:02:04.110
нам нужно, чтобы число заказанных
чашек кофе удвоилось.

00:02:04.110 --> 00:02:07.900
Мы должны взять текущую переменную
quantity и умножить ее на 2.

00:02:07.900 --> 00:02:10.288
Полученная величина становится
новым значением quantity и

00:02:10.288 --> 00:02:12.550
отображается на экране.

00:02:12.550 --> 00:02:14.900
Однако
у нас еще остается метод decrement.

00:02:14.900 --> 00:02:19.090
При вызове этого метода нам нужно,
чтобы число чашек сокращалось вдвое.

00:02:19.090 --> 00:02:21.720
Мы должны взять текущую переменную
quantity и разделить ее на 2.

00:02:22.960 --> 00:02:24.470
Результат станет новой величиной

00:02:24.470 --> 00:02:25.860
quantity и отобразится на экране.

00:02:25.860 --> 00:02:26.910
Попробуем сделать это.

00:02:28.060 --> 00:02:30.660
Вы видите, что при изменении
начального значения quantity

00:02:30.660 --> 00:02:32.000
могут появляться ошибки.

00:02:32.000 --> 00:02:33.850
Нужно менять значение в обоих местах.

00:02:33.850 --> 00:02:35.005
Теперь запустим приложение.

00:02:35.105 --> 00:02:36.460
Хорошо.

00:02:36.460 --> 00:02:38.650
Сначала отображается начальное
количество – 2.

00:02:38.650 --> 00:02:41.660
При нажатии на кнопку увеличения
число должно удваиваться.

00:02:41.660 --> 00:02:43.070
Прекрасно.
Оно удваивается.

00:02:43.070 --> 00:02:44.350
При нажатии на кнопку "-"

00:02:44.350 --> 00:02:46.820
число заказанных чашек кофе
должно сокращаться вдвое.

00:02:46.820 --> 00:02:49.530
И оно сокращается.

00:02:49.530 --> 00:02:54.260
Запустив это в отладчике, мы увидим, как
переменные обновляются при каждом нажатии.

00:02:54.260 --> 00:02:57.358
Начальное значение quantity равняется 2,
затем обновляется на 4.

00:02:57.358 --> 00:03:01.830
Потом quantity
со значения 4

00:03:01.830 --> 00:03:05.050
обновляется до 8, и так далее.

00:03:06.870 --> 00:03:09.960
Я уверена, вы придумаете более
интересные способы поиграть с

00:03:09.960 --> 00:03:11.300
этим указателем количества.

00:03:11.300 --> 00:03:15.420
Надеюсь, этот урок помог вам лучше
понять использование глобальных переменных.

00:03:15.420 --> 00:03:19.020
Однако, если я жму на кнопку заказа,
приложение не показывает цену

00:03:19.020 --> 00:03:21.100
заказанных мной чашек кофе.

00:03:21.100 --> 00:03:22.430
Исправим это в следующем видео.

