WEBVTT
Kind: captions
Language: zh-CN

00:00:00.558 --> 00:00:03.190
我想你已经准备好进行下一步 即创建数量选择器

00:00:04.480 --> 00:00:07.520
在我们的命令表里 想要增加一个 + 和 - 的按钮

00:00:07.520 --> 00:00:10.270
这样我们就可以增加和减少订购咖啡的数量

00:00:10.270 --> 00:00:12.255
每点击 + 按钮一次

00:00:12.255 --> 00:00:14.934
咖啡的数量加 1

00:00:14.934 --> 00:00:16.235
每点击 - 一次

00:00:16.235 --> 00:00:17.780
咖啡的数量减 1

00:00:18.920 --> 00:00:20.040
然后当你点击 ORDER 按钮时

00:00:20.040 --> 00:00:23.110
它将会根据最新的咖啡数量值更新价格

00:00:24.580 --> 00:00:28.920
建立这些所有的功能将采用多个步骤

00:00:28.920 --> 00:00:31.290
第一个任务 我们在布局里添加

00:00:31.290 --> 00:00:33.000
+ 和 - 按钮

00:00:33.000 --> 00:00:34.366
我们也将连接按钮

00:00:34.366 --> 00:00:36.140
这样它们实际上会在屏幕上更新一些东西

00:00:37.310 --> 00:00:40.260
甚至在课程的后边 我们会修改 ORDER 按钮

00:00:40.260 --> 00:00:41.620
这样价格会正确地更新

00:00:42.820 --> 00:00:46.580
首先 通过修改 activity-main 布局的 XML 文件来创建这个布局

00:00:48.580 --> 00:00:52.363
你将增加两个按钮 并且更改初始数量值为 2

00:00:52.363 --> 00:00:55.392
最初的价格为 $10

00:00:55.392 --> 00:00:57.560
你也可以在 XML 中做这些改变

00:00:59.050 --> 00:01:02.600
在适用的情况下 你可以调整到你的本地货币

00:01:02.600 --> 00:01:04.977
我选择数量为 2 的原因是

00:01:04.977 --> 00:01:07.220
当你点击 - 按钮的时候 它不会成为负数

00:01:08.310 --> 00:01:11.130
当你在布局中增加这些按钮时 你将注意到

00:01:11.130 --> 00:01:13.050
它们似乎比在这里显示的大一点

00:01:14.060 --> 00:01:17.229
你可以通过设置宽和高为 48dps 来做到这一点

00:01:18.510 --> 00:01:20.360
然后通过点击行为连接

00:01:20.360 --> 00:01:24.510
当点击 + 按钮时 调用 MainActivity 里的 increment (增加) 方法

00:01:24.510 --> 00:01:28.790
当点击 – 按钮的时候会调用 MainActivity 里的 decrement (减少) 方法

00:01:28.790 --> 00:01:32.190
在 MainActivity 里添加一个 increment 方法

00:01:32.190 --> 00:01:35.170
并在该方法里创建一个数量变量

00:01:35.170 --> 00:01:37.290
初始化为3

00:01:37.290 --> 00:01:42.190
当我说初始化它时 只是意味着设置变量的

00:01:42.190 --> 00:01:42.970
初始值为3

00:01:42.970 --> 00:01:45.770
继续数量显示在屏幕上

00:01:47.090 --> 00:01:50.970
对于 MainActivity 里的第三步也增加一个 decrement 方法

00:01:50.970 --> 00:01:53.974
它创建一个数量变量并初始化为 1

00:01:55.180 --> 00:01:57.210
继续数量显示在屏幕上

00:01:58.480 --> 00:02:01.540
在完成所有的步骤之后 这是它在设备上

00:02:01.540 --> 00:02:02.130
显示的样子

00:02:03.130 --> 00:02:08.195
当你打开应用 它会显示数量为 2 和价格为 $10

00:02:08.195 --> 00:02:11.785
如果你点击 + 按钮 它使数量增加到3

00:02:11.785 --> 00:02:16.175
如果你点击 – 按钮 它会使数量减少到1

00:02:16.175 --> 00:02:20.367
从技术上讲 这种行为是不对的 因为它应该下降到2

00:02:20.367 --> 00:02:23.497
到目前为止 只是 + 按钮总是改变它为 3

00:02:23.497 --> 00:02:25.697
- 按钮使它变为1

00:02:25.697 --> 00:02:28.667
在之后的编码任务中 我们会解决这个问题

00:02:28.667 --> 00:02:32.697
这样每次点击 + 按钮的时候 它会不断增加到 4 5 6 等

00:02:32.697 --> 00:02:34.837
- 按钮也一样

00:02:36.497 --> 00:02:39.590
现在 把你的价格和 ORDER 按钮留在这就可以了

00:02:39.590 --> 00:02:44.000
现在 我的版本只是更新数量为 5 和价格为 $25

00:02:44.000 --> 00:02:46.610
但你不用做到这样

00:02:46.610 --> 00:02:48.650
我们稍后解决此问题

00:02:48.650 --> 00:02:51.610
作为一个有用的提示 如果你想要回到应用刚打开时的状态

00:02:51.610 --> 00:02:55.200
你可以终止你的应用

00:02:55.200 --> 00:02:59.970
在系统导航栏中 有几个按钮 返回 主屏幕

00:02:59.970 --> 00:03:01.520
和最近任务

00:03:01.520 --> 00:03:03.270
如果你点击最近任务按钮

00:03:03.270 --> 00:03:05.860
它会显示你手机上所有的近期的任务

00:03:07.130 --> 00:03:08.030
如果你向左或右滑动

00:03:08.030 --> 00:03:11.640
它会结束你的应用 这意味着它停止运行了

00:03:11.640 --> 00:03:14.370
如果你进入全部应用的界面 然后点击应用

00:03:14.370 --> 00:03:16.930
来再次启动它 它会显示应用的初始状态

