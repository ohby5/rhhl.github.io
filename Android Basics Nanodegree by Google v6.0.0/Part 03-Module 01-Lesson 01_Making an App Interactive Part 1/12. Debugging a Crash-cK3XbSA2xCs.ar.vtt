WEBVTT
Kind: captions
Language: ar

00:00:00.400 --> 00:00:05.967
‫انهيار التطبيق هو ما يحدث عندما يُغلق
‫فجأة وتظهر رسالة تفيد بأن التطبيق توقف

00:00:07.067 --> 00:00:10.001
‫يحدث هذا لمطوري نظام الآندرويد
‫مرات عديدة خلال اليوم

00:00:10.234 --> 00:00:11.801
‫حتى أكثرهم خبرة

00:00:12.000 --> 00:00:16.067
‫وأحيانًا تكون المشكلة بسبب خطأ
‫إملائي في الكود، أو خطأ سخيف

00:00:16.300 --> 00:00:19.867
‫وأحيانًا أخرى تكون نتيجة
‫سوء فهم أساسي

00:00:20.033 --> 00:00:22.433
‫لكيفية كتابة كود لخاصية معينة

00:00:23.000 --> 00:00:24.868
‫وبينما رد فعلك قد يكون الهلع..

00:00:25.000 --> 00:00:29.434
‫صوت العقل بداخلك سيُخبرك
‫بأن تحاول اكتشاف الأخطاء

00:00:30.133 --> 00:00:33.567
‫في هذا الفيديو، سنتعلم كيفية
‫اكتشاف أخطاء انهيار تطبيقات آندرويد

00:00:33.901 --> 00:00:38.368
‫(اكتشاف الأخطاء Debug) يعني تعرف
‫وإصلاح الأعطال أو الأخطاء في تطبيقك

00:00:38.834 --> 00:00:41.834
‫إذا كان خطًأ واضحًا للغاية
‫كخطأ في تراكيب لغة جافا..

00:00:42.033 --> 00:00:44.367
‫سيتمكن آندرويد ستوديو
‫من اكتشاف هذا الخطأ لك

00:00:44.534 --> 00:00:48.368
‫وسيُظهر رسالة خطأ باللون الأحمر
‫قبل تحميل التطبيق على هاتفك

00:00:48.868 --> 00:00:50.569
‫ويسمى (خطأ أثناء الترجمة)..

00:00:50.667 --> 00:00:54.168
‫لأنه سيفشل في إنشاء
‫أي تطبيق أو تثبيته على جهازك

00:00:55.100 --> 00:00:58.001
‫إذا كنت تريد تجربة
‫خلق (خطأ أثناء الترجمة)..

00:00:58.133 --> 00:01:02.267
‫واحذف هذه الأقواس أو هذه الفاصلة
‫المنقوطة، وسترى رسالة الخطأ تنبثق

00:01:03.367 --> 00:01:07.400
‫هذا يُشبه ما فعلناه في الدرس الأول،
‫عندما تعمدنا خلق خطأ في XML

00:01:07.701 --> 00:01:10.834
‫ثم قرأنا الرسالة، وتراجعنا عن التغيير

00:01:11.734 --> 00:01:16.368
‫من الأخطاء المحتملة أن يُحذف قوس الفتح
‫فأحصل على رسالة خطأ

00:01:17.367 --> 00:01:20.434
‫أو إذا نسيت هذا القوس المغلق
‫فسأحصل على رسالة خطأ أيضًا

00:01:21.400 --> 00:01:24.368
‫لكن أحيانًا يحدث الخطأ فقط
‫عن بدء استخدام التطبيق

00:01:25.133 --> 00:01:28.433
‫وهذا يُسمى (خطأ أثناء التشغيل)
‫لأنه يحدث أثناء تشغيل التطبيق

00:01:29.334 --> 00:01:31.634
‫لنتعمد خلق انهيار في التطبيق

00:01:31.767 --> 00:01:33.701
‫واكتشاف خطوات حله

00:01:33.801 --> 00:01:37.101
‫فإذا واجهت انهياراً حقيقياً،
‫يمكنك التعامل معه

00:01:37.501 --> 00:01:41.068
‫يرتكز هذا في الواقع على انهيار
‫برمجي واجهه أحد الطلاب

00:01:41.334 --> 00:01:43.202
‫ووارد جداً أن يحدث للمبتدئين

00:01:43.467 --> 00:01:45.201
‫سأمر معك بالخطوات أولًا

00:01:45.267 --> 00:01:47.001
‫وبعد ذلك ستفعله بنفسك

00:01:48.000 --> 00:01:50.300
‫لإنشاء انهيار برمجي عمداً في التطبيق..

00:01:50.400 --> 00:01:52.734
‫سأعدل ملف جافا للنشاط الرئيسي

00:01:53.767 --> 00:01:57.468
‫سأقوم بتغيير اسم هذه الوظيفة لتصبح
‫submitOrders بإضافة حرف s إلى نهايتها

00:01:58.100 --> 00:01:59.901
‫ثم سأشغله على الجهاز

00:02:00.033 --> 00:02:01.901
‫كل شيء يبدو جيدًا في البداية

00:02:02.067 --> 00:02:04.901
‫لكن عندما أقوم أنقر زر الطلب
‫ينهار البرنامج

00:02:05.968 --> 00:02:10.135
‫وتظهر رسالة تذكر:
‫للأسف توقف التطبيق Just Java

00:02:10.501 --> 00:02:13.435
‫وخياري الوحيد هو نقر (موافق)
‫للخروج من التطبيق

00:02:14.834 --> 00:02:18.401
‫لحسن الحظ، يُمكننا استخدام آندرويد
‫ستوديو لاكتشاف ما حدث حقاً

00:02:19.667 --> 00:02:21.201
‫عندما تشغل التطبيق على جهازك..

00:02:21.334 --> 00:02:25.302
‫قد ترى هذه النافذة Android DDMS
‫تنبثق في أسفل الشاشة

00:02:25.868 --> 00:02:28.569
‫والتي تعرض معلومات لمتابعة
‫جهاز الآندرويد الخاص بك

00:02:28.934 --> 00:02:32.334
‫كل الأمور التي تحدث في الكواليس
‫ولا يراها المستخدم

00:02:32.901 --> 00:02:36.001
‫إن لم تكن مفتوحة بالفعل، انقر لسان
‫التبويب المسمى (Android)

00:02:36.234 --> 00:02:38.401
‫وهذا من شأنه أن يفتح لك Android DDMS

00:02:38.968 --> 00:02:42.035
‫يمكنك ضبط ارتفاع النافذة
‫بسحب هذا السهم

00:02:42.901 --> 00:02:44.368
‫إذا قمت بسحب هذا السهم لليمين

00:02:44.534 --> 00:02:47.301
‫سترى قائمة الأجهزة المتصلة بالكمبيوتر

00:02:47.434 --> 00:02:49.668
‫حالياً جهازي (نكسوس 6) فقط متصل

00:02:50.467 --> 00:02:54.201
‫وشغلت تطبيق Just Java مجدداً
‫لذا فهو معروض في القائمة

00:02:55.200 --> 00:02:58.567
‫دعوني أسحب هذا لليسار مرة أخرى
‫لأحصل على مساحة أكبر لرؤية السجلات

00:02:59.534 --> 00:03:02.502
‫هنا على اليمين تظهر رسائل السجلات

00:03:02.801 --> 00:03:05.201
‫إذا نقرت هذه القائمة المنسدلة
‫واخترت (No Filters)

00:03:05.367 --> 00:03:08.734
‫ستعرض لك رسائل السجل لكامل
‫النظام والتطبيقات الأخرى

00:03:10.400 --> 00:03:15.600
‫يذكر أشياء مثل مدير الأنشطة،
‫مدير الصوت، الصوت والمايكروفون

00:03:15.767 --> 00:03:17.234
‫وكل هذه الأشياء

00:03:17.434 --> 00:03:22.135
‫سجل النظام أشبه باليوميات
‫التي يحفظها هاتفك عما يدور فيه

00:03:22.834 --> 00:03:24.368
‫logcat نُسميه أيضًا

00:03:25.100 --> 00:03:26.734
‫logcat إذا بحثت في جوجل عن معنى

00:03:26.901 --> 00:03:30.368
‫سيظهر لك تعريفه من خلال
‫صفحة Android Developers

00:03:30.801 --> 00:03:33.535
‫الذي يذكر أن Logcat
‫هو نظام سجلات آندرويد

00:03:33.901 --> 00:03:36.535
‫يُمكنك من خلاله جمع مخرجات
‫اكتشاف الأخطاء وعرضها

00:03:37.467 --> 00:03:41.435
‫بالعودة للسجلات، ستجد آخر
‫الأحداث في النهاية هنا

00:03:42.167 --> 00:03:46.501
‫فإذا كنت تبحث عن شيء قديم، فلربما
‫تحتاج للتمرير لأعلى لتجد ما تبحث عنه

00:03:46.934 --> 00:03:51.101
‫لنغير معامل الفرز لنعود
‫إلى تطبيقنا Just Java

00:03:51.667 --> 00:03:56.635
‫وهو ما يضيق جداً من نطاق رسائل سجل
‫النظام إلى ما يخص تطبيقنا فقط

00:03:56.834 --> 00:03:58.635
‫وهذا يجعل القراءة أسهل بكثير

00:03:59.467 --> 00:04:01.168
‫عندما يحدث انهيار في الجهاز..

00:04:01.267 --> 00:04:05.201
‫ما كان يحاول الهاتف فعله
‫تتم طباعته في السجلات

00:04:05.701 --> 00:04:07.669
‫ويظهر هنا انهيارنا هنا باللون الأحمر

00:04:08.467 --> 00:04:13.034
‫وهذا يُعرف بالنظر إلى متعقب الحزم
‫لأنه يتعقب الخلل إلى مصدره

00:04:13.834 --> 00:04:16.335
‫نعلم أنه تطبيقنا، لأنها عمليتنا

00:04:16.534 --> 00:04:19.368
‫والتي هي
‫com.example.android.justjava.

00:04:19.567 --> 00:04:24.034
‫بالنسبة لتطبيقنا فاسم العملية يطابق اسم
‫الحزمة لكنها لا يشترط أن يتطابقا دائماً

00:04:24.434 --> 00:04:26.968
‫لم ندرس ماهية العمليات بعد، ولكن..

00:04:27.200 --> 00:04:30.434
‫بشكل مبسط هكذا نعرف
‫أن هذا يخص تطبيقنا

00:04:30.734 --> 00:04:33.934
‫يوجد كلام كثير في متعقب الحزمة
‫ولا يتوجب عليك قراءته كله

00:04:34.467 --> 00:04:38.435
‫نريد البحث عن معلومات ذات صلة
‫لحل مشكلتنا

00:04:39.167 --> 00:04:42.167
‫علينا النظر لأي شيء في
‫متعقب الحزم يتحدث عن..

00:04:42.334 --> 00:04:45.101
‫الوظائف أو الملفات التي نعمل عليها

00:04:45.701 --> 00:04:48.901
‫لذا لندقق بحثاً عن ملف (النشاط الرئيسي)

00:04:49.667 --> 00:04:51.501
‫فلنبدأ قراءة رسالة الخطأ

00:04:51.634 --> 00:04:53.435
‫سأتخطى هذا الجزء واقرأ..

00:04:53.667 --> 00:04:57.268
‫خطأ حالة غير معروفة..
‫لم يمكن العثور على الوظيفة submitOrder

00:04:58.501 --> 00:05:02.801
‫تستمر الرسالة لتوضح أكثر
‫سبب عدم صلاحية الحالة

00:05:03.801 --> 00:05:06.901
‫والسبب أنه لا يستطيع إيجاد
‫submitOrder الوظيفة

00:05:07.267 --> 00:05:09.634
‫في النشاط (النشاط الرئيسي)

00:05:09.868 --> 00:05:13.168
‫في معالج (onClick) في فئة واجهة الزر

00:05:13.767 --> 00:05:17.234
‫هناك الكثير من الكلمات في
‫ هذه الجملة غير المفهومة غالبًا

00:05:17.834 --> 00:05:19.668
‫لكن هناك مجموعة أدلة جيدة هنا

00:05:19.901 --> 00:05:22.602
‫فالجملة تُشير لزر، ونحن لدينا
‫زرًا واحدًا فقط في تطبيقنا

00:05:22.734 --> 00:05:25.901
‫لذلك يُمكننا الافتراض بأنها
‫مرتبطة بهذا الزر على الأغلب

00:05:26.601 --> 00:05:31.601
‫ثم تذكر عدم القدرة على العثور على
‫الوظيفة submitOrder في النشاط

00:05:31.901 --> 00:05:36.201
‫بالنظر لكود الزر،
‫فقد حددنا أنه عند نقر الزر..

00:05:36.467 --> 00:05:38.667
‫فيجب إطلاق وظيفة تُسمى submitOrder

00:05:38.834 --> 00:05:40.101
‫لننظر لهذا الآن

00:05:40.200 --> 00:05:43.068
‫سأسحب نافذة (مراقب الأجهزة) للأسفل

00:05:43.200 --> 00:05:45.701
‫وأفتح ملف activity_main.xml

00:05:46.300 --> 00:05:48.500
‫هنا عنصر XML للزر

00:05:48.868 --> 00:05:53.769
‫وبالفعل قلنا أن android:onClick
‫يجب أن يُطلق الوظيفة submitOrder

00:05:54.234 --> 00:05:56.202
‫فإذا راجعت (النشاط الرئيسي)..

00:05:56.400 --> 00:05:59.301
‫سأجد أنا submitOrder لم تعد وظيفة

00:05:59.634 --> 00:06:03.502
‫إذ غيرناها إلى submitOrders
‫ولهذا حدثت المشكلة

00:06:04.234 --> 00:06:06.301
‫إذا حذفت حرف s الزائد..

00:06:06.767 --> 00:06:09.767
‫والآن أصبح هنالك وظيفة اسمها
‫submitOrder في (النشاط الرئيسي)

00:06:10.000 --> 00:06:11.634
‫ويفترض بالتطبيق أن يعمل مجدداً

00:06:11.934 --> 00:06:14.234
‫عندما أُعيد تشغيل التطبيق،
‫وأنقر زر الطلب..

00:06:14.434 --> 00:06:16.634
‫فلا ينهار التطبيق مجدداً
‫مرحى!

00:06:17.267 --> 00:06:19.667
‫حاول خلق الانهيار في تطبيقك

00:06:19.801 --> 00:06:21.868
‫عبر تغيير اسم وظيفة submitOrder

00:06:23.000 --> 00:06:25.133
‫وبعد ذلك افحص سجلات متعقب الحزم

00:06:25.234 --> 00:06:27.168
‫ثم اقرأ رسالة الخطأ بتمعن

00:06:28.000 --> 00:06:30.801
‫ثم اذهب وأصلح الخطأ
‫ليعمل تطبيقك مجدداً

00:06:31.400 --> 00:06:32.834
‫حدد هذا المربع عندما تنتهي

