WEBVTT
Kind: captions
Language: ar

00:00:01.267 --> 00:00:06.334
‫الخطوة الأولى هي تعديل مخطط
‫activity_main.xml ليبدو هكذا

00:00:07.300 --> 00:00:09.467
‫فلنذهب إلى آندرويد ستوديو
‫لنفحص هذا الملف

00:00:10.367 --> 00:00:12.868
‫هذا هو ملف XML
‫لمخطط (النشاط الرئيسي)

00:00:13.100 --> 00:00:16.133
‫ولدينا معاينة الجهاز على الجانب الأيمن

00:00:16.467 --> 00:00:19.600
‫يٌمكنني نقر هذه العدسة
‫المكبرة لتكبير الجهاز

00:00:20.400 --> 00:00:21.600
‫هذا أفضل الآن

00:00:22.367 --> 00:00:26.934
‫لبناء المخطط المنشود أحتاج لإضافة
‫زر موجب بين عنوان الكمية..

00:00:27.100 --> 00:00:28.233
‫وقيمة الكمية

00:00:28.634 --> 00:00:32.168
‫لدينا بالفعل زر في مخططنا،
‫وهو زر الطلب الموجود بالأسفل

00:00:32.801 --> 00:00:34.435
‫لذلك سأقوم بنسخ هذا الكود..

00:00:34.767 --> 00:00:36.101
‫ثم سأقوم بلصقه

00:00:36.300 --> 00:00:39.400
‫بين عنوان الكمية وقيمتها

00:00:39.834 --> 00:00:42.201
‫الآن أرى الزر يظهر في المكان الصحيح

00:00:42.334 --> 00:00:45.601
‫لكن سأحتاج لتغيير النص
‫ليُصبح + بدلاً من Order

00:00:47.000 --> 00:00:49.567
‫حسنًا
‫سأقوم أيضًا بحذف الهامش العلوي

00:00:49.634 --> 00:00:53.701
‫لأنه لدينا بالفعل هامش 16 (دي بي)
‫من أسفل هذه الواجهة النصية

00:00:54.300 --> 00:00:55.600
‫لذلك قم بحذف هذا

00:00:56.300 --> 00:00:59.600
‫الزر كبير جدًا، وطلبنا منك في
‫الاختبار تغيير حجمه

00:00:59.868 --> 00:01:02.435
‫ليكون طوله وعرضه 48 بكسل كثافة

00:01:02.868 --> 00:01:05.001
‫لذا سأعدل كود XML للزر هنا

00:01:06.000 --> 00:01:07.567
‫جيد، الآن هو بالحجم الصحيح

00:01:08.033 --> 00:01:11.700
‫الآن يُمكنني نسخ عنصر XML
‫ولصقه أسفل قيمة الكمية

00:01:11.834 --> 00:01:13.435
‫حتى يكون لدينا الزر السالب

00:01:13.901 --> 00:01:18.068
‫حذفت المسافة البيضاء، لأنه طبقًا
‫لإرشادات التنسيق البرمجي للآندرويد..

00:01:18.367 --> 00:01:20.968
‫لا يجب أن تكون هناك مسافات
‫ بيضاء كثيرة في كودك

00:01:21.901 --> 00:01:25.168
‫الآن سأغير نص هذا الزر  ليصبح (-)

00:01:26.067 --> 00:01:28.534
‫كما أن طوله وعرضه 48
‫بكسل كثافة بالفعل

00:01:29.200 --> 00:01:31.434
‫الآن، زري الموجب والسالب في مكانهم

00:01:32.300 --> 00:01:35.901
‫ذكرنا سابقاً أننا نريد القيمة
‫الأولية أن تكون 2

00:01:36.033 --> 00:01:37.767
‫والسعر الأولي 10 دولارات

00:01:38.267 --> 00:01:39.634
‫فلنقم بهذا التغيير الآن

00:01:40.400 --> 00:01:42.334
‫هذا ما يبدو عليه مخططنا حتى الآن

00:01:42.567 --> 00:01:45.401
‫فلنرجع إلى صورة الاختبار
‫لنفحص تقدمنا

00:01:46.167 --> 00:01:47.734
‫غيرنا المخطط بنجاح

00:01:48.100 --> 00:01:50.300
‫لكننا نحتاج أيضًا لتعديل الزر الموجب

00:01:50.467 --> 00:01:52.801
‫ليستدعي عند نقره
‫الوظيفة increment

00:01:53.100 --> 00:01:55.767
‫وعند نقر الزر السالب نريد
‫استدعاء الوظيفة decrement

00:01:56.834 --> 00:02:00.301
‫بالعودة إلى آندرويد ستوديو،
‫سأقوم بتعديل الزر الموجب

00:02:00.434 --> 00:02:04.168
‫لأضبط قيمة الخاصية android:onClick
‫إلى increment

00:02:04.367 --> 00:02:08.801
‫هكذا عند النقر على الزر الموجب، تُستدعى
‫الوظيفة increment من النشاط الرئيسي

00:02:09.434 --> 00:02:14.335
‫والأمر عينه للزر السالب، وسأعدل قيمة
‫الخاصية onClick لتصبح decrement

00:02:16.701 --> 00:02:19.701
‫سأقوم بحفظ هذا
‫ومن ثم تشغيله على الجهاز

00:02:20.767 --> 00:02:22.067
‫يبدو المخطط جيداً

00:02:22.334 --> 00:02:25.001
‫لكن إذا نقرت زر الموجب سينهار التطبيق

00:02:25.434 --> 00:02:28.868
‫أتذكر كيف أوضحت لك البحث
‫في السجلات عن حزمة الخطأ

00:02:29.300 --> 00:02:34.433
‫السجل فتح تلقائياً بالفعل، ولنسحب هذا
‫السهم لأعلى لنرى المزيد من الرسائل

00:02:35.267 --> 00:02:38.367
‫إذا مررنا للأعلى، سنرى أن هذا هو خطئنا

00:02:39.300 --> 00:02:42.700
‫هذ هو تطبيقنا JustJava
‫ويذكر الخطأ IllegalStateException

00:02:43.801 --> 00:02:46.402
‫إذا مررت لليمين، سأرى بقية رسالة الخطأ

00:02:47.033 --> 00:02:49.767
‫تذكر الرسالة أنه لم يمكن العثور
‫على الوظيفة increment..

00:02:49.934 --> 00:02:51.635
‫في النشاط MainActivity

00:02:52.133 --> 00:02:55.133
‫يبدو مشابهًا جدًا للخطأ الذي حصلنا
‫عليه في الفيديو السابق

00:02:55.868 --> 00:02:58.968
‫بالأساس لا توجد وظيفة اسمها
‫increment في (النشاط الرئيسي)

00:02:59.434 --> 00:03:02.035
‫وهذا متوقع لأننا لم نقم
‫بهذا التغيير حتى الآن

00:03:02.834 --> 00:03:06.468
‫للخطوة الثانية، يفترض بنا إضافة
‫وظيفة increment (للنشاط الرئيسي)

00:03:06.901 --> 00:03:11.335
‫وإنشاء المتغير quantity بقيمة
‫أولية 3 وكذلك نعرضه

00:03:12.234 --> 00:03:14.868
‫لأفعل هذا فتحت ملف
‫جافا (للنشاط الرئيسي)

00:03:15.033 --> 00:03:20.300
‫ربط سلوك الزر الموجب شبيه
‫بكيفية ربط  سلوك زر الطلب

00:03:20.901 --> 00:03:23.735
‫لذا لننسخ هذه الوظيفة
‫التي تتحكم في زر الطلب

00:03:25.000 --> 00:03:28.934
‫آنياً سأجد خطأ يذكر الوظيفة submitOrder
‫مُعرفة بالفعل في النشاط MainActivity

00:03:29.934 --> 00:03:33.034
‫لا يمكنك أن تملك وظيفتين
‫متطابقتين في (النشاط الرئيسي)

00:03:33.901 --> 00:03:37.001
‫لكن لا بأس إذ سأغيرها لتصبح
‫وظيفة increment على أية حال

00:03:37.868 --> 00:03:39.168
‫والآن اختفى الخطأ

00:03:39.767 --> 00:03:42.601
‫سأقوم بتعديل التعليق
‫لأن هذه وظيفة جديدة الآن

00:03:42.868 --> 00:03:46.769
‫سأحدث التعليق ليُشير إلى الزر
‫الموجب بدلاً من زر الطلب

00:03:47.567 --> 00:03:51.301
‫في وظيفة increment سأنشئ
‫متغير عدد صحيح للكمية

00:03:51.701 --> 00:03:55.669
‫وسأجعل القيمة الأولية بالعدد 3،
‫كما طلب الاختبار

00:03:56.167 --> 00:03:58.501
‫بعد ذلك أستطيع عرض
‫هذه الكمية على الشاشة

00:03:58.968 --> 00:04:02.202
‫لا أريد تحديث السعر في هذه الوظيفة
‫لذا سأمسح هذا السطر

00:04:03.100 --> 00:04:04.901
‫هذا يبدوا جيدًا،
‫فلنقُم باختباره الآن

00:04:06.000 --> 00:04:09.300
‫الآن عندما نقرت الزر الموجب
‫أصبح يُعطيني الرقم 3

00:04:10.033 --> 00:04:11.100
‫هذا جيد جدًا

00:04:11.667 --> 00:04:14.234
‫لكن إذا نقرت الزر السالب
‫سينهار التطبيق

00:04:15.701 --> 00:04:16.868
‫فلنفحص السجلات

00:04:17.868 --> 00:04:22.235
‫سأمرر للأسفل لأصل لأحدث الأخطاء
‫ثم للأعلى إلى بداية الخطأ

00:04:23.033 --> 00:04:26.867
‫حدث خطأ IllegalStateException
‫لأنه لم يستطع إيجاد الوظيفة decrement

00:04:27.033 --> 00:04:28.133
‫في نشاطنا

00:04:28.601 --> 00:04:32.068
‫هذا أيضًا متوقع، لأننا لم نضع
‫الوظيفة decrement بعد

00:04:32.534 --> 00:04:33.701
‫لنفعلها الآن

00:04:34.934 --> 00:04:37.902
‫سأنسخ هذه الوظيفة
‫وسألصقها أسفل منها

00:04:38.934 --> 00:04:40.835
‫سأعيد تسميتها إلى decrement

00:04:42.100 --> 00:04:43.701
‫الآن لابد من تحديث هذا التعليق

00:04:44.200 --> 00:04:47.101
‫يتم استدعاء هذه الوظيفة
‫عند نقر الزر السالب

00:04:48.167 --> 00:04:51.434
‫لنعرف ما علينا فعله في هذه
‫الوظيفة، لنعد إلى الاختبار

00:04:52.100 --> 00:04:53.867
‫أنهينا خطوتين حتى الآن

00:04:54.200 --> 00:04:56.834
‫الخطوة الأخيرة تخص وظيفة decrement
‫في (النشاط الرئيسي)

00:04:57.167 --> 00:04:59.801
‫نريد إنشاء متغيرًا باسم quantity
‫بقيمة أولية قدرها 1

00:05:00.934 --> 00:05:03.168
‫بعدها سنعرض الكمية على الشاشة

00:05:04.067 --> 00:05:07.167
‫في الوظيفة decrement أنشأنا
‫متغير عدد صحيح للكمية

00:05:07.534 --> 00:05:11.468
‫سأضبط قيمته الأولية إلى 1
‫وسأعرضه على الشاشة

00:05:12.801 --> 00:05:14.368
‫والآن، لنشغله على جهازنا

00:05:15.501 --> 00:05:17.935
‫لندعُ ألا ينهار التطبيق هذه المرة

00:05:18.601 --> 00:05:21.801
‫إذا نقرت الزر ستنقص إلى 1

00:05:22.300 --> 00:05:24.600
‫وإذا نقرت الزر الموجب، تزداد إلى 3

00:05:25.234 --> 00:05:27.234
‫إذًا، هذه الأزرار تعمل كما توقعنا

00:05:27.501 --> 00:05:29.235
‫على الأقل حتى الآن

00:05:29.601 --> 00:05:34.068
‫فكما أشرت في السابق، نريد هذا
‫أن يزيد حتى 4، 5، 6

00:05:34.367 --> 00:05:36.801
‫ونريد هذا أن يقل حتى 2، 1، 0

00:05:37.000 --> 00:05:38.834
‫لكن هذا سيأتي في مرحلة
‫متقدمة في أحد الدروس

00:05:39.501 --> 00:05:40.634
‫عمل رائع حتى الآن

