WEBVTT
Kind: captions
Language: ar

00:00:00.240 --> 00:00:02.680
ليس هناك إجابة واحدة فقط صحيحة لهذا السؤال.

00:00:02.680 --> 00:00:06.151
فذلك يعتمد حقًا على ما الأكثر فائدة لك لتحديد
الفرق

00:00:06.151 --> 00:00:09.245
بين سلوك التطبيق غير الصحيح وسلوك التطبيق الصحيح.

00:00:09.245 --> 00:00:12.640
تجد هنا بعض الأشياء التي لاحظتها.

00:00:12.640 --> 00:00:15.990
في سلوك التطبيق غير صحيح، عند النقر فوق زر الطلب

00:00:15.990 --> 00:00:19.990
تتغير الكمية إلى القيمة ذاتها كل مرة ويجب ألا
تتغير.

00:00:19.990 --> 00:00:22.320
كما أني لاحظت أن السعر كان صحيحًا

00:00:22.320 --> 00:00:25.010
لقيمة الكمية هذه، ولكن حقًا يجب أن يكون السعر للكمية
الأخيرة

00:00:25.010 --> 00:00:28.310
المحددة في ملتقط الكمية.

00:00:28.310 --> 00:00:31.570
مرة أخرى، الأمر يتعلق بحقيقة أن الكمية يجب الا
تتغير.

00:00:31.570 --> 00:00:34.230
هيا ننظر إلى الكود الحالي لماذا يحدث هذا.

00:00:35.390 --> 00:00:39.320
في ملف مخطط النشاط الرئيسي، نجد أن زر الطلب معلن
عنه هنا.

00:00:39.320 --> 00:00:40.576
عند النقر فوق زر الطلب،

00:00:40.576 --> 00:00:43.102
نستدعي وظيفة في النشاط الرئيسي يسمى submitOrder.

00:00:43.102 --> 00:00:47.890
في ملف جافا للنشاط الرئيسي، نجد وظيفة submitOrder.

00:00:47.890 --> 00:00:51.030
هذا كود قديم منذ فترة طويلة لم نغيره من قبل.

00:00:51.030 --> 00:00:54.570
ولكننا نقوم بإنشاء متغير كمية صحيح وتهيئته عند القيمة
5.

00:00:54.570 --> 00:00:56.300
ونعرض ذلك على الشاشة.

00:00:56.300 --> 00:01:00.610
كما أننا نعرض السعر المقابل لعدد أكواب القهوة المطلوبة
ما يعادل 5 دولار لكل كوب.

00:01:00.610 --> 00:01:03.700
بالفعل هذا الكود ضعيف التأثير، لأننا عند محاولة
إرسال طب

00:01:03.700 --> 00:01:06.530
نحاول تحديث الكمية.

00:01:06.530 --> 00:01:09.411
وهناك مشكلة أخرى ألا وهي أننا ننشئ متغير كمية صحيح

00:01:09.411 --> 00:01:12.478
وفي الوقت ذاته لدينا متغير عام للكمية من المفترض أن
يتتبع

00:01:12.478 --> 00:01:13.747
عدد أكواب القهوة.

00:01:13.747 --> 00:01:18.026
في النشاط الرئيسي، لدينا بالعل متغير عام للكمية،

00:01:18.026 --> 00:01:22.520
وبالتالي أي وظيفة في الداخل قد تشير إلى متغير الكمية
هذا.

00:01:22.520 --> 00:01:27.060
ورغم ذلك، في وظيفة submitOrder ننشئ متغير كمية محلي
جديد.

00:01:27.060 --> 00:01:30.410
من الناحية الفنية، من الممكن أن يكون لديك المتغير
المحلي بنفس اسم

00:01:30.410 --> 00:01:32.200
المتغير العام.

00:01:32.200 --> 00:01:34.812
وهذا يعني فقط أنه في سياق هذه الوظيفة،

00:01:34.812 --> 00:01:38.581
بعد الإعلان عن هذا المتغير، وعندما تشير إلى
الكمية،

00:01:38.581 --> 00:01:41.985
فهذا بالفعل يشير إلى المتغير المحلي للكمية مع القيمة
5،

00:01:41.985 --> 00:01:44.396
وليس متغير الكمية العام مع القيمة 2.

00:01:44.396 --> 00:01:46.310
ولذا عرض (الكمية)

00:01:46.310 --> 00:01:51.500
والسعر (الكمية*5) كلاهما يشير إلى قيمة الكمية.

00:01:51.500 --> 00:01:54.080
وهذا هو نطاق المتغير المحلي.

00:01:54.080 --> 00:01:55.490
وخارج هذا السياق،

00:01:55.490 --> 00:01:59.490
عند الإشارة إلى الكمية فهذا يعني كمية المتغير العام
هذه.

00:01:59.490 --> 00:02:00.330
ورغم ذلك، إذا كنت تفكر في ذلك،

00:02:00.330 --> 00:02:03.430
فليس من المنطقي عدم تقديم طلبك،

00:02:03.430 --> 00:02:07.040
وعليك إنشاء كمية جديدة ثم عرضها على الشاشة.

00:02:07.040 --> 00:02:10.370
ما تريد حقًا القيام به هو مجرد استخدام الكمية التي
تتبعناها

00:02:10.370 --> 00:02:14.900
لقيامنا بزيادة وخفض عدد أكواب القهوة.

00:02:14.900 --> 00:02:18.040
ولذلك هذا ما يجب حساب سعره.

00:02:18.040 --> 00:02:22.070
لإصلاح الكود، ينبغي عدم الإعلان عن المتغير المحلي
للكمية.

00:02:22.070 --> 00:02:25.130
وبدلًا من ذلك، يجب فقط استخدام المتغير العام
للكمية.

00:02:25.130 --> 00:02:28.550
كما يجب إيقاف محاولة تحديث الكمية في الشاشة.

00:02:28.550 --> 00:02:31.270
يقوم الزر + و - بالفعل بمعالجة تحديث الشاشة

00:02:31.270 --> 00:02:33.520
مع قيمة الكمية الصحيحة.

00:02:33.520 --> 00:02:37.570
ورغم ذلك، نريد زر submitOrder لتحديث السعر.

00:02:37.570 --> 00:02:41.600
ولكن هذه المرة سنحسب السعر ككمية * 5

00:02:41.600 --> 00:02:43.990
باستخدام متغير الكمية العام.

00:02:43.990 --> 00:02:47.720
سأقوم بتحديث الكود كي يعكس ما تحدثنا عنه.

00:02:47.720 --> 00:02:50.860
لاحظ أن متغير الكمية قد تحول إلى لون الخط
الأرجواني،

00:02:50.860 --> 00:02:54.030
مما يعني أننا نستخدم متغير الكمية العام في النشاط
الرئيسي.

00:02:54.030 --> 00:02:57.940
عند الضغط على الزر، سيقوم بتشغيل وظيفة
submitOrder.

00:02:57.940 --> 00:02:59.580
وهذا سيعرض السعر على الشاشة،

00:02:59.580 --> 00:03:03.934
حيث يتم احتساب السعر كمتغير الكمية العام * 5.

00:03:04.970 --> 00:03:06.670
هذا يبدو صحيحًا، ولذا هيا نشغله في الجهاز.

00:03:07.680 --> 00:03:09.530
حسنًا، بالنسبة للاختبار النهائي.

00:03:09.530 --> 00:03:13.660
سأقوم بتغيير الكمية إلى 6 وبعد ذلك أنقر فوق زر
الطلب،

00:03:13.660 --> 00:03:14.510
النتيجة 0 دولار.3

00:03:14.510 --> 00:03:17.630
دعونا نجرب القيم الأخرى كذلك حتى أعرف أنها ليست
حظا.

00:03:17.630 --> 00:03:18.958
يبدو صحيحًا. يبدو صحيحًا.

00:03:18.958 --> 00:03:22.600
رائع، يعمل جيدًا!

00:03:22.600 --> 00:03:24.310
لقد أصلحت الخطأ الأول للتو.

00:03:24.310 --> 00:03:26.400
لقد أبليت بلاءً حسنًا في هذه المهمة.

00:03:26.400 --> 00:03:28.970
وظائف التطبيق تعمل جيدًا.

00:03:28.970 --> 00:03:32.280
ولكني أرى أن واجهة المستخدم ليست جيدة.

00:03:32.280 --> 00:03:35.800
على وجه الخصوص، قد يستخدم ملتقط الكمية بعض واجهات
المستخدم اللطيفة،

00:03:35.800 --> 00:03:36.740
ولذا دعونا نقوم بذلك لاحقًا.

