WEBVTT
Kind: captions
Language: ja

00:00:01.280 --> 00:00:04.640
最初のステップは
activity_main XML レイアウトの変更です

00:00:04.640 --> 00:00:07.300
すると アプリはこのようになります

00:00:07.300 --> 00:00:10.099
AndroidStudio へ行き
ファイルを見ましょう

00:00:10.099 --> 00:00:12.802
activity_maim. XML 
レイアウトファイルにきました

00:00:12.802 --> 00:00:16.540
右側にはデバイスのプレビューが
表示されています

00:00:16.540 --> 00:00:20.390
拡大鏡をクリックすると
デバイスにズームインできます

00:00:20.390 --> 00:00:21.270
良くなりましたね

00:00:22.350 --> 00:00:25.550
要求されたレイアウトを作るために
まず「 ＋ （プラス）」ボタンを

00:00:25.550 --> 00:00:28.650
Quantity という文字と数値の間に
追加したいと思います

00:00:28.650 --> 00:00:32.790
ボタンはすでに「 Order 」ボタンの
レイアウトがこの下にありますので

00:00:32.790 --> 00:00:36.330
このコードを単純にコピーして

00:00:36.330 --> 00:00:39.880
Quantity とその数値の
（ TextView の）間に貼り付けます

00:00:39.880 --> 00:00:42.450
ボタンが右側のプレビューに
表示されました

00:00:42.450 --> 00:00:45.470
しかし テキストを「 Order 」から
「 + 」に変える必要があります

00:00:47.010 --> 00:00:49.780
良いですね
それから この上部のマージンを取り除きます

00:00:49.780 --> 00:00:52.790
既に 16 dp のマージンがボタンのテキスト内に

00:00:52.790 --> 00:00:54.310
ありますので

00:00:54.310 --> 00:00:56.300
消してしまいましょう

00:00:56.300 --> 00:00:59.940
このボタンはとても大きいです
クイズでは縦 48 dp 横 48dp への

00:00:59.940 --> 00:01:02.880
サイズ変更を要求していしました

00:01:02.880 --> 00:01:04.660
ですので ここにある
ボタンの XML を編集します

00:01:06.010 --> 00:01:08.100
良いですね
適正サイズになりました

00:01:08.100 --> 00:01:12.030
この XML をコピーして数値
（のTextView ）の下に貼り付けます

00:01:12.030 --> 00:01:13.980
そして 「 - （マイナス）」ボタンを
追加します

00:01:13.980 --> 00:01:17.430
余白を消したのは アンドロイドの
コードスタイルガイドラインにより

00:01:17.430 --> 00:01:20.690
コードの中に余分な余白を
入れるべきではないからです

00:01:20.690 --> 00:01:25.050
では ボタンのテキストを
「 - 」に変えていきます

00:01:26.070 --> 00:01:29.210
これはもう 縦横が 48 dp に
なっていますね

00:01:29.210 --> 00:01:31.010
これで 「 + 」と「 - 」が
配置されました

00:01:32.320 --> 00:01:35.990
前に言っていたように
初期の数値を２ 料金を $10 に

00:01:35.990 --> 00:01:38.280
してください

00:01:38.280 --> 00:01:39.380
変更していきましょう

00:01:40.410 --> 00:01:42.620
これが 現在の
レイアウトの見た目です

00:01:42.620 --> 00:01:46.170
クイズ画像に戻って
進捗をチェックしましょう

00:01:46.170 --> 00:01:49.430
レイアウトの変更は成功です
しかし 「 + 」ボタンをクリックすると

00:01:49.430 --> 00:01:52.610
増加(increment)メソッドを呼び
「 - 」ボタンをクリックすると

00:01:52.610 --> 00:01:55.720
減少(decrement)メソッドを呼ぶように
改変する必要がありました

00:01:56.830 --> 00:02:00.530
AndroidStudio に戻ります
「 + 」ボタンを改変して

00:02:00.530 --> 00:02:04.390
「 android:onClick 」属性の値を
「 increment 」にします

00:02:04.390 --> 00:02:07.060
こうすると 「 + 」ボタンを
クリックした時に increment と言う

00:02:07.060 --> 00:02:09.430
メソッドが呼ばれます

00:02:09.430 --> 00:02:12.883
「 - 」ボタンも同様に
「 onClick 」属性を変更して

00:02:12.883 --> 00:02:14.376
値を「 decrement 」にします

00:02:16.477 --> 00:02:19.350
セーブして
デバイスで実行します

00:02:20.780 --> 00:02:25.420
レイアウトの見た目は良いですが
「 + 」ボタンを押すとクラッシュします

00:02:25.420 --> 00:02:27.560
エラー時の
スタックトレースログの出し方を

00:02:27.560 --> 00:02:29.310
覚えていますか？

00:02:29.310 --> 00:02:32.560
ログはあらかじめ開く様になっています
この矢印を上にドラッグすると

00:02:32.560 --> 00:02:35.320
より多くのメッセージが現れます

00:02:35.320 --> 00:02:38.020
上にスクロールして行くと
エラー部分が出てきます

00:02:39.300 --> 00:02:42.550
これがこのアプリの JustJava です
「 IllegalStateException 」とあります

00:02:43.790 --> 00:02:47.040
右にスクロールしていくと
より多くのエラーメッセージが見えます

00:02:47.040 --> 00:02:50.750
エラーメッセージは「MainActivity 内に
increment メソッドが見つからなかった」

00:02:50.750 --> 00:02:52.150
と言っています

00:02:52.150 --> 00:02:55.940
これは以前のビデオで陥ったエラーと
とても似ていますね

00:02:55.940 --> 00:02:58.850
基本的に「 increment 」というメソッドは
MainActivity 内にはありません

00:02:58.850 --> 00:03:01.765
それをまだ変えていませんので
まさに予想がつくことですね

00:03:02.820 --> 00:03:03.760
2番目のステップです

00:03:03.760 --> 00:03:07.150
inrement メソッドを MainActivity に
追加することになっているので

00:03:07.150 --> 00:03:12.230
初期設定の数値を３にして作成し
その数値を表示させます

00:03:12.230 --> 00:03:15.100
そのためには MainActivity の
Java ファイルを開きます

00:03:15.100 --> 00:03:18.160
「 + 」ボタンの動作連携が
「 Order 」ボタンの動作連携に

00:03:18.160 --> 00:03:20.900
とても類似するようになりますので

00:03:20.900 --> 00:03:23.490
ここの「 Order 」ボタンを操作する
メソッドをコピーしましょう

00:03:25.030 --> 00:03:28.406
すぐに「 submitOrder は 
MainActivity 内で既に定義されている」

00:03:28.406 --> 00:03:29.600
というエラーが出ました

00:03:29.600 --> 00:03:32.980
MainActivity 内に全く同じメソッドを
２つ使うことはできません

00:03:32.980 --> 00:03:34.350
でも 大丈夫です

00:03:34.350 --> 00:03:36.779
なぜなら これからこれを
increment メソッドに変えますから

00:03:37.860 --> 00:03:38.790
このエラーが消えます

00:03:39.820 --> 00:03:42.912
新しいメソッドにしていくので
このコメントを変えます

00:03:42.912 --> 00:03:45.610
「 order button 」に代わって
「 plus button 」にコメントを

00:03:45.610 --> 00:03:47.590
上書きします

00:03:47.590 --> 00:03:51.192
increment メソッドの中に
整数の数値を作っていきます

00:03:51.192 --> 00:03:56.180
クイズの要求通り
初期の値を３にします

00:03:56.180 --> 00:03:59.030
そして この数値を
スクリーン上に配置します

00:03:59.030 --> 00:04:00.820
このメソッドに
価格の更新はいらないので

00:04:00.820 --> 00:04:03.110
このコード行は消します

00:04:03.110 --> 00:04:04.690
良さそうですね
テストしてみましょう

00:04:06.030 --> 00:04:10.020
「 + 」ボタンをクリックすると
「３」に更新しました

00:04:10.020 --> 00:04:11.670
とてもいいです

00:04:11.670 --> 00:04:14.240
しかし 「 - 」ボタンを押すと
クラッシュします

00:04:15.740 --> 00:04:19.072
ログをチェックしましょう
最近のログを見るためにはこのボタンを

00:04:19.072 --> 00:04:22.630
スクロールします　
上にスクロールすると最新のエラーがあります

00:04:22.630 --> 00:04:23.690
このアプリには

00:04:23.690 --> 00:04:26.330
IllegalStateException があります
なぜなら decrement メソッドが

00:04:26.330 --> 00:04:28.610
アクティビティ内に
見つからなかったからです

00:04:28.610 --> 00:04:32.580
decrement メソッドも入れていませんので
これも予想が付きますね

00:04:32.580 --> 00:04:34.070
ではこれを 追加しましょう

00:04:35.052 --> 00:04:37.790
このメソッドをコピーして
この下に貼り付けます

00:04:38.980 --> 00:04:40.610
「 decrement 」と改名します

00:04:42.110 --> 00:04:43.980
コメントも更新する必要があります

00:04:43.980 --> 00:04:46.730
このメソッドは「 - 」ボタンが
クリックされた時に呼ばれます

00:04:48.180 --> 00:04:50.190
このメソッドで何をすることになっているかを
明白にしたいので

00:04:50.190 --> 00:04:52.100
クイズに戻りましょう

00:04:52.100 --> 00:04:54.190
今まで ２つのステップを終えました

00:04:54.190 --> 00:04:57.215
最後のステップは MainActivity 内の
decrement メソッドについてです

00:04:57.215 --> 00:04:59.705
数値を作成し
値を１に初期設定すること

00:05:00.920 --> 00:05:02.840
そして 数値をスクリーンに表示します

00:05:04.140 --> 00:05:06.990
decrement では
整数の数値を作りました

00:05:06.990 --> 00:05:09.160
数値を１に初期設定して

00:05:09.160 --> 00:05:11.340
スクリーンにその値を表示させます

00:05:12.870 --> 00:05:14.960
デバイスで実行しましょう

00:05:15.570 --> 00:05:18.790
では クラッシュしないことを
祈っていてください

00:05:18.790 --> 00:05:22.350
「 - 」ボタンを押すと
やった！　１に減りました

00:05:22.350 --> 00:05:25.250
「 + 」ボタンを押すと
３に増えます

00:05:25.250 --> 00:05:27.970
これらのボタンは
少なくとも現時点では

00:05:27.970 --> 00:05:29.670
予想通りに動きます

00:05:29.670 --> 00:05:34.063
理想を言えば 以前に言ったように
ここを４、５、６と増やしたり

00:05:34.063 --> 00:05:36.620
２、１、０と減らしたり
したいのですが

00:05:36.620 --> 00:05:39.510
それは後のレッスンで扱う予定です

00:05:39.510 --> 00:05:40.250
ここまで
よくできました

