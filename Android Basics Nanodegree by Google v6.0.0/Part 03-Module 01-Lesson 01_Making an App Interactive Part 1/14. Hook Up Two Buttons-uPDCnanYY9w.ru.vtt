WEBVTT
Kind: captions
Language: ru

00:00:01.280 --> 00:00:04.640
Первым шагом необходимо изменить
макет XML activity_main, чтобы

00:00:04.640 --> 00:00:07.300
приложение выглядело вот так.

00:00:07.300 --> 00:00:10.099
Давайте перейдем в Android Studio и
обратимся к файлу.

00:00:10.099 --> 00:00:12.802
Это наш файл макета XML
activity_main.

00:00:12.802 --> 00:00:16.540
Здесь есть предварительный просмотр на
устройстве, отображаемый справа.

00:00:16.540 --> 00:00:20.390
Я могу нажать на эту лупу, чтобы
увеличить вид устройства.

00:00:20.390 --> 00:00:21.270
Так то лучше.

00:00:22.350 --> 00:00:25.550
Чтобы создать требуемый макет, вначале
добавим кнопку «Плюс»

00:00:25.550 --> 00:00:28.650
между надписью «Quantity»[Количество]
и значением количества.

00:00:28.650 --> 00:00:32.790
У нас уже есть кнопка на макете,
служащая для выполнения заказа.

00:00:32.790 --> 00:00:36.330
И я просто скопирую этот код и
вставлю его

00:00:36.330 --> 00:00:39.880
между надписью «Quantity»[Количество]
и значением количества.

00:00:39.880 --> 00:00:42.450
Я вижу, что кнопка появилась
на верном месте, но

00:00:42.450 --> 00:00:45.470
мне необходимо изменить текст
на знак +.

00:00:47.010 --> 00:00:48.660
Здорово!
Также я уберу

00:00:48.660 --> 00:00:52.790
отступ сверху, потому что у нас уже есть
отступ в 16dp под

00:00:52.790 --> 00:00:54.310
данным текстовым полем.

00:00:54.310 --> 00:00:56.300
Удаляем отступ.

00:00:56.300 --> 00:00:59.940
Кнопка довольно большая, а в задании
мы просили вас изменить ее размер,

00:00:59.940 --> 00:01:02.880
сделав высоту и ширину равными 48dp.

00:01:02.880 --> 00:01:04.660
Я изменю XML код
кнопки.

00:01:06.010 --> 00:01:08.100
Отлично.
Теперь размер нормальный.

00:01:08.100 --> 00:01:12.030
Теперь копируем этот XML код и
вставляем ниже значения количества,

00:01:12.030 --> 00:01:13.980
получая таким образом кнопку «-».

00:01:13.980 --> 00:01:17.430
Я удалила пробелы, потому что
в соответствии с указаниями по стилю кода

00:01:17.430 --> 00:01:20.690
Android, в тексте кода не должно быть
лишних пробелов.

00:01:20.690 --> 00:01:25.050
Теперь изменим надпись на этой кнопке,
чтобы здесь стоял «-».

00:01:26.070 --> 00:01:29.210
Размеры кнопки уже 48dp на 48dp.

00:01:29.210 --> 00:01:31.010
Теперь у нас есть кнопки
+ и -.

00:01:32.320 --> 00:01:35.990
Ранее мы упомянули, что хотим изменить
начальное значение количества на 2, а

00:01:35.990 --> 00:01:38.280
начальную цену установить в $10.

00:01:38.280 --> 00:01:39.380
Давайте сделаем это.

00:01:40.410 --> 00:01:42.620
Вот как выглядит наш макет
на текущий момент.

00:01:42.620 --> 00:01:46.170
Давайте вернемся к нашему заданию,
чтобы отметить прогресс.

00:01:46.170 --> 00:01:49.430
Мы успешно изменили макет,
однако нам также необходимо изменить

00:01:49.430 --> 00:01:52.610
кнопку +, чтобы по ее нажатию
вызывался метод увеличения количества.

00:01:52.610 --> 00:01:55.720
А по нажатию кнопки -
должен вызываться метод уменьшения.

00:01:56.830 --> 00:02:00.530
Возвращаемся к Android Studio.
Изменим кнопку + таким образом,

00:02:00.530 --> 00:02:04.390
чтобы значение атрибута onClick
было Increment [Увеличить].

00:02:04.390 --> 00:02:07.060
Тогда, при нажатии кнопки + будет
вызываться метод,

00:02:07.060 --> 00:02:09.430
называемый Increment из тела программы.

00:02:09.430 --> 00:02:12.883
Аналогично, для кнопки -,
изменим атрибуты onClick, присвоив

00:02:12.883 --> 00:02:14.376
значение Decrement [Уменьшение].

00:02:16.477 --> 00:02:19.350
Сохраняем это и
запускаем на устройстве.

00:02:20.780 --> 00:02:25.420
Макет выглядит верно, но если я нажму
кнопку +, приложение даст сбой.

00:02:25.420 --> 00:02:27.560
Вы помните, я показывала вам,
как проверять журналы

00:02:27.560 --> 00:02:29.310
с отслеживанием ошибок?

00:02:29.310 --> 00:02:32.560
Журнал уже открыт по умолчанию,
и давайте перетащим эту стрелку вверх,

00:02:32.560 --> 00:02:35.320
чтобы мы могли видеть больше сообщений.

00:02:35.320 --> 00:02:38.020
Если мы прокрутим выше,
мы увидим нашу ошибку.

00:02:39.300 --> 00:02:42.550
Это наше приложение — JustJava, и здесь
сказано: «Недопустимое состояние объекта».

00:02:43.790 --> 00:02:47.040
Если прокрутить вправо,
можно увидеть больше информации.

00:02:47.040 --> 00:02:50.750
Сообщение об ошибке говорит, что
программа не нашла метод Increment в

00:02:50.750 --> 00:02:52.150
теле MainActivity.

00:02:52.150 --> 00:02:55.940
Это выглядит очень похоже на ошибку,
которая у нас была в прошлом видео.

00:02:55.940 --> 00:02:58.850
Проще говоря, в теле программы нет
метода с именем Increment.

00:02:58.850 --> 00:03:01.765
И этого можно было ожидать, потому что
мы его еще не добавили.

00:03:02.820 --> 00:03:03.760
Вторым шагом

00:03:03.760 --> 00:03:07.150
нам необходимо добавить метод Increment
в тело программы, создать

00:03:07.150 --> 00:03:12.230
переменную количества с начальным
значением 3 и отобразить это количество.

00:03:12.230 --> 00:03:15.100
Чтобы это сделать,
открываем главный Java-файл.

00:03:15.100 --> 00:03:18.160
Процесс привязки реакции к кнопке +
будет очень похож на то,

00:03:18.160 --> 00:03:20.900
как мы это делали для кнопки
выполнения заказа.

00:03:20.900 --> 00:03:23.490
Поэтому, давайте скопируем метод, который
обрабатывает нажатие кнопки заказа.

00:03:25.030 --> 00:03:28.406
Сразу же я получаю ошибку, которая
говорит, что метод submitOrder уже

00:03:28.406 --> 00:03:29.600
определен в главном файле.

00:03:29.600 --> 00:03:32.980
Вы не можете иметь два метода с
одинаковым именем в главном файле.

00:03:32.980 --> 00:03:34.350
Но ничего,

00:03:34.350 --> 00:03:36.779
я изменю этот метод на
Increment в любом случае.

00:03:37.860 --> 00:03:38.790
И ошибка пропадает.

00:03:39.820 --> 00:03:42.912
Изменим комментарий,
потому что теперь это новый метод.

00:03:42.912 --> 00:03:45.610
Я изменю комментарий таким образом,
чтобы упомянуть кнопку +,

00:03:45.610 --> 00:03:47.590
вместо кнопки заказа.

00:03:47.590 --> 00:03:51.192
В самом методе Increment, я создам
целочисленную переменную количества.

00:03:51.192 --> 00:03:56.180
Установлю начальное значение в 3,
как это требуется по заданию.

00:03:56.180 --> 00:03:59.030
Затем можно отобразить
данное количество на экране.

00:03:59.030 --> 00:04:00.820
Нам не нужно обновлять
цену в этом методе, поэтому

00:04:00.820 --> 00:04:03.110
я удалю эту строку кода.

00:04:03.110 --> 00:04:04.690
Все выглядит верно и давайте это проверим.

00:04:06.030 --> 00:04:10.020
Теперь по нажатию на кнопку +,
значение становится 3.

00:04:10.020 --> 00:04:11.670
Здорово.

00:04:11.670 --> 00:04:14.240
Но если я нажму кнопку -,
программа даст сбой.

00:04:15.740 --> 00:04:19.072
Давайте проверим журналы. Я
прокручу вниз, чтобы увидеть

00:04:19.072 --> 00:04:22.010
наиболее свежие журналы, а затем
перейду вверх к последним ошибкам.

00:04:23.070 --> 00:04:23.690
В нашем приложении

00:04:23.690 --> 00:04:26.330
произошла ошибка IllegalStateException,
потому что программа не смогла найти метод

00:04:26.330 --> 00:04:28.610
Decrement в главном файле.

00:04:28.610 --> 00:04:32.580
Это также было ожидаемо, потому что
мы не еще не добавили этот метод.

00:04:32.580 --> 00:04:33.600
Давайте это сделаем.

00:04:35.052 --> 00:04:37.790
Скопируем этот метод и
вставим его ниже.

00:04:38.980 --> 00:04:40.610
Переименуем его в Decrement.

00:04:42.110 --> 00:04:43.980
Теперь необходимо изменить комментарий.

00:04:43.980 --> 00:04:46.730
Данный метод вызывается при
нажатии кнопки -.

00:04:48.180 --> 00:04:50.190
Чтобы понять, что требуется
выполнить в данном методе,

00:04:50.190 --> 00:04:52.100
обратимся к нашему заданию.

00:04:52.100 --> 00:04:54.190
На данный момент мы завершили два этапа.

00:04:54.190 --> 00:04:57.215
Последним этапом необходимо
создать метод Decrement в главном файле.

00:04:57.215 --> 00:04:59.705
Мы создадим переменную количества и
установим начальное значение в 1.

00:05:00.920 --> 00:05:02.840
Затем мы отобразим
данное количество на экране.

00:05:04.140 --> 00:05:06.990
В методе Decrement мы создали
целочисленную переменную количества.

00:05:06.990 --> 00:05:09.160
Установим начальное значение в
единицу и

00:05:09.160 --> 00:05:11.340
отобразим
данное количество на экране.

00:05:12.870 --> 00:05:13.940
Теперь запустим это на устройстве.

00:05:15.570 --> 00:05:18.790
Скрестите пальцы, чтобы в этот раз
программа не дала сбой.

00:05:18.790 --> 00:05:22.350
Если я нажму кнопку -,
то да, значение уменьшается до 1.

00:05:22.350 --> 00:05:25.250
Если я нажму кнопку +,
то оно увеличивается до 3.

00:05:25.250 --> 00:05:27.970
Итак, кнопки работают как и требовалось,
по крайней мере на данном этапе

00:05:27.970 --> 00:05:29.670
разработки нашего приложения.

00:05:29.670 --> 00:05:34.063
В идеале, как я упоминала ранее,
значение должно увеличиваться до 4,5,6,

00:05:34.063 --> 00:05:36.620
и должно уменьшаться до 2,1,0.

00:05:36.620 --> 00:05:39.510
Но мы придем к этому
позже во время данного урока.

00:05:39.510 --> 00:05:40.250
Отличная работа!

