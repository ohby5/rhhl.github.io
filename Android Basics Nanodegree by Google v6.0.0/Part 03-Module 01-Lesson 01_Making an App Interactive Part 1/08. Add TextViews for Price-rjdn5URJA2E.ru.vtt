WEBVTT
Kind: captions
Language: ru

00:00:00.410 --> 00:00:03.080
Теперь создайте
такой макет самостоятельно.

00:00:03.080 --> 00:00:06.060
Добавьте элемент TextView
с надписью «Price»(«Цена») сюда, а

00:00:06.060 --> 00:00:09.310
затем еще один элемент TextView,
показывающий ноль долларов.

00:00:09.310 --> 00:00:15.650
Также назначьте второму элементу TextView
идентификатор вида «price_text_view».

00:00:15.650 --> 00:00:18.580
Такой идентификатор необходим,
потому что позже нам понадобится

00:00:18.580 --> 00:00:21.780
обращаться к этому элементу,
чтобы изменять значение цены.

00:00:21.780 --> 00:00:25.860
И пока вы работаете с этой частью,
измените стиль данных элементов TextView

00:00:25.860 --> 00:00:27.760
для соответствия предыдущим элементам.

00:00:27.760 --> 00:00:31.630
Вертикальные интервалы между этими
элементами также составляют 16dp.

00:00:31.630 --> 00:00:34.210
Чтобы поле цены
также обновлялось,

00:00:34.210 --> 00:00:37.800
нам необходимо внести некоторые изменения
в главный Java-файл.

00:00:37.800 --> 00:00:39.730
Мы поможем вам
в этом.

00:00:39.730 --> 00:00:42.540
Мы познакомим вас с новым методом,
который вы сможете добавить в главный

00:00:42.540 --> 00:00:44.260
файл Java.

00:00:44.260 --> 00:00:47.640
Откройте Gist по ссылке,
приведенной в Указаниях преподавателю.

00:00:47.640 --> 00:00:50.790
Кстати, «gist»(гист) — это сниппет или

00:00:50.790 --> 00:00:54.530
небольшой кусок повторно используемого
когда, которым вы хотите поделиться.

00:00:54.530 --> 00:00:58.390
В нашем случае
мы зашли на страницу Gist сайта GitHub

00:00:58.390 --> 00:01:02.290
и создали новый гист с кодом, которым
хотим поделиться с вами.

00:01:02.290 --> 00:01:05.780
Теперь мы можем просто дать вам ссылку,
и вы сможете получить код.

00:01:05.780 --> 00:01:09.140
Мы выделим весь этот код целиком и
скопируем.

00:01:09.140 --> 00:01:11.050
Не забудьте добавить сюда комментарий,

00:01:11.050 --> 00:01:13.852
который будет являться указанием читателям
и закрывающую скобку сюда.

00:01:13.852 --> 00:01:17.960
Теперь мы вставим этот код
в главный Java-файл.

00:01:17.960 --> 00:01:18.740
Обожаю свободные коды.

00:01:19.740 --> 00:01:22.940
Убедитесь, что скобки
будут выровнены после вставки кода.

00:01:22.940 --> 00:01:26.180
Скобки всегда доставляют неудобства,
в вашем ли они приложении или на зубах.

00:01:26.180 --> 00:01:30.040
Можно получить кучу ошибок, если
скобки не будут выровнены...

00:01:30.040 --> 00:01:33.850
Например, если я вставлю этот блок
кода сюда,

00:01:33.850 --> 00:01:37.740
то получу ошибку, сообщающую —
ожидается класс или интерфейс.

00:01:37.740 --> 00:01:40.880
Причина в том, что этот метод находится
неизвестно в каком месте.

00:01:40.880 --> 00:01:45.380
На самом деле он должен находиться в
главной части между открывающей и

00:01:45.380 --> 00:01:47.380
закрывающей скобками тела программы.

00:01:47.380 --> 00:01:51.780
Давайте скопируем эту часть и поместим
перед закрывающей скобкой тела программы.

00:01:51.780 --> 00:01:53.910
Так-то лучше.

00:01:53.910 --> 00:01:58.590
Другой проблемой может стать, если вы
забудете скопировать закрывающую скобку и

00:01:58.590 --> 00:02:00.870
перенесете только эту верхнюю
часть метода.

00:02:00.870 --> 00:02:01.530
В этом случае

00:02:01.530 --> 00:02:05.540
вы получите другую ошибку, сообщающую,
что требуется закрывающая скобка.

00:02:05.540 --> 00:02:07.170
Поэтому вам придется ее добавить.

00:02:07.170 --> 00:02:10.038
Еще одну ошибку вы можете ожидать,
если случайно

00:02:10.038 --> 00:02:12.050
добавите метод прямо сюда.

00:02:12.050 --> 00:02:15.940
То есть до закрывающей скобки
метода отображения.

00:02:15.940 --> 00:02:18.760
Тогда весь блок кода окажется внутри
метода отображения,

00:02:18.760 --> 00:02:20.290
что нам не нужно.

00:02:20.290 --> 00:02:23.710
Его следует поместить после метода
отображения, вот сюда.

00:02:25.420 --> 00:02:27.540
Вы поняли —
существует множество вариантов.

00:02:27.540 --> 00:02:30.730
Просто будьте внимательны и 
убедитесь, что все скобки в порядке.

00:02:30.730 --> 00:02:33.730
По-другому это можно проверить
поместив курсор вот сюда,

00:02:33.730 --> 00:02:37.850
прямо после открывающей скобки. Вы видите,
что подсвечивается та закрывающая скобка,

00:02:37.850 --> 00:02:39.000
которая соответствует первой.

00:02:39.000 --> 00:02:40.320
То же и здесь — если я нажму сюда,

00:02:40.320 --> 00:02:42.860
соответствующая закрывающая скобка
окажется здесь.

00:02:44.130 --> 00:02:49.430
То же самое и для метода submitOrder и
для onCreate, и даже для MainActivity.

00:02:50.440 --> 00:02:52.450
Это открывающая скобка для блока
MainActivity, а

00:02:52.450 --> 00:02:55.370
закрывающая скобка подсвечивается
синим в самом низу.

00:02:55.370 --> 00:02:58.650
Сейчас, к сожалению,
у нас все еще имеется ошибка.

00:02:58.650 --> 00:03:03.160
Боковая панель сообщает — невозможно
определить символ «NumberFormat».

00:03:03.160 --> 00:03:05.910
NumberFormat — это объект,
определяемый системой Android

00:03:05.910 --> 00:03:07.620
для форматирования чисел.

00:03:07.620 --> 00:03:10.630
В нашем случае мы пытаемся отформатировать
число, представляющее собой цену, т.е.

00:03:10.630 --> 00:03:14.690
оно снабжено знаком доллара, либо
знаком используемой вами валюты.

00:03:14.690 --> 00:03:16.370
Нам необходимо добавить инструкцию импорта

00:03:16.370 --> 00:03:21.100
потому что пока Android Studio не
может распознать данный объект.

00:03:21.100 --> 00:03:24.410
Чтобы устранить эту ошибку, я покажу
вам как активировать авто-импорт.

00:03:24.410 --> 00:03:26.790
В меню, в верхней части
Android Studio,

00:03:26.790 --> 00:03:29.390
нажмите Android Studio &gt; Preferences.

00:03:29.390 --> 00:03:32.260
Вы попадаете в меню настроек
Android Studio,

00:03:32.260 --> 00:03:35.030
Здесь есть множество настроек,
которые я никогда не меняла, но

00:03:35.030 --> 00:03:38.310
если вдруг что-нибудь понадобится, можно
воспользоваться данным полем поиска.

00:03:38.310 --> 00:03:40.510
И я введу «Auto Import».

00:03:40.510 --> 00:03:41.670
Здесь показаны настройки

00:03:41.670 --> 00:03:44.470
автоматического импортирования
объектов в XML и Java.

00:03:44.470 --> 00:03:48.820
Я установлю этот флажок, сообщающий —
«Добавлять однозначные операторы на лету».

00:03:48.820 --> 00:03:51.850
Возможно данная фраза будет мало что
значить для вас, но это нормально.

00:03:51.850 --> 00:03:53.730
Кажется данная фраза звучит
довольно странно.

00:03:54.920 --> 00:03:59.420
Все, что она делает, это сообщает Android
Studio, что можно автоматически добавлять

00:03:59.420 --> 00:04:01.410
некоторые дополнительные строки
кода в приложение.

00:04:01.410 --> 00:04:06.050
В частности, операторы импорта,
если система знает, к чему мы обращаемся.

00:04:06.050 --> 00:04:06.560
Сейчас я это продемонстрирую.

00:04:07.700 --> 00:04:09.930
На самом деле, все уже получилось.

00:04:09.930 --> 00:04:12.930
Система предположила, что когда мы
упомянули NumberFormat, мы имели ввиду

00:04:12.930 --> 00:04:13.930
данный объект, и это верно.

00:04:13.930 --> 00:04:15.970
То есть система устранила ошибку
за нас автоматически.

00:04:15.970 --> 00:04:17.170
Что просто великолепно.

00:04:17.170 --> 00:04:19.140
Хорошо.
Сейчас, если вы запустите приложение,

00:04:19.140 --> 00:04:22.410
то по нажатию на кнопку «Order»(«Заказ»)
изменится количество, но

00:04:22.410 --> 00:04:23.710
не цена.

00:04:23.710 --> 00:04:26.140
Необходимо модифицировать
метод подачи заказа, чтобы

00:04:26.140 --> 00:04:29.670
происходило обновление цены, также,
как и количества.

00:04:29.670 --> 00:04:31.100
Так что добавим новую строку кода.

00:04:32.910 --> 00:04:36.980
Я вызываю метод отображения цены,
и объявляю, что

00:04:36.980 --> 00:04:41.716
цена равняется двум кружкам кофе
по пять долларов каждая.

00:04:41.716 --> 00:04:44.780
Наш кофе стоит по 5 долларов
за кружку, потому что мы используем

00:04:44.780 --> 00:04:47.460
кофейные бобы сорта Арабика из Эфиопии.

00:04:47.460 --> 00:04:50.260
Но позволим машине
произвести вычисления за

00:04:50.260 --> 00:04:53.742
нас, потому что у нас 2 кружки
по 5 долларов.

00:04:53.742 --> 00:04:56.130
Кстати,
если я упоминаю доллары в этом уроке,

00:04:56.130 --> 00:04:58.610
то вы можете спокойно заменить их
на вашу местную валюту.

00:04:58.610 --> 00:05:01.310
В математическом выражении
знак доллара отсутствует.

00:05:01.310 --> 00:05:04.420
Он добавляется позже в
методе отображения цены.

00:05:04.420 --> 00:05:07.110
Но не думайте о деталях
метода отображения цены,

00:05:07.110 --> 00:05:08.790
мы рассмотрим этот метод
далее в третьем уроке.

00:05:09.840 --> 00:05:12.360
Сейчас сосредоточьтесь на математическом
выражении, которое будет использоваться

00:05:12.360 --> 00:05:14.540
для вычисления цены.

00:05:14.540 --> 00:05:18.030
Также не забывайте ставить точку с запятой
после каждого выражения, иначе

00:05:18.030 --> 00:05:22.160
иначе придет страшный монстр,
схватит вас и выдаст красную ошибку.

00:05:22.160 --> 00:05:25.570
Например, если вы удалите точку с
запятой, то получите ошибку, сообщающую,

00:05:25.570 --> 00:05:27.130
что требуется точка с запятой.

00:05:28.160 --> 00:05:33.030
И чтобы до конца прояснить ситуацию,
клавиша точки с запятой находится здесь.

00:05:33.030 --> 00:05:34.720
Это не двоеточие, это точка с запятой.

00:05:34.720 --> 00:05:37.190
Итак,
завершая,

00:05:37.190 --> 00:05:39.910
у вас должно появиться еще два
элемента TextView для показа цены.

00:05:39.910 --> 00:05:42.810
Главная часть программы должна
измениться с добавлением

00:05:42.810 --> 00:05:44.480
нового метода, который мы предоставили.

00:05:44.480 --> 00:05:47.040
Также должен быть изменен
метод submitOrder,

00:05:47.040 --> 00:05:49.150
в который добавилась новая строка кода
для отображения цены.

00:05:50.240 --> 00:05:53.060
Если вы запустите приложение на вашем
устройстве, вы получите это.

00:05:53.060 --> 00:05:55.237
Все начинается с 0 количества по цене $0.

00:05:55.237 --> 00:05:58.904
И если вы нажмете на кнопку, то
выполняется заказ двух кружек кофе за $10.

00:06:00.070 --> 00:06:04.010
Вы можете поэкспериментировать с
различными количествами и ценами.

00:06:04.010 --> 00:06:06.890
Если вы хотите брать по $10 за кружку —
пожалуйста.

00:06:06.890 --> 00:06:10.160
И не забудьте поменять код обратно на
2 кружки кофе по 5 долларов,

00:06:10.160 --> 00:06:12.770
чтобы мы могли следовать этой схеме далее.

00:06:12.770 --> 00:06:14.100
Отметьте эти пункты по завершению.

