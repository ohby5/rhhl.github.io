WEBVTT
Kind: captions
Language: zh-TW

00:00:00.640 --> 00:00:03.565
讓我們來一起做第一步 也就是新增一個新方法到 MainActivity

00:00:04.930 --> 00:00:07.390
你可以選擇在檔案的任何位置新增方法

00:00:07.390 --> 00:00:11.100
只要它在其它方法的括弧之外就可以了

00:00:11.100 --> 00:00:14.230
我要把它新增到我們定義的其它方法的下面

00:00:14.230 --> 00:00:16.300
也就是 calculatePrice 方法的下面

00:00:16.300 --> 00:00:19.530
我們把存取修飾詞設定為 private 因為只有主活動內的項目

00:00:19.530 --> 00:00:22.960
才會存取這個方法

00:00:24.180 --> 00:00:27.060
返回型別應該是字串

00:00:27.060 --> 00:00:30.550
因為 createOrderSummary 方法應返回一個字串

00:00:30.550 --> 00:00:34.665
然后 方法的名稱是 createOrderSummary

00:00:36.230 --> 00:00:38.940
然后它應該使用價格作為輸入 這是一個數值

00:00:40.340 --> 00:00:42.890
好了 我們需要完成這個方法簽章

00:00:42.890 --> 00:00:47.060
但是現在我們需要實施這個方法 讓它返回這條訊息

00:00:47.060 --> 00:00:52.040
訊息的起頭是名稱 數量 總計 然后是謝謝

00:00:52.040 --> 00:00:54.580
現在我將繼續 復制這條代碼

00:00:54.580 --> 00:00:56.590
然后我要把它貼入 createOrderSummary 方法

00:00:56.590 --> 00:01:00.120
現在我們可以從一些基本代碼開始

00:01:00.120 --> 00:01:01.150
不同之處在於

00:01:01.150 --> 00:01:05.090
訂單摘要的起頭應該是名稱 而不是總價

00:01:05.090 --> 00:01:08.890
現在我要移到下一行 并保存供后面使用

00:01:08.890 --> 00:01:12.359
我要初始化價格訊息變數為 Name

00:01:12.359 --> 00:01:14.580
然后是 Kaptain Kunal.

00:01:14.580 --> 00:01:17.660
然后在一行 我要更新價格訊息

00:01:18.690 --> 00:01:22.025
我要追加到現有訊息

00:01:22.025 --> 00:01:26.485
應該寫為 價格訊息加新文字

00:01:26.485 --> 00:01:31.115
我想要添加數量 然后添加數量變數

00:01:32.265 --> 00:01:34.095
由於變數是全局變數

00:01:34.095 --> 00:01:36.745
我們能夠在這個方法內存取它

00:01:36.745 --> 00:01:39.340
好了 現在我們有了名稱和數量

00:01:39.340 --> 00:01:44.020
在下一行 我想要再次更新 priceMessage

00:01:44.020 --> 00:01:45.940
并且再添加一些文字

00:01:45.940 --> 00:01:48.700
實際上 這個文字應該是總價格

00:01:48.700 --> 00:01:50.270
因此我可以使用前面的內容

00:01:51.340 --> 00:01:55.080
好了 在最后一行我們再次更新 priceMessage

00:01:55.080 --> 00:01:58.639
取那個字串的現有值 然后增加文字 Thank you!

00:01:59.740 --> 00:02:02.210
看上去還不錯 但還是有錯誤

00:02:02.210 --> 00:02:04.260
它說缺少返回陳述式

00:02:04.260 --> 00:02:07.090
由于我們期望返回一個摘要字串

00:02:07.090 --> 00:02:10.370
因此我需要新增另一行代碼 也就是 return

00:02:10.370 --> 00:02:12.240
后面是返回值

00:02:12.240 --> 00:02:15.210
在這個例子中 返回值是 priceMessage

00:02:15.210 --> 00:02:16.630
我也在末尾新增一個分號

00:02:17.660 --> 00:02:19.440
好了 沒有錯誤了

00:02:19.440 --> 00:02:22.150
看起來我們的代碼還不錯 因此我想運行并測試一下

00:02:23.480 --> 00:02:26.300
好了現在我把數量更改為3

00:02:26.300 --> 00:02:28.930
我按一下 order 按鈕 但是沒有反應

00:02:30.620 --> 00:02:32.320
我們看看出了什么問題

00:02:32.320 --> 00:02:35.260
我們仔細看這段代碼 我看到了問題在哪里

00:02:35.260 --> 00:02:38.660
這里有報警說 private 方法 createOrderSummary

00:02:38.660 --> 00:02:39.730
從沒有被使用

00:02:39.730 --> 00:02:41.100
我忘了調用它

00:02:41.100 --> 00:02:42.450
現在我們返回到測驗想幻燈片

00:02:43.580 --> 00:02:46.910
我們已經成功完成第一個任務 但是我需要

00:02:46.910 --> 00:02:50.010
調用submitOrder方法調用createOrderSummary方法

00:02:51.220 --> 00:02:55.300
返回到Android Studio 我需要糾正submitOrder方法

00:02:55.300 --> 00:02:57.300
我已經計算價格 是正確的

00:02:57.300 --> 00:03:00.320
但是現在我需要把它傳遞進入createOrderSummary方法

00:03:00.320 --> 00:03:03.860
因此我需要使用價格變數

00:03:03.860 --> 00:03:05.690
來正確調用createOrderSummary方法

00:03:05.690 --> 00:03:08.340
這個方法的返回值將會存放到

00:03:08.340 --> 00:03:10.380
priceMessage變數

00:03:10.380 --> 00:03:13.190
我不需要這行代碼了

00:03:13.190 --> 00:03:15.260
因為"Thank you"已經這里了

00:03:15.260 --> 00:03:16.680
因此我可以刪除它

00:03:16.680 --> 00:03:20.800
然后更新熒屏內容 我需要做的是

00:03:20.800 --> 00:03:23.230
使用priceMessage變數調用displayMessage方法 這和前面一樣

00:03:23.230 --> 00:03:25.410
現在我嘗試再次執行應用程式

00:03:25.410 --> 00:03:27.370
如果我把數量變更為3

00:03:27.370 --> 00:03:29.930
我按一下order按鈕 還是沒有反應

00:03:31.080 --> 00:03:34.970
大多數文字都在一行內 應該分成多行

00:03:34.970 --> 00:03:37.210
我們回過頭 更正我們的代碼

00:03:37.210 --> 00:03:40.650
看到這段代碼 我意識到我忘了新行字符

00:03:40.650 --> 00:03:43.950
我已經正確新增Thank you 但是沒有為其他行新增這個訊息

00:03:43.950 --> 00:03:46.340
現在我要把它新增到其他行

00:03:47.510 --> 00:03:49.230
讓我們再次運行

00:03:50.370 --> 00:03:51.600
這次正常了

00:03:51.600 --> 00:03:52.830
太好了

00:03:52.830 --> 00:03:56.050
現在Kaptain Kunal可以訂購三杯咖啡

00:03:56.050 --> 00:03:59.670
你還可以對你的代碼進行其它優化

00:03:59.670 --> 00:04:02.530
請注意 你可以在createOrderSummary方法內調用calculatePrice方法

00:04:02.530 --> 00:04:07.170
而不是作為輸入參數進行傳遞

00:04:07.170 --> 00:04:10.420
因此在這里調用calculatePrice

00:04:10.420 --> 00:04:12.880
這也會正常運行

00:04:12.880 --> 00:04:16.250
但是我想告訴你 你可以使用一個方法的輸出

00:04:16.250 --> 00:04:18.370
把它作為輸入傳遞給其他方法

00:04:18.370 --> 00:04:20.040
我們把它放在createOrderSummary方法內

00:04:21.440 --> 00:04:23.874
這和前面是一樣的

00:04:23.874 --> 00:04:27.920
我要做的另外一件事情是使用+=運算子

00:04:27.920 --> 00:04:29.240
這是一個縮寫形式

00:04:29.240 --> 00:04:35.070
它等同于priceMessage = priceMessage +

00:04:35.070 --> 00:04:40.660
因此我把所些代碼變更為 += 將會和前面是一樣的

00:04:40.660 --> 00:04:43.680
只是這樣輸入的代碼更少 更簡潔

00:04:44.740 --> 00:04:46.120
在calculatePrice方法內

00:04:46.120 --> 00:04:49.160
我應該做的事情是立即返回值

00:04:49.160 --> 00:04:54.030
而不是把它存放到一個區域變數 然后再返回

00:04:54.030 --> 00:04:56.840
這樣代碼也會更簡潔

00:04:56.840 --> 00:05:00.340
在這里在submitOrder方法內 我們并不建立訂單摘要

00:05:00.340 --> 00:05:03.880
并把它存放入一個變數 然后在后面使用它

00:05:03.880 --> 00:05:08.960
我可以調用createOrderSummary 然后調用displayMessage

00:05:08.960 --> 00:05:11.290
結果也是一樣的

00:05:11.290 --> 00:05:14.590
createOrderSummary方法的返回值是一個字串

00:05:14.590 --> 00:05:19.190
然后被作為輸入參數傳遞給displayMessage方法

00:05:19.190 --> 00:05:21.410
你也可以這樣做 而且更容易理解

00:05:23.110 --> 00:05:25.630
所有這些小竅門和小技巧都是使用相同的邏輯

00:05:27.030 --> 00:05:30.290
但是為了避免忘記 應該在這個方法的頂部增加Javadoc備注

00:05:30.290 --> 00:05:33.680
描述這個方法要做的事情

00:05:33.680 --> 00:05:36.821
從技術上說 private方法并不需要Javadoc備注

00:05:36.821 --> 00:05:39.449
但是為方法書寫描述是一個很好的做法

00:05:39.449 --> 00:05:42.437
這樣別人在閱讀你的代碼時

00:05:42.437 --> 00:05:44.380
就能知道你想要做什么

00:05:44.380 --> 00:05:48.002
這個方法的描述告訴我們 它要建立一個訂單摘要

00:05:48.002 --> 00:05:51.560
輸入參數是訂單價格 返回的內容是文字摘要

