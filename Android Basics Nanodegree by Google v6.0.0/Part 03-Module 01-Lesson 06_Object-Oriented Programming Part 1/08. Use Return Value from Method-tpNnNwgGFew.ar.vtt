WEBVTT
Kind: captions
Language: ar

00:00:00.934 --> 00:00:03.934
في البداية سنقوم بتعديل
توقيع وظيفة calculatePrice

00:00:04.067 --> 00:00:05.834
لنحصل على نوع بيانات الإجابة الصحيح

00:00:06.434 --> 00:00:08.768
سنفترض أيضاً أنه لا توجد
باراميترات مُدخلات

00:00:09.834 --> 00:00:12.268
هنا حيث تم تعريف
وظيفة calculatePrice

00:00:12.834 --> 00:00:16.134
الهدف من هذه الوظيفة
هو حساب السعر الإجمالي للطلب

00:00:16.334 --> 00:00:17.401
ثم الإجابة به

00:00:18.167 --> 00:00:19.467
يفترض بالسعر أن يكون عدداً..

00:00:19.534 --> 00:00:22.768
لذا ينبغي أن نغير نوع بيانات الإجابة
من void إلى int

00:00:23.734 --> 00:00:25.301
بهذا نكون أتممنا المهمة الأولى

00:00:25.801 --> 00:00:28.834
جزء من الاختبار أيضاً أن نحرص
على ألا يكون هناك باراميترات مُدخلات

00:00:29.000 --> 00:00:30.000
وهو ما لدينا هنا

00:00:30.968 --> 00:00:33.936
المهمة الثانية، هي تعديل
ما بداخل الوظيفة..

00:00:34.133 --> 00:00:36.834
للحرص على أننا نحسب سعر الطلب الصحيح

00:00:37.200 --> 00:00:39.300
بفرض سعر 5 دولارات لكوب القهوة

00:00:40.701 --> 00:00:43.669
بداخل هذه الوظيفة نحن نأخذ
كمية الأكواب المطلوبة..

00:00:43.834 --> 00:00:46.535
ثم نضربها في 5 دولارات لكل كوب قهوة

00:00:47.701 --> 00:00:49.602
سيساوي هذا السعر الإجمالي للطلب

00:00:49.834 --> 00:00:51.301
إذن فهذا السطر صحيح

00:00:52.219 --> 00:00:54.221
لكني أرى مشكلتين..

00:00:54.601 --> 00:00:56.435
المتغير price لم يستخدم أبداً

00:00:56.601 --> 00:00:59.102
وخطأ يذكر أن جملة الإجابة مفقودة

00:00:59.434 --> 00:01:02.801
فهو يتوقع منا الإجابة بعدد طبيعي
ولكننا لا نجيب بأي شيء

00:01:03.434 --> 00:01:06.501
حالياً فإن الكود هو نفسه
لو كنا كتبنا هذا

00:01:07.100 --> 00:01:11.200
نحن بحاجة إلى سطر يذكر return
ثم نضع قيمة هنا حقاً

00:01:11.868 --> 00:01:13.702
وقيمة الإجابة التي نريدها هي price

00:01:13.934 --> 00:01:17.635
لذا سأضع price وهو متغير
عرفناه بالأعلى هنا

00:01:18.234 --> 00:01:20.068
رائع، الآن اختفت كل الأخطاء

00:01:20.767 --> 00:01:22.601
ينبغي أيضاً أن نعدل توثيق جافا

00:01:22.734 --> 00:01:26.535
لنحدد أننا نجيب بإجمالي السعر

00:01:27.067 --> 00:01:30.100
هكذا لو استدعى أحدهم هذه الوظيفة
فسيعرف ما الذي يتوقعه

00:01:31.501 --> 00:01:34.968
أنهينا الآن كافة أجزاء تعريف الوظيفة

00:01:35.667 --> 00:01:37.700
فلننتقل إلى حيث يتم استدعاء الوظيفة

00:01:38.601 --> 00:01:42.001
‫بداخل وظيفة submitOrder..
‫ينبغي أن نستدعي calculatePrice

00:01:43.200 --> 00:01:45.867
حالياً فإن calculatePrice
تطفو بلا هدف

00:01:46.067 --> 00:01:48.868
سأقوم بنسخها ولصقها بالأعلى هنا

00:01:49.133 --> 00:01:53.834
لأنه سابقاً كنا نحسب سعر الطلب مباشرة
في السطر في وظيفة submitOrder..

00:01:54.100 --> 00:01:56.968
ولكن الآن لدينا وظيفة لهذا،
لذا سأقوم بلصق هذا هنا

00:01:57.534 --> 00:01:59.402
ونتخلص من الفاصلة المنقوطة الزائدة

00:01:59.868 --> 00:02:02.569
لاحظ أن price متغير محلي
في هذه الوظيفة

00:02:02.834 --> 00:02:04.468
وأيضاً في هذه الوظيفة

00:02:04.834 --> 00:02:08.535
لا مشكلة إن كان لهم نفس الاسم
لأنهما في حيزين مختلفين

00:02:09.267 --> 00:02:12.868
إذ أن المتغير price هنا لا علاقة
له بتاتاً بهذا المتغير هنا

00:02:13.100 --> 00:02:15.867
فهما يتم إنشائهما وتحديثهما بشكل منفصل

00:02:16.267 --> 00:02:19.934
وبمجرد انتهاء هذه الوظيفة من التنفيذ
فإن المتغير price هنا سيختفي

00:02:20.734 --> 00:02:22.867
فلنعد إلى وظيفة submitOrder

00:02:23.200 --> 00:02:25.834
لقد قمنا بحساب السعر
وحفظناه في متغير..

00:02:26.033 --> 00:02:29.700
بعدها يمكننا استخدامه
في إنشاء رسالة السعر

00:02:30.734 --> 00:02:32.867
إذن في الواقع كل هذا الكود
يمكن أن يبقى كما هو

00:02:33.400 --> 00:02:35.433
سنقوم بربط العدد price..

00:02:35.667 --> 00:02:38.901
مع سلسلة الحروف (Total)
ورمز العملة

00:02:39.501 --> 00:02:42.935
ثم نقوم بربط "شكراً لك"
ثم نقوم بعرضها على الشاشة

00:02:43.667 --> 00:02:46.501
سأمسح هذه السطور الفارغة الإضافية

00:02:46.701 --> 00:02:49.502
وأحفظه لنشغله على الجهاز

00:02:50.601 --> 00:02:52.001
حسناً، غيرنا الكمية

00:02:52.100 --> 00:02:55.767
وضغطت على زر الطلب
فظهر السعر بشكل سليم 25 دولار

00:02:56.701 --> 00:02:57.901
رائع، إنه يعمل

00:02:58.601 --> 00:03:02.001
ولكن كيف أتأكد أن calculatePrice
تعمل بالفعل؟

00:03:02.167 --> 00:03:05.834
لأنه ليس هناك تغيير مرئي للمستخدم
مقارنة مع تطبيقنا قبل ذلك

00:03:06.501 --> 00:03:10.501
إليك بعض الأساليب للتأكد
من أن الكود الخاص يعمل بالفعل

00:03:10.834 --> 00:03:15.134
أستطيع أن أجعله يرجع رقم
غير منطقي مثل الرقم 700

00:03:15.934 --> 00:03:17.635
وأحفظ الكود وأقوم بتشغيله

00:03:18.634 --> 00:03:21.201
الآن ما أتوقع أن أراه لو غيرت الكمية

00:03:21.267 --> 00:03:25.034
ونقرت زر الطلب أن تقول
أن السعر هو 700 دولار

00:03:25.667 --> 00:03:29.301
بهذه الطريقة أستطيع أن أعرف
أن هذه الوظيفة يتم استدعاؤها فعلاً

00:03:30.234 --> 00:03:31.735
وهذا ما تم بالفعل، رائع

00:03:32.868 --> 00:03:34.535
الآن أستطيع التراجع عن التغييرات

00:03:34.968 --> 00:03:38.001
طريقة أخرى للتأكد من أن هذه الوظيفة
يتم تنفيذها بالفعل

00:03:38.133 --> 00:03:39.467
هو إضافة نقطة وقوف هنا

00:03:40.234 --> 00:03:42.367
سأقوم بالنقر على رمز الخطأ الصغير هذا

00:03:43.234 --> 00:03:45.168
وهكذا تطبيقنا سيدخل وضع اكتشاف الأخطاء

00:03:46.334 --> 00:03:48.268
لو غيرت الكمية ونقرت زر الطلب..

00:03:48.367 --> 00:03:51.290
وضغطت على زر الطلب، فإن التطبيق
سيتوقف عند هذه النقطة

00:03:53.067 --> 00:03:54.167
وهذا ما فعله

00:03:54.567 --> 00:03:57.001
الآن نحن في وظيفة calculatePrice..

00:03:57.467 --> 00:03:59.567
هناك متغير عام وهو الكمية

00:03:59.865 --> 00:04:02.618
ولو انتقلت إلى السطر التالي..

00:04:03.300 --> 00:04:05.967
سأرى أن هناك متغير محلي هو السعر

00:04:06.334 --> 00:04:11.467
وهو محدد بـ 15 دولار لأن الكمية 3
إذن 3 مضروبة في 5 يساوي 15، ممتاز

00:04:12.200 --> 00:04:15.434
إذن هو يمر عبر وظيفة calculatePrice

00:04:15.596 --> 00:04:18.834
لو نقرت زر المتابعة.. سيتم التحديث
بشكل سليم على الشاشة

