WEBVTT
Kind: captions
Language: ar

00:00:00.634 --> 00:00:03.667
‫فلنقم بالخطوة الأولى معاً وهي
‫إضافة وظيفة جديدة للنشاط الرئيسي

00:00:04.934 --> 00:00:07.268
‫اختر أي مكان في الملف
‫لإضافة وظيفتك

00:00:07.367 --> 00:00:10.467
‫طالما أنه خارج أقواس الوظائف
‫الأخرى المعقوفة

00:00:11.033 --> 00:00:13.934
‫سأقوم بإضافتها مباشرة أسفل
‫الوظيفة التي قمنا بتعريفها

00:00:14.200 --> 00:00:15.901
‫والتي كانت calculatePrice

00:00:16.200 --> 00:00:18.600
‫سأجعل مُعدِل الوصول خاص..

00:00:18.734 --> 00:00:23.101
‫لأن كل ما يحتاج للوصول إلى هذه
‫الوظيفة يقع في النشاط الرئيسي

00:00:24.167 --> 00:00:26.868
‫ثم سأقول أن نوع الإجابة هو سلسلة حروف

00:00:27.200 --> 00:00:30.767
‫لأن وظيفة createOrderSummary
‫ينبغي تجيب بسلسلة حروف

00:00:31.000 --> 00:00:34.801
‫ثم.. اسم الوظيفة createOrderSummary

00:00:36.133 --> 00:00:39.101
‫ينبغي أن تأخذ السعر كأحد المدخلات
‫والذي هو رقم

00:00:40.267 --> 00:00:42.367
‫حسناً، لقد أنهينا توقيع الوظيفة

00:00:42.767 --> 00:00:46.434
‫لكن الآن يجب علينا تطبيق الوظيفة
‫لتجيب بهذه الرسالة

00:00:47.067 --> 00:00:51.334
‫تبدأ الرسالة بالاسم ثم الكمية
‫ثم المجموع ثم شكراً

00:00:52.100 --> 00:00:54.167
‫لذا سأنسخ هذا..

00:00:54.367 --> 00:00:56.868
‫وألصقه في وظيفة
‫createOrderSummary

00:00:57.701 --> 00:00:59.368
‫الآن يمكننا أن نبدأ ببعض الكود الأساسي

00:01:00.033 --> 00:01:03.100
‫الفرق أن ملخص الطلب
‫ينبغي أن يبدأ باسم..

00:01:03.200 --> 00:01:04.500
‫وليس بإجمالي الطلب

00:01:05.100 --> 00:01:08.467
‫لذا سأقوم بتحريك هذه
‫إلى السطر التالي وأحفظه لوقت لاحق

00:01:08.934 --> 00:01:12.001
‫سأبدأ رسالة المتغير priceMessage
‫بكتابة الاسم

00:01:12.267 --> 00:01:14.034
‫ثم (كابتن كونال)

00:01:14.567 --> 00:01:17.734
‫ثم في السطر التالي
‫سأحدث رسالة السعر

00:01:18.667 --> 00:01:21.700
‫سأضيف إلى الرسالة الموجودة

00:01:21.868 --> 00:01:25.868
‫لذا سأقول priceMessage ثم علامة زائد
‫ثم النص الجديد

00:01:26.267 --> 00:01:28.235
‫وأريد إضافة كلمة (الكمية)..

00:01:28.434 --> 00:01:31.235
‫ثم إضافة المتغير quantity

00:01:32.234 --> 00:01:34.001
‫وحيث أن quantity هي متغير عام..

00:01:34.100 --> 00:01:36.167
‫فيمكننا الوصول إليه من هذه الوظيفة

00:01:36.667 --> 00:01:38.667
‫الآن لدينا الاسم والكمية

00:01:39.267 --> 00:01:43.434
‫في السطر التالي سأقوم بتحديث
‫الوظيفة priceMessage مرة أخرى

00:01:43.834 --> 00:01:45.201
‫وأضيف المزيد من النص

00:01:45.868 --> 00:01:48.469
‫هذا النص في الواقع يفترض أن يكون
‫هو السعر الإجمالي

00:01:48.601 --> 00:01:50.469
‫لذا أستطيع استخدام ما كان لدينا من قبل

00:01:51.267 --> 00:01:54.934
‫ثم في السطر الأخير سنقوم بتحديث
‫الوظيفة priceMessage مرة أخرى

00:01:55.067 --> 00:01:58.734
‫ونأخذ القيمة الموجودة لسلسلة الحروف هذه
‫ثم نضيف شكراً إليها

00:01:59.767 --> 00:02:00.834
‫هذا يبدو جيداً..

00:02:01.000 --> 00:02:03.801
‫ولكن لا يزال هناك خطأ موجود
‫ويذكر أن جملة الإجابة مفقودة

00:02:04.200 --> 00:02:06.801
‫بما أننا يفترض أن نجيب
‫بسلسلة حروف الملخص..

00:02:07.100 --> 00:02:10.167
‫فأنا بحاجة لإضافة سطر كود آخر
‫يقول return

00:02:10.300 --> 00:02:12.034
‫ثم قيمة الإجابة

00:02:12.167 --> 00:02:14.534
‫في هذه الحالة فإن قيمة الإجابة
‫هي priceMessage

00:02:15.167 --> 00:02:16.801
‫ثم أضيف فاصلة منقوطة في النهاية

00:02:17.501 --> 00:02:19.002
‫حسناً، لقد اختفى الخطأ الآن

00:02:19.434 --> 00:02:22.201
‫يبدو أن الكود المكتوب جيد
‫سأقوم بتشغيله واختباره

00:02:23.400 --> 00:02:25.867
‫حسناً، الآن لو غيرت الكمية إلى 3..

00:02:26.133 --> 00:02:27.600
‫ونقرت زر الطلب..

00:02:28.133 --> 00:02:29.200
‫فإنه لا يعمل

00:02:30.567 --> 00:02:31.834
‫فلنر ما المشكلة

00:02:32.267 --> 00:02:34.868
‫بالنظر عن قرب إلى الكود
‫أرى الآن ما هي المشكلة

00:02:35.267 --> 00:02:39.534
‫نجد تحذيرا هنا يذكر أن الوظيفة الخاصة
‫createOrderSummary غير مُستخدمة

00:02:39.701 --> 00:02:40.834
‫نسيت استدعاءها

00:02:41.067 --> 00:02:42.434
‫فلنعد إلى صفحة الاختبار

00:02:43.501 --> 00:02:45.568
‫حسناً، لقد قمنا بالمهمة الأولى بنجاح

00:02:45.767 --> 00:02:50.167
‫وعلي الآن استدعاء وظيفة
‫createOrderSummary من submitOrder

00:02:51.234 --> 00:02:54.601
‫بالعودة إلى أندرويد ستوديو
‫أحتاج لإصلاح وظيفة submitOrder

00:02:55.100 --> 00:02:57.167
‫لقد قمت بحساب السعر
‫وهو صحيح

00:02:57.300 --> 00:03:00.034
‫ولكن الآن علي تمريره إلى وظيفة
‫createOrderSummary

00:03:00.334 --> 00:03:01.601
‫لذا سأفعل ذلك هنا

00:03:02.133 --> 00:03:04.967
‫سأكتب createOrderSummary..
‫مع المتغير price

00:03:05.667 --> 00:03:09.700
‫قيمة إجابة هذه الوظيفة ستُحفظ
‫في المتغير priceMessage

00:03:10.300 --> 00:03:12.300
‫ولم أعد بحاجة لهذا السطر من الكود

00:03:12.367 --> 00:03:14.801
‫لأن شكراً موجودة بالفعل في النص هنا

00:03:15.167 --> 00:03:16.367
‫لذا يمكنني مسح هذا

00:03:16.601 --> 00:03:20.335
‫ثم لتحديث الشاشة كل ما علي فعله
‫هو استدعاء displayMessage

00:03:20.567 --> 00:03:22.634
‫مع المتغير priceMessage كما فعلنا سابقاً

00:03:23.133 --> 00:03:24.734
‫الآن فلنجرب التطبيق مرة أخرى

00:03:25.334 --> 00:03:27.035
‫لو غيرت الكمية إلى 3

00:03:27.234 --> 00:03:28.501
‫ثم نقرت زر الطلب..

00:03:28.901 --> 00:03:30.168
‫إنه ما يزال لا يعمل

00:03:31.067 --> 00:03:34.634
‫معظم النص في سطر واحد
‫بينما ينبغي أن يكون في عدة سطور

00:03:34.834 --> 00:03:36.468
‫لذا فلنعد ونصلح الكود

00:03:37.200 --> 00:03:40.867
‫بالنظر إلى هذا الكود عرفت أنني قد نسيت
‫رمز السطر الجديد

00:03:41.367 --> 00:03:43.801
‫قمت بإضافته بشكل سليم مع شكراً
‫ولكن ليس مع الباقي

00:03:43.934 --> 00:03:46.468
‫لذا سأقوم بإضافته للسطور الأخرى الآن

00:03:47.467 --> 00:03:49.401
‫حسناً، فلنجربه مرة أخرى

00:03:50.334 --> 00:03:51.434
‫وها هو يعمل

00:03:51.534 --> 00:03:52.601
‫رائع

00:03:52.801 --> 00:03:55.402
‫الآن يستطيع (كابتن كونال)
‫أن يحظى بأكواب قهوته الثلاث

00:03:55.968 --> 00:03:59.001
‫أريد أن أريكم بعض التحسينات
‫التي يمكنكم إضافتها إلى الكود

00:03:59.667 --> 00:04:02.067
‫لاحظ أنه كان بإمكانك استدعاء
‫وظيفة calculatePrice..

00:04:02.267 --> 00:04:04.001
‫من وظيفة createOrderSummary..

00:04:04.133 --> 00:04:06.467
‫بدلاً من تمريرها كباراميتر إدخال

00:04:07.167 --> 00:04:10.768
‫إذن كان بإمكانك حساب السعر
‫بطريقة سليمة هنا

00:04:11.367 --> 00:04:12.701
‫كان هذا ليعمل أيضاً

00:04:12.868 --> 00:04:18.068
‫لكني أردت أن أريك أن بإمكانك استخدام
‫مخرجات وظيفة كمدخلات لوظيفة أخرى

00:04:18.367 --> 00:04:20.201
‫لذا سنتركها كما كانت عليه من قبل

00:04:21.434 --> 00:04:23.135
‫بداخل الوظيفة createOrderSummary

00:04:23.234 --> 00:04:27.401
‫الشيء الآخر الذي كان بإمكاني فعله
‫هو استخدام المعامل =+

00:04:27.934 --> 00:04:30.668
‫هذا رمز اختصار.. وهو مكافئ للتعبير

00:04:30.801 --> 00:04:34.368
‫priceMessage تساوي priceMessage
‫زائد هذا كله

00:04:35.067 --> 00:04:37.768
‫لذا لو غيرت كل هذا إلى =+

00:04:37.934 --> 00:04:40.067
‫سيظل كل شيء كما كان من قبل

00:04:40.667 --> 00:04:43.767
‫هذا فقط يتطلب كتابة أقل
‫ويجعل الكود أكثر إيجازاً

00:04:44.701 --> 00:04:47.268
‫في وظيفة calculatePrice..
‫كان بإمكاني فعل شيء آخر

00:04:47.367 --> 00:04:49.701
‫ألا وهو إرجاع القيمة فوراً

00:04:49.767 --> 00:04:53.268
‫بدلاً من تخزينها في متغير محلي
‫ثم الإجابة بها

00:04:54.033 --> 00:04:56.033
‫هذا سيجعل الكود أكثر إيجازاً أيضاً

00:04:56.767 --> 00:04:58.834
‫ثم بالأعلى هنا في وظيفة submitOrder..

00:04:59.000 --> 00:05:03.267
‫بدلاً من إنشاء ملخص الطلب وتخزينه في
‫متغير ثم استخدامه بعدها مباشرة..

00:05:03.400 --> 00:05:05.667
‫كان يمكنني استدعاء
‫createOrderSummary..

00:05:05.734 --> 00:05:08.435
‫ثم استدعاء displayMessage بعده

00:05:08.968 --> 00:05:10.502
‫هذا سيقودنا إلى نفس الشيء

00:05:11.300 --> 00:05:14.367
‫قيمة إجابة وظيفة createOrderSummary
‫هي سلسلة حروف

00:05:14.601 --> 00:05:18.302
‫وسيتم تمريرها كوسيط إدخال
‫لوظيفة displayMessage

00:05:19.133 --> 00:05:21.734
‫يمكنها تركها هكذا لو أردت
‫أو كانت أسهل في القراءة

00:05:22.934 --> 00:05:25.735
‫كل هذه النصائح والأساليب
‫تقود إلى نفس المنطق بأي حال

00:05:27.000 --> 00:05:30.133
‫وقبل أن أنسى، تذكروا إضافة
‫تعليق توثيق جافا..

00:05:30.300 --> 00:05:33.101
‫بأعلى هذه الوظيفة
‫لوصف ما هو مفترض أن تفعله

00:05:33.667 --> 00:05:36.568
‫عمليًا أنت لست بحاجة لتعليق توثيق جافا
‫من أجل وظيفة خاصة

00:05:36.767 --> 00:05:39.034
‫ولكنها ممارسة جيدة لكتابة الوصف..

00:05:39.167 --> 00:05:41.801
‫للوظيفة حتى يفهم الآخرون
‫ممن يقرؤون الكود الخاص بك..

00:05:41.934 --> 00:05:43.635
‫ما تحاول أن تفعله

00:05:44.367 --> 00:05:47.534
‫وصف هذه الوظيفة هو أنها تقوم
‫بإنشاء ملخص للطلب

00:05:48.000 --> 00:05:51.667
‫باراميتر الإدخال هو سعر الطلب
‫وتجيب بملخص نصي

