WEBVTT
Kind: captions
Language: ar

00:00:00.434 --> 00:00:02.868
‫فلنعد إلى النشاط الرئيسي
‫لتطبيقنا Just Java

00:00:02.968 --> 00:00:06.168
‫وبالتحديد كنا نلقي نظرة
‫على وظيفة عرض الرسالة

00:00:06.200 --> 00:00:08.367
‫محاولين أن نفهم كل ما يجري هنا

00:00:08.501 --> 00:00:13.369
‫بالرغم من أن وظيفة findViewById
‫ليست معلنة بداخل هذه الفئة

00:00:13.567 --> 00:00:18.435
‫ولكننا نعلم الآن أنها معرفة بالفعل
‫في الفئة العليا في AppCompatActivity

00:00:18.734 --> 00:00:20.335
‫نفس الشيء بالنسبة لـ setContentView

00:00:20.434 --> 00:00:23.235
‫هي معرفة في الفئة AppCompatActivity

00:00:23.834 --> 00:00:26.134
‫ولكن ماذا يحدث بالضبط
‫في هذه الوظيفة؟

00:00:26.367 --> 00:00:29.034
‫ولماذا نحتاج لتمرير معرف مورد؟

00:00:29.200 --> 00:00:31.233
‫لماذا يوجد زوج أقواس إضافي هنا؟

00:00:31.934 --> 00:00:34.802
‫للإجابة عن هذا سأقوم بتلخيص
‫كل ما تعلمناه حتى الآن

00:00:34.968 --> 00:00:37.836
‫وأقودكم إلى معرفة لماذا
‫يوجد هذا الكود هنا

00:00:38.868 --> 00:00:40.268
‫هل تتذكرون هذا المخطط؟

00:00:40.334 --> 00:00:44.501
‫حين تنقرون على زر التطبيق في الجهاز
‫فإنه يقوم بفتح النشاط الرئيسي

00:00:44.901 --> 00:00:48.135
‫في الكود الخاص بنا فإن الوظيفة onCreate
‫الخاصة بالنشاط الرئيسي

00:00:48.234 --> 00:00:49.668
‫يتم استدعاءها عن طريق النظام

00:00:49.767 --> 00:00:53.034
‫بداخل هذه الوظيفة لدينا
‫وظيفة تسمى setContentView

00:00:53.200 --> 00:00:55.068
‫مع معرف مخطط المورد

00:00:55.300 --> 00:00:59.567
‫في تدريب سابق قمنا بتمرير
‫واجهة نصية واحدة لـ set contect view

00:00:59.701 --> 00:01:01.734
‫ولكننا نريد أكثر من
واجهة واحدة لتطبيقنا

00:01:01.934 --> 00:01:04.301
‫لذلك نمرر معرف مخطط المورد

00:01:04.601 --> 00:01:06.801
‫يشير هذا إلى ملف XML

00:01:06.901 --> 00:01:09.468
‫بمجرد حصولنا على set content view
‫فإن النشاط يذهب لإيجاد

00:01:09.567 --> 00:01:12.867
‫ملف مخطط XML
‫ثم يقرأ كل سطر

00:01:13.200 --> 00:01:17.701
‫في كل واجهة يقوم بنفخ
‫أو إنشاء كائن جافا لها

00:01:18.100 --> 00:01:19.601
‫يمر عبر ملف الـ XML

00:01:19.734 --> 00:01:22.568
‫ثم يقوم ببناء هذا الهيكل
‫من كائنات الجافا

00:01:23.033 --> 00:01:26.867
‫حين يقوم بنفخ كل من هذه الواجهات
‫فهو يستدعي دالة الإنشاء..

00:01:27.033 --> 00:01:29.166
‫NewTextView
‫أو NewLinearLayout

00:01:29.334 --> 00:01:31.467
‫ثم يقوم بتمرير كل هذه الخواص

00:01:31.567 --> 00:01:34.334
‫إلى كائن جافا حتى يمكن
‫إعداده بشكل سليم

00:01:34.734 --> 00:01:38.368
‫لاحظوا أننا لم نحتج لكتابة كود
‫من أجل NewTextView أو NewLinearLayout

00:01:38.534 --> 00:01:40.201
‫و لضبط حجم الخط

00:01:40.601 --> 00:01:44.068
‫كل هذا تم التعامل معه عن طريق
‫عملية النفخ التي يقوم بها النشاط

00:01:44.534 --> 00:01:48.001
‫للتفاعل مع هذه الواجهات
‫أثناء تشغيل التطبيق، ولتغييرهم

00:01:48.200 --> 00:01:50.901
‫مثلاً، لتغيير النص
‫أو تغيير الأزرار

00:01:51.167 --> 00:01:54.035
‫إذن ينبغي أن نجد كائنات الجافا هذه

00:01:54.434 --> 00:01:58.168
‫بمجرد أن نجدهم نستطيع حفظهم
‫كمتغيرات في النشاط الرئيسي

00:01:58.534 --> 00:02:01.235
‫تذكروا أننا لا ننشيء TextViews
‫جديدة من الصفر

00:02:01.367 --> 00:02:04.434
‫نحن فقط نجد تلك الموجودة
‫في هيكلة الواجهة هذا

00:02:06.067 --> 00:02:08.801
‫هذه هي المتغيرات التي استخدمناها
‫حتى الآن في النشاط الرئيسي

00:02:09.400 --> 00:02:12.934
‫لدينا متغير للكمية والسعر ورسالة السعر

00:02:13.167 --> 00:02:15.267
‫هذا خليط من المتغيرات المحلية والعامة

00:02:15.834 --> 00:02:19.435
‫للتفاعل مع الواجهات في هيكلة الواجهة
‫ينبغي أن ننشيء متغيرات

00:02:19.534 --> 00:02:21.502
‫تشير إلى تلك الواجهات المحددة

00:02:22.501 --> 00:02:25.868
‫مثلاً، نستطيع إنشاء متغير
‫اسمه quantity text view

00:02:26.000 --> 00:02:28.234
‫والذي سيشير إلى هذا الـ TextView هنا

00:02:28.534 --> 00:02:31.268
‫لو نقرت على زر الزيادة أو النقص
‫في واجهة المستخدم

00:02:31.334 --> 00:02:34.434
‫ستستطيع عندها أن تغير الـTextView
‫ليظهر رقماً آخر

00:02:36.200 --> 00:02:39.200
‫يمكن أيضاً أن يكون لدينا متغير
‫اسمه orderSummaryTextView

00:02:39.334 --> 00:02:41.068
‫والذي يشير إلى هذا الـTextView

00:02:41.734 --> 00:02:44.501
‫حين تقوم بالنقر على زر الطلب
‫فإن orderSummaryTextView

00:02:44.601 --> 00:02:47.235
‫سوف يغير النص ليظهر مخلص الطلب الجديد

00:02:47.667 --> 00:02:51.368
‫يمكننا إذن أن نرى كيف أن وجود متغيرات
‫تشير إلى بعض هذه الواجهات

00:02:51.534 --> 00:02:54.667
‫سيكون مفيداً في تغيير واجهة المستخدم
‫أثناء تشغيل التطبيق

00:02:55.434 --> 00:02:59.101
‫ولكن كيف نربط بين هذا المتغير هنا

00:02:59.300 --> 00:03:00.600
‫وهذا الـTextView؟

00:03:00.701 --> 00:03:03.435
‫وكيف نربط بين
‫هذا orderSummaryTextView

00:03:03.601 --> 00:03:04.668
‫وهذا الـTextView؟

00:03:06.234 --> 00:03:08.035
‫بالعودة إلى ملف مخطط XML

00:03:08.200 --> 00:03:11.300
‫هل تذكروا أننا قمنا بتعيين معرف واجهة
‫لبعض الواجهات؟

00:03:12.968 --> 00:03:16.769
‫بالنسبة لهذا الـ TextView أعطيناه
‫معرف الواجهة quantity.text.view

00:03:17.400 --> 00:03:20.301
‫ولهذه الواجهة أعطيناها
‫المعرف order.summary.text.view

00:03:21.300 --> 00:03:23.767
‫تعيين معرف للواجهة هو شيء اختياري

00:03:24.000 --> 00:03:28.067
‫يجب عليك تعيين معرف واجهة فقط
‫لو احتجت لاستدعاء تلك الواجهة لاحقاً

00:03:28.767 --> 00:03:33.067
‫مثلاً يمكنك تعيين معرف واجهة
‫لكل شيء، لكن هذا غير ضروري

00:03:33.167 --> 00:03:37.234
‫نحتاج حقاً الإشارة إلى هاتين الواجهتين
‫فقط لاحقاً في الكود الخاص بنا

00:03:37.434 --> 00:03:39.834
‫لذا فلنقم بتعيين معرف واجهة
‫لهاتين الواجهتين

00:03:40.801 --> 00:03:43.834
‫حسناً، لقد اتفقنا أن الواجهات
‫لها معرف واجهة

00:03:43.901 --> 00:03:46.034
‫حتى يمكننا الإشارة إليها لاحقاً
‫في كود الجافا

00:03:46.701 --> 00:03:51.268
‫واتفقنا أيضاً أننا نريد متغيرات
‫تشير إلى تلك الواجهات

00:03:51.334 --> 00:03:53.101
‫حتى نستطيع التلاعب بتلك الواجهات

00:03:53.734 --> 00:03:57.602
‫ولكننا لا نعرف بعد كيف نربط

00:03:57.667 --> 00:04:00.834
‫بين هذا المتغير
وكائن الجافا هذا تحديداً

00:04:01.100 --> 00:04:04.133
‫ونفس الشيء بالنسبة إلى هذا المتغير
‫وكائن الجافا هذا

00:04:04.601 --> 00:04:08.068
‫في فئة AppCompatActivity
‫أريد أن أريكم وظيفة معينة

00:04:08.767 --> 00:04:12.867
‫اسمها findViewById
‫وتأخذ معرف المورد كمدخل

00:04:13.801 --> 00:04:15.934
‫الوظيفة findViewById

00:04:16.200 --> 00:04:20.867
‫تقوم بإيجاد الواجهة الخاصة بالمعرف
‫الذي تم تمريره كمدخل

00:04:21.167 --> 00:04:23.501
‫والنشاط يبحث عن هذه الواجهة

00:04:23.767 --> 00:04:28.434
‫في هيكلة الواجهة من ملف XML
‫الذي تم التعامل معه في وظيفة onCreate

00:04:28.901 --> 00:04:30.502
‫لذا كما ذكرت سابقاً

00:04:30.567 --> 00:04:34.034
‫فإن النشاط وظيفة onCreate
‫يقوم بإعداد هيكلة واجهة

00:04:34.234 --> 00:04:39.135
‫ثم تبحث وظيفة findViewByID
‫عن واجهة ضمن هيكلة الواجهة ذلك

00:04:39.400 --> 00:04:43.368
‫القيمة المرتجعة لهذه الوظيفة
‫هو كائن من نوع view

00:04:43.601 --> 00:04:47.001
‫هذا العامود الأيسر يظهر القيمة المرتجعة
‫لكل هذه الوظائف

00:04:47.415 --> 00:04:51.625
‫هذا يعني أن بداخل كود نشاطنا
‫يمكننا استدعاء findViewByID

00:04:51.801 --> 00:04:56.502
‫ثم تمرير معرف المورد للواجهة المُرادة
‫ثم ستقوم بإرجاع كائن واجهة

00:04:56.634 --> 00:05:00.201
‫ثم يمكننا حفظ ذلك كمتغير بداخل النشاط

00:05:02.114 --> 00:05:04.463
‫كود الجافا الخاص بـ MainActivity
‫سيبدو مثل هذا

00:05:05.344 --> 00:05:07.130
‫نستطيع استدعاء findViewByID

00:05:07.230 --> 00:05:11.265
‫ثم تمرير معرف المورد للواجهة
‫التي نريدها كمدخل

00:05:12.140 --> 00:05:14.865
‫لقد أعطينا هذا الـTextView
‫المعرف order.summary.text.view

00:05:15.050 --> 00:05:18.376
‫إذن هنا نقوم بالإشارة إليه
‫هكذا R.id.order_summary_text_view

00:05:19.367 --> 00:05:23.235
‫هذه الوظيفة سوف تقطع
‫هيكلة الواجهات كله وتبحث عن

00:05:23.323 --> 00:05:25.319
‫الواجهة صاحبة هذا المعرف

00:05:26.110 --> 00:05:30.436
‫ثم تقوم بإعادة كائن الجافا هذا
‫كقيمة مرتجعة لهذه الوظيفة

00:05:31.033 --> 00:05:34.600
‫يمكننا حفظ القيمة المرتجعة
‫في هذا المتغير على الجانب الأيسر

00:05:34.801 --> 00:05:38.669
‫الذي يسمى orderSummaryTextView
‫وهو متغير من نوع View

00:05:39.300 --> 00:05:42.467
‫إذن هذا يقوم بإرجاع واجهة
‫ونحفظها في متغير واجهة

00:05:42.568 --> 00:05:48.261
‫لاحقاً في النشاط الرئيسي نستطيع أيضاً
‫استدعاء findViewById ثم تمرير

00:05:48.483 --> 00:05:52.515
‫معرف المورد R.id.quantity_text_view
‫والذي يشير إلى هذا الـ TextView هنا

00:05:53.133 --> 00:05:55.034
‫هذا هو الـ TextView في منتقي الكمية

00:05:55.601 --> 00:05:58.835
‫حين يتم استدعاؤه فإن النشاط
‫سيقوم بالبحث في هيكلة الواجهة

00:05:58.952 --> 00:06:01.098
‫ثم يحاول أن يجد الواجهة
‫صاحبة هذا المعرف

00:06:01.460 --> 00:06:03.122
‫ثم سيقوم بإرجاع هذه الواجهة

00:06:03.267 --> 00:06:06.701
‫ثم يمكننا حفظه في متغير
‫اسمه quantity_text_view

00:06:07.190 --> 00:06:09.490
‫هذا المتغير أيضاً نوع بياناته View

00:06:10.501 --> 00:06:13.102
‫هذا يفسر كيف يكون لديك
‫المتغيران quantityTextView

00:06:13.186 --> 00:06:16.638
‫و orderSummaryTextView
‫بداخل النشاط الرئيسي

00:06:16.834 --> 00:06:21.001
‫وهذان المتغيران يستطيعا التواصل
‫مع كائنات جافا هذه في هيكلة الواجهة

00:06:21.534 --> 00:06:25.667
بالمناسبة، أدرجت نوع البيانات ‫لكل من
هذه المتغيرات في العامود الأيسر

00:06:26.701 --> 00:06:30.001
‫إذن هذان المتغيران نوع بياناتهما View
‫كما هو معلن هنا

