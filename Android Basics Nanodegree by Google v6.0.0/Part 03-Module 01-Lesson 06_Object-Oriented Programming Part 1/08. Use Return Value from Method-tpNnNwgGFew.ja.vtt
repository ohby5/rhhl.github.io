WEBVTT
Kind: captions
Language: ja

00:00:00.940 --> 00:00:04.070
では初めにcalculatePrice
メソッドの署名を変更して

00:00:04.070 --> 00:00:06.480
正しい戻り値の型になるようにします

00:00:06.480 --> 00:00:08.640
また 0 の入力パラメーターがある
と想定します

00:00:09.850 --> 00:00:12.840
これが calculatePrice
メソッドを定義するところです

00:00:12.840 --> 00:00:15.930
このメソッドの目的は注文の合計金額を計算し

00:00:15.930 --> 00:00:18.160
その値を返すことです

00:00:18.160 --> 00:00:19.660
価格は整数でなければならないので

00:00:19.660 --> 00:00:22.670
voidからintに
戻り値の型を変更する必要があります

00:00:23.730 --> 00:00:25.800
これが最初のタスクになります

00:00:25.800 --> 00:00:29.100
入力パラメーターがないことを確認します

00:00:29.100 --> 00:00:29.130
これがここにあるものです
入力パラメーターがないことを確認します

00:00:29.130 --> 00:00:30.620
これがここにあるものです

00:00:31.020 --> 00:00:34.150
２番目のタスクはメソッドの内部の変更です

00:00:34.150 --> 00:00:36.798
注文に対して正しい値を
計算しているかどうか確認します

00:00:36.798 --> 00:00:39.220
一杯のコーヒーが$5.00であるとします

00:00:40.770 --> 00:00:43.880
このメソッドの中に
注文された数量をいれます

00:00:43.880 --> 00:00:46.460
それに1 杯当たり $ 5 の
コーヒーを掛けます

00:00:47.700 --> 00:00:49.860
これが注文の合計価格に相当します

00:00:49.860 --> 00:00:51.100
このコードラインは割れています

00:00:52.250 --> 00:00:56.920
ここで２つの問題がみられます
可変価格が使われていないことと

00:00:56.920 --> 00:00:59.490
戻り値がありませんというエラーです

00:00:59.490 --> 00:01:03.470
整数を返すことを要求していますが
何も返していないわけです

00:01:03.470 --> 00:01:07.120
今コードは先程言った通りになっています

00:01:07.120 --> 00:01:12.060
ラインが値を返すようにし
実際にここに値を入力すると

00:01:12.060 --> 00:01:13.950
返された値は価格になります

00:01:13.950 --> 00:01:18.220
それでは ここで定義した変数である
値を入力してみましょう

00:01:18.220 --> 00:01:20.760
さあ これで全てのエラーが消えました

00:01:20.760 --> 00:01:22.650
Java ドキュメントも
変更する必要があります

00:01:22.650 --> 00:01:27.060
それによって
合計価格を出すように指定します

00:01:27.060 --> 00:01:30.090
これで誰かがこのメソッドを呼び出す時
何が実行されるのかが分かります

00:01:31.600 --> 00:01:35.730
これでこのメソッドの定義は全て終了しました

00:01:35.730 --> 00:01:38.600
ではメソッドを呼び出すところに移りましょう
SubmitOrder メソッドの中の

00:01:38.600 --> 00:01:41.939
calculatePrice メソッドを呼び出します

00:01:43.240 --> 00:01:46.120
現在 calculatePrice は
こんなところに表示されてしまっています

00:01:46.120 --> 00:01:49.130
これをコピーして
ここにベーストします

00:01:49.130 --> 00:01:52.830
以前は ラインのSubmitOrder
メソッドで注文価格を計算していましたが

00:01:52.830 --> 00:01:55.500
今はそのためのメソッドがあります

00:01:55.500 --> 00:01:57.670
ではここに貼り付けます

00:01:57.670 --> 00:01:59.910
この余分なセミコロンは消去します

00:01:59.910 --> 00:02:03.170
このメソッドでは 価格は
ローカル変数であることに気がつくでしょう

00:02:03.170 --> 00:02:04.910
そしてこのメソッドでも

00:02:04.910 --> 00:02:06.520
同じ名前であれば それで大丈夫です

00:02:06.520 --> 00:02:09.258
なぜなら これらは
異なるVariableスコープだからです

00:02:09.258 --> 00:02:13.100
この価格の変数は完全に
この変数とは無関係です

00:02:13.100 --> 00:02:16.300
それらは更新され
お互いに独立して作成されます

00:02:16.300 --> 00:02:19.750
いったんこのメソッドの実行が完了すると
この価格変数はなくなります

00:02:20.830 --> 00:02:23.230
では submitOrder メソッドに
戻りましょう

00:02:23.230 --> 00:02:24.810
価格を計算して

00:02:24.810 --> 00:02:29.680
変数として保存すると
価格メッセージの作成に使用できます

00:02:30.820 --> 00:02:33.390
これで実際に
このコードの全ては同じままになります

00:02:33.390 --> 00:02:34.800
この整数

00:02:34.800 --> 00:02:39.490
価格 文字列の合計を通貨記号と連結します

00:02:39.490 --> 00:02:43.680
そして"Thank you!"と連結して
画面にそれが表示されるようにします

00:02:43.680 --> 00:02:47.960
これらの余分な部分
空白行を消去してそれを保存すると

00:02:47.960 --> 00:02:49.410
デバイスで実行できるようになります

00:02:50.660 --> 00:02:52.250
では数量を変更して

00:02:52.250 --> 00:02:55.700
ORDERを押してみましょう
価格が正しく $25 と表示されます

00:02:56.790 --> 00:02:57.825
これでうまくできました

00:02:57.825 --> 00:03:00.864
どうすればcalculatePrice が
実際作動しているか確認できるのでしょうか

00:03:00.864 --> 00:03:05.640
以前のアプリと比較した際の変化が
ユーザーには見えません

00:03:05.640 --> 00:03:09.524
ここでは２つの技法で
コードが実際に機能していることを

00:03:09.524 --> 00:03:10.644
確認します

00:03:10.644 --> 00:03:14.420
700 のようなちょっとおかしい数を
戻すのを試してみましょう

00:03:14.420 --> 00:03:16.972
コードを保存しそれを実行します

00:03:16.972 --> 00:03:20.671
さあこれでどうでしょう
数量を変更して

00:03:20.671 --> 00:03:25.226
ORDERボタンを押した場合
価格が $700 と表示されるはずです

00:03:25.226 --> 00:03:29.190
calculatePrice メソッドが
実際に呼び出されているかこれで確認できます

00:03:30.250 --> 00:03:31.610
ちゃんとこのようになりました

00:03:32.910 --> 00:03:35.040
ではこの変更を戻しましょう

00:03:35.040 --> 00:03:38.120
このメソッドが実行されていることを
確認する別の方法は

00:03:38.120 --> 00:03:39.220
ここにブレークポイントを追加することです

00:03:40.230 --> 00:03:43.390
それでは この小さなバグのアイコンを
クリックして

00:03:43.390 --> 00:03:45.040
アップルでデバッグ モードを入力します

00:03:46.370 --> 00:03:47.530
数量を変更して

00:03:47.530 --> 00:03:51.250
注文を押した場合
この時点でこのアプリは一時停止するはずです

00:03:53.140 --> 00:03:54.580
さあ停止しました

00:03:54.580 --> 00:03:57.460
これは calculatePrice
メソッドが使われています

00:03:57.460 --> 00:04:00.100
グローバル変数 数量があります

00:04:00.100 --> 00:04:05.340
次のラインをまたいだ場合
ローカル変数 価格がでてきます

00:04:05.560 --> 00:04:12.460
価格が $15 に設定されています 数量が
3 なので3×5で 15 というわけです

00:04:12.670 --> 00:04:15.777
calculatePrice
メソッドを使用すると

00:04:15.777 --> 00:04:18.834
Resumeを押すと
この画面で正しく更新します

