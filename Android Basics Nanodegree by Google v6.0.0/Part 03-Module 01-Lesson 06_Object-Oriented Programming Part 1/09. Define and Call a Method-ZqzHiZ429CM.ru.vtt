WEBVTT
Kind: captions
Language: ru

00:00:00.640 --> 00:00:03.565
Давайте сделаем первую часть вместе,
добавим новый алгоритм <i>MainActivity</i>.

00:00:04.930 --> 00:00:07.390
Вы можете добавить алгоритм
в любом месте в файле,

00:00:07.390 --> 00:00:11.100
только поставьте его
за скобками другого алгоритма.

00:00:11.100 --> 00:00:14.230
Я поставлю его сразу под другим
нашим алгоритмом,

00:00:14.230 --> 00:00:16.300
под <i>calculatePrice</i>.

00:00:16.300 --> 00:00:19.530
Я укажу модификатор доступа как
<i>private</i>, потому что все к чему

00:00:19.530 --> 00:00:22.960
к чему будет обращаться алгоритм
находится внутри <i>main</i> <i>activity</i>.

00:00:24.180 --> 00:00:27.060
Теперь я укажу <i>string</i>
для типа данных на выходе,

00:00:27.060 --> 00:00:30.550
потому что из <i>createOrderSummary</i>
мы должны получить строку.

00:00:30.550 --> 00:00:34.665
И теперь я назову алгоритм -
<i>createOrderSummary</i>.

00:00:36.230 --> 00:00:38.940
Теперь - исходные данные
это <i>price</i>, и это число.

00:00:40.340 --> 00:00:42.890
Итак, мы прописали алгоритм но

00:00:42.890 --> 00:00:47.060
но нужно его еще запустить
чтобы он выдавал вот это сообщение.

00:00:47.060 --> 00:00:52.040
Сообщение начинается с имени, потом
количество, всего и, наонец, спасибо.

00:00:52.040 --> 00:00:54.580
Я собираюсь это скопировать и

00:00:54.580 --> 00:00:56.590
встатвить в алгоритм
<i>сreateOrderSummary</i>.

00:00:56.590 --> 00:01:00.120
Теперь можем начать писать основной код.

00:01:00.120 --> 00:01:01.150
Но разница в том, что

00:01:01.150 --> 00:01:05.090
<i>ordersummary</i> должно начинаться
с имени, а не с общей цены.

00:01:05.090 --> 00:01:08.890
Поэтому я перенесу это в следующую
строку и оставлю на потом.

00:01:08.890 --> 00:01:12.359
Я инициализирую переменную
<i>priceМessage</i> как <i>Name</i>, и

00:01:12.359 --> 00:01:14.580
поставлю Kaptain Kunal.

00:01:14.580 --> 00:01:17.660
Теперь в следующей строке,
я изменю <i>priceМessage</i>.

00:01:18.690 --> 00:01:22.025
Я добавлю к существующему сообщению.

00:01:22.025 --> 00:01:26.485
Это будет <i>priceМessage</i>,
плюс, затем новый текст, и

00:01:26.485 --> 00:01:31.115
мне нужно добавить количество и
добавить переменную для количества.

00:01:32.265 --> 00:01:34.095
Поскольку <i>quantity</i> -
это глобальная переменная

00:01:34.095 --> 00:01:36.745
мы получим к ней доступ
в этом алгоритме.

00:01:36.745 --> 00:01:39.340
Итак - у нас есть имя и количестов.

00:01:39.340 --> 00:01:44.020
В следующей строке
я снова дополню <i>priceMessage</i> и

00:01:44.020 --> 00:01:45.940
добавлю еще текста.

00:01:45.940 --> 00:01:48.700
Вообще-то этот текст
должен быть total price, поэтому

00:01:48.700 --> 00:01:50.270
я использую то что у нас уже есть.

00:01:51.340 --> 00:01:55.080
Ок, и в последней строке
мы снова изменим <i>priceMessage</i>.

00:01:55.080 --> 00:01:58.639
Возьмите существующее значение этой
строки и добавьте к ней "Thank you!".

00:01:59.740 --> 00:02:02.210
Все выглядит хорошо, но есть ошибка.

00:02:02.210 --> 00:02:04.260
Отсутствует оператор возврата.

00:02:04.260 --> 00:02:07.090
Поскольку на выходе
мы должны получить сборную строку,

00:02:07.090 --> 00:02:10.370
мне надо добавить еще одну
строку в код - <i>return</i>.

00:02:10.370 --> 00:02:12.240
И значение для <i>return</i>.

00:02:12.240 --> 00:02:15.210
В этом случае - это <i>priceMessage</i>.

00:02:15.210 --> 00:02:16.630
И в конце я поставлю скобку.

00:02:17.660 --> 00:02:19.440
Так ошибки больше нет.

00:02:19.440 --> 00:02:22.150
Код похож на рабочий,
но я запущу и протестирую его.

00:02:23.480 --> 00:02:26.300
Теперь если мы изменим
количество на три и

00:02:26.300 --> 00:02:28.930
и нажмем кнопку Оrder -
ничего не работает.

00:02:30.620 --> 00:02:32.320
Посмотрим что не так.

00:02:32.320 --> 00:02:35.260
Внимательно посмотрев на код,
я вижу в чем проблема.

00:02:35.260 --> 00:02:38.660
Вот предупреждение о том
что алгоритм <i>createOrderSummary</i>

00:02:38.660 --> 00:02:39.730
никогда не использовался.

00:02:39.730 --> 00:02:41.100
Я забыла его вызвать.

00:02:41.100 --> 00:02:42.450
Давайте вернемся
к заданию.

00:02:43.580 --> 00:02:46.910
Итак - первое задание мы
выполнили успешно, но мне надо

00:02:46.910 --> 00:02:50.010
вызвать алгоритм <i>createOrderSummary</i>
из алгоритма <i>submitOrder</i>.

00:02:51.220 --> 00:02:55.300
В Android Studio мне надо
исправить алгоритм <i>submitOrder</i>.

00:02:55.300 --> 00:02:57.300
Я подсчитала цену - и все верно.

00:02:57.300 --> 00:03:00.320
Но сейчас мне надо передать
ее в алгоритм createOrderSummary.

00:03:00.320 --> 00:03:03.860
Я это сделаю вот здесь -
<i>createOrderSummary</i> с

00:03:03.860 --> 00:03:05.690
переменной цены.

00:03:05.690 --> 00:03:08.340
Итог этого алгоритма будет храниться

00:03:08.340 --> 00:03:10.380
в переменной <i>priceMessage</i>.

00:03:10.380 --> 00:03:13.190
Мне больше не нужна эта
строка кода потому что "Thank

00:03:13.190 --> 00:03:15.260
you" уже в тексте вот здесь.

00:03:15.260 --> 00:03:16.680
Я ее удаляю.

00:03:16.680 --> 00:03:20.800
Теперь чтобы все изменить мне
надо вызвать <i>displayMessage</i> вместе с

00:03:20.800 --> 00:03:23.230
переменной <i>priceMessage</i> как раньше.

00:03:23.230 --> 00:03:25.410
И снова запустить приложение.

00:03:25.410 --> 00:03:27.370
Если я изменю количество на три и

00:03:27.370 --> 00:03:29.930
нажму кнопку Оrder -
опять ничего не работает.

00:03:31.080 --> 00:03:34.970
Большая часть текста в одной строке,
хотя должна быть в нескольких,

00:03:34.970 --> 00:03:37.210
это надо исправить.

00:03:37.210 --> 00:03:40.650
Посмотрев на код я поняла что забыла
поставить символы новой строки.

00:03:40.650 --> 00:03:43.950
Я поставила их для Thank you,
но не для остальных.

00:03:43.950 --> 00:03:46.340
Надо добавить их и в другие строки.

00:03:47.510 --> 00:03:49.230
Давайте снова запустим.

00:03:50.370 --> 00:03:51.600
Все работает.

00:03:51.600 --> 00:03:52.830
Отлично.

00:03:52.830 --> 00:03:56.050
Теперь Kaptain Kunal может получить
свои три чашки кофе.

00:03:56.050 --> 00:03:59.670
Я хочу показать вам кое-какие
улучшения для вашего кода.

00:03:59.670 --> 00:04:02.530
Обратие внимание что вы
вызываете алгоритм <i>сalculatePrice</i>

00:04:02.530 --> 00:04:07.170
внутри <i>сreateOrderSummary</i> вместо того
чтобы передавать исходное значение.

00:04:07.170 --> 00:04:10.420
Поэтому <i>calculatePrice</i> можно
выполнить прямо здесь.

00:04:10.420 --> 00:04:12.880
Так тоже будет работать.

00:04:12.880 --> 00:04:16.250
Но я хотела показать что можно
взять результат одного алгоритма и

00:04:16.250 --> 00:04:18.370
передать его как исходное
в другой алгоритм.

00:04:18.370 --> 00:04:20.040
Поэтому мы оставим так,
как было раньше.

00:04:21.440 --> 00:04:23.874
Внутри алгоритма <i>createOrderSummary</i>

00:04:23.874 --> 00:04:27.920
я хочу чтобы кое-что было
сделано с помощью операторов +=.

00:04:27.920 --> 00:04:29.240
Это сокращение и оно

00:04:29.240 --> 00:04:35.070
значит тоже что и <i>priceMessage</i>
= <i>priceMessage</i> + все это.

00:04:35.070 --> 00:04:40.660
Если я изменю все это на +=,
то ничего не изменится.

00:04:40.660 --> 00:04:43.680
Печатать надо будет меньше
и код будет более лаконичным.

00:04:44.740 --> 00:04:46.120
В алгоритме <i>calculatePrice</i>

00:04:46.120 --> 00:04:49.160
я хочу сразу получать результат
вместо того чтобы

00:04:49.160 --> 00:04:54.030
записывать его в локальную переменную
и после вызывать его.

00:04:54.030 --> 00:04:56.840
Так код станет еще лаконичнее.

00:04:56.840 --> 00:05:00.340
Теперь вот здесь, в алгоритме
<i>submitOrder</i>, вместо

00:05:00.340 --> 00:05:03.880
<i>createOrderSummary</i> и хранения
его в переменной я могу

00:05:03.880 --> 00:05:08.960
просто вызвать <i>createOrderSummary</i>
и использовать в <i>displayMessage</i>.

00:05:08.960 --> 00:05:11.290
Результат будет одинаковый.

00:05:11.290 --> 00:05:14.590
Результат алгоритма
<i>createOrderSummary</i> - это строка,

00:05:14.590 --> 00:05:19.190
и она переходит как исходное
для алгоритма <i>displayMessage</i>.

00:05:19.190 --> 00:05:21.410
Если вам так проще -
оставьте без изменений.

00:05:23.110 --> 00:05:25.630
Все эти советы все равно
дают тот же результат.

00:05:27.030 --> 00:05:30.290
И, пока я не забыла, помните что
надо добавить комментарий Javadoc

00:05:30.290 --> 00:05:33.680
вверху этого алгоритма чтобы
описать что он должен делать.

00:05:33.680 --> 00:05:36.821
Технически вам не обязательно
это делать, но

00:05:36.821 --> 00:05:39.449
это хорошая привычка - писать
описание алгоритма чтобы

00:05:39.449 --> 00:05:42.437
другие понимали ваш код
и понимали что вы

00:05:42.437 --> 00:05:44.380
пытаетесь сделать.

00:05:44.380 --> 00:05:48.002
Описание этого алгоритма -
он создает сводку заказа.

00:05:48.002 --> 00:05:51.560
Исходное значение - цена заказа,
а итоговое - текстовое сообщение.

