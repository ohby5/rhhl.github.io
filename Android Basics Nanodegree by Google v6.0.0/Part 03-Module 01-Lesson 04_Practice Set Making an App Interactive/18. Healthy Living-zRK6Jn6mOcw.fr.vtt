WEBVTT
Kind: captions
Language: fr

00:00:00.290 --> 00:00:03.510
ְ prיsent vous devriez avoir dיterminי
que le message est une variable globale.

00:00:03.510 --> 00:00:06.920
Et vous pouvez le voir en regardant
lא oש c'est dיclarי, c'est א dire ici.

00:00:07.980 --> 00:00:11.000
Ce n'est pas dיclarי
dans aucune de ces mיthodes.

00:00:11.000 --> 00:00:13.980
C'est en fait dיclarי,
en dehors de toute mיthode.

00:00:13.980 --> 00:00:16.600
C'est toutefois dיclarי
entre les accolades

00:00:16.600 --> 00:00:19.200
de ce que nous avons appelי
la classe d'activitי principale.

00:00:19.200 --> 00:00:21.070
Ok, donc la question suivante est,

00:00:21.070 --> 00:00:23.050
le message devrait-il
ךtre une variable globale?

00:00:23.050 --> 00:00:28.430
Lorsqu'on utilise un message, on voit
que l'on dיfinit quel message c'est,

00:00:28.430 --> 00:00:30.040
et ensuite on l'affiche immיdiatement.

00:00:30.040 --> 00:00:34.230
Quand on dיfinit le message, on ne
regarde pas sa valeur prיcיdente.

00:00:34.230 --> 00:00:38.140
Les variables globales sont bien pour
mיmoriser la valeur prיcיdente entre

00:00:38.140 --> 00:00:41.290
les choses comme les clics de bouton
ou d'autres יvיnements de votre app.

00:00:41.290 --> 00:00:43.800
Il y a un moyen de sauvegarder
l'יtat de l'app.

00:00:43.800 --> 00:00:44.870
Ce pourquoi elles ne sont pas bien

00:00:44.870 --> 00:00:48.370
c'est lorsque vous utilisez les variables
comme une sorte de valeur intermיdiaire.

00:00:48.370 --> 00:00:51.300
Rappelez-vous, lorsque vous
exיcutez le code dans l'un de ces

00:00:51.300 --> 00:00:54.990
blocs appelיs une mיthode, vous faites
chaque dיclaration sיquentiellement.

00:00:54.990 --> 00:00:59.187
Si votre variable est uniquement requise
dans la sיquence de ces dיclarations

00:00:59.187 --> 00:01:01.293
alors elle n'a pas besoin
d'ךtre une variable globale.

00:01:01.293 --> 00:01:02.959
Elle est utilisיe localement.

00:01:02.959 --> 00:01:04.918
Elle est simplement utilisיe
dans la mיthode.

00:01:04.918 --> 00:01:06.320
Et c'est le cas avec un message.

00:01:06.320 --> 00:01:09.240
C'est un genre de valeur intermיdiaire
utilisיe juste pour un moment.

00:01:09.240 --> 00:01:12.640
Donc, un message ne devrait pas
vraiment ךtre une variable globale.

00:01:12.640 --> 00:01:15.810
Est-ce que le programme ne va pas 
marcher car c'est une variable globale ?

00:01:15.810 --> 00:01:20.110
Non, il va bien marcher, mais disons que
j'ai oubliי de taper cette ligne ici.

00:01:20.110 --> 00:01:22.350
Ok, donc si je clique sur le bouton No.

00:01:22.350 --> 00:01:25.770
Ce que חa va faire c'est, en premier,
prendre healthLevel

00:01:25.770 --> 00:01:27.180
et de soustraire un א partir de lא.

00:01:27.180 --> 00:01:29.540
Note א part, vous pourriez vous demander

00:01:29.540 --> 00:01:30.670
ce qu'est healthLevel.

00:01:30.670 --> 00:01:33.200
Et bien, nous en parlerons
dans la prochaine vidיo.

00:01:33.200 --> 00:01:35.230
Mais pour l'instant
supposons qu'il est de zיro.

00:01:35.230 --> 00:01:37.070
Donc on prend zיro, et on soustrait un.

00:01:37.070 --> 00:01:38.920
HealthLevel est nיgatif.

00:01:38.920 --> 00:01:41.560
Et, nous n'avons plus cette ligne, alors,

00:01:41.560 --> 00:01:43.820
On imprime juste le message
quel qu'il soit.

00:01:43.820 --> 00:01:45.280
Bien, qu'est-ce que le message?

00:01:45.280 --> 00:01:47.530
Lorsqu'une variable globale est crייe et

00:01:47.530 --> 00:01:52.290
qu'on ne lui donne pas de valeur initiale,
une valeur initiale par dיfaut est donnיe.

00:01:52.290 --> 00:01:55.760
Pour les chaines, la valeur initiale
de dיfaut est la chaine vide

00:01:55.760 --> 00:01:58.280
ce qui est essentiellement
une chaine sans texte א l'intיrieur.

00:01:58.280 --> 00:02:00.924
Ce qui veut dire que l'utilisateur
ne voit rien lorsque le bouton No

00:02:00.924 --> 00:02:01.920
est enclenchי.

00:02:01.920 --> 00:02:05.180
Ce n'est pas gיnial, mais ce n'est pas
un comportement totalement inattendu.

00:02:05.180 --> 00:02:06.780
Les choses deviennent un peu bizarres

00:02:06.780 --> 00:02:09.520
quand, disons que vous avez d'abord
appuyי sur le bouton Yes.

00:02:09.520 --> 00:02:12.910
ַa va prendre en compte que votre rיponse
est oui, le healthLevel actuel est un,

00:02:12.910 --> 00:02:14.620
ce sera affichי ici sur l'יcran.

00:02:14.620 --> 00:02:17.700
Disons qu'aprטs cela, vous appuyiez
sur le bouton No.

00:02:17.700 --> 00:02:21.530
Cela soustraira א nouveau un du
healthLevel, le niveau sera alors א zיro.

00:02:21.530 --> 00:02:24.790
Mais cela ne va pas dיfinir
une autre valeur pour le message car

00:02:24.790 --> 00:02:25.970
disons qu'on a supprimי cette la ligne.

00:02:25.970 --> 00:02:28.940
Donc le message aura
l'ancienne valeur qui se trouve ici.

00:02:28.940 --> 00:02:32.190
Vous avez rיpondu Yes,

00:02:32.190 --> 00:02:33.770
Et חa affichera cela א nouveau.

00:02:33.770 --> 00:02:37.330
Encore une fois, tout ceci arrive car
le healthLevel existe maintenant entre

00:02:37.330 --> 00:02:38.540
des mיthodes multiples.

00:02:38.540 --> 00:02:42.500
Donc quelle que soit la valeur qui
יtait ici avant, si on ne la change pas,

00:02:42.500 --> 00:02:43.890
on sera toujours ici.

00:02:43.890 --> 00:02:46.340
Et il n'y aura aucune sorte
d'erreur de compilation.

00:02:46.340 --> 00:02:49.930
Et si un message est une variable locale,
si vous oubliez de la dיfinir,

00:02:49.930 --> 00:02:53.140
ici, elle va se plaindre, et
ne laissera pas votre app fonctionner.

00:02:53.140 --> 00:02:55.800
Mais comme vous en avez fait une variable
globale, elle ne va pas se plaindre.

00:02:55.800 --> 00:02:59.010
Elle va juste imprimer ce qui יtait
avant la mיthode prיcיdente.

00:02:59.010 --> 00:02:59.920
Ce qui est erronי.

00:02:59.920 --> 00:03:03.170
Donc pour rיsumer, un message ne devrait
pas ךtre une variable globale.

00:03:03.170 --> 00:03:03.700
Pourquoi?

00:03:03.700 --> 00:03:06.370
Et bien, ce n'est pas vraiment
utilisי entre les mיthodes.

00:03:06.370 --> 00:03:09.150
Ou il y aurait une autre valeur,
d'un autre moment oש

00:03:09.150 --> 00:03:11.410
cette variable יtait utilisיe
dans une autre mיthode.

00:03:11.410 --> 00:03:14.780
Parce qu'une variable globale
aura une valeur de dיfaut dיfinie,

00:03:14.780 --> 00:03:18.650
elle aura une valeur passיe, utilisיe
dans une de ces autres mיthodes.

00:03:18.650 --> 00:03:21.500
Bien, c'est uniquement en cas
d'erreur, et si oublie de dיfinir la bonne

00:03:21.500 --> 00:03:24.300
chose, mais nous ne devrions pas
nous compliquer la tגche.

00:03:24.300 --> 00:03:26.770
Ok, c'est juste une des variables
dans cet exemple, donc

00:03:26.770 --> 00:03:28.153
regardons l'autre, healthLevel.

