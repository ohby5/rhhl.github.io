WEBVTT
Kind: captions
Language: ja

00:00:00.080 --> 00:00:01.760
まず 最初に私があなたに聞いたのは

00:00:01.760 --> 00:00:04.710
udacicolaVotesがローカル変数か
グローバル変数かです

00:00:04.710 --> 00:00:07.780
そして あなたはローカル変数だと
決定すべきでした

00:00:07.780 --> 00:00:11.330
これを見つけ出すには変数が宣言された場所
つまり ここへ行き

00:00:11.330 --> 00:00:15.510
そのデータタイプはここなので
それが宣言されているのが分かります

00:00:15.590 --> 00:00:19.150
メソッドの中で宣言されているかどうか

00:00:19.150 --> 00:00:23.690
つまり波カッコの中で宣言されているか
外で宣言されているどうかです

00:00:23.690 --> 00:00:25.890
メソッドの中で宣言されている場合

00:00:25.890 --> 00:00:27.670
それはローカル変数であることを
意味しています

00:00:27.670 --> 00:00:30.960
実のところ それはメソッドの中で
宣言されていることがと明らかです

00:00:32.150 --> 00:00:33.790
だから それはローカル変数です

00:00:33.790 --> 00:00:35.150
どういうことでしょうか？

00:00:35.150 --> 00:00:36.720
私たちは私たち自身にも
問いかけるべきです

00:00:36.720 --> 00:00:41.030
ローカル変数として何かを示した時
それで良いかどうか考えましょう

00:00:41.030 --> 00:00:42.930
このケースについて考えてみましょう

00:00:42.930 --> 00:00:44.060
ここに私たちの携帯があります

00:00:44.060 --> 00:00:46.010
そして 私たちは udacicolaについて
話しています

00:00:46.010 --> 00:00:49.550
udacicolaボタンをクリックした時だけに
注目してみましょう

00:00:49.550 --> 00:00:52.230
このボタンをクリックした時
このメソッドはスタートします

00:00:52.230 --> 00:00:57.008
udacicolaVotesを０にセットし
０であるudacicolaVotesに

00:00:57.008 --> 00:00:58.790
１を加えます

00:00:58.790 --> 00:01:00.870
従って udacicolaVotesは
１になります

00:01:00.870 --> 00:01:04.630
さて この方法の終わりに 
udacicolaVotesはローカル変数なので

00:01:04.630 --> 00:01:07.990
このメソッドの終わりにudacicolaVotesは
いわば死んだようなもので削除されます

00:01:07.990 --> 00:01:11.940
ローカル変数なので udacicolaVotesが
このメソッドの終わりに 破棄される

00:01:11.940 --> 00:01:15.640
またはなくなるという事実は
いくつかの問題を引き起こします

00:01:15.640 --> 00:01:16.880
では なぜ問題なのでしょう？

00:01:16.880 --> 00:01:21.870
もし それぞれ３人がボタンを押して
udacicolaに投票したら

00:01:21.870 --> 00:01:25.905
あなたはudacicolaVvotesが
３になるべきだと思うでしょう

00:01:25.905 --> 00:01:29.561
ここで実は何が起こっているかと言うと
ボタンを初めて押したら

00:01:29.561 --> 00:01:31.105
udacicolaは０になります

00:01:31.105 --> 00:01:32.865
１つ加えると１になります

00:01:32.865 --> 00:01:34.185
そして破棄されます

00:01:34.185 --> 00:01:35.815
udacicolaはもう存在していません

00:01:35.815 --> 00:01:38.605
２度目にudacicolaVotesを
誰かがクリックします

00:01:38.605 --> 00:01:41.785
udacicolaVotesは
また最初から作成されます

00:01:41.785 --> 00:01:43.395
再度宣言されます

00:01:44.155 --> 00:01:47.575
なぜなら 覚えていますか？最初に 
udacicolaVotesは基本的に破棄されます

00:01:47.575 --> 00:01:49.520
だから再度作り直す必要があります

00:01:49.520 --> 00:01:51.840
そして作り直された時
０にセットされます

00:01:51.840 --> 00:01:54.690
さて 再度１を追加します
しかし 覚えていますか？ここでの値は０です

00:01:54.690 --> 00:01:58.700
だから たとえボタンが２度押されたとしても
udacicolaVotesはまだ１です

00:01:59.930 --> 00:02:02.250
そして３度目にボタンが押されても
同じことが起こります

00:02:02.250 --> 00:02:06.550
まだ１のままで 実際にudacicolaVotesは
この方法の最後には再度破棄されます

00:02:06.550 --> 00:02:07.740
これが最初の問題です

00:02:07.740 --> 00:02:11.350
ボタンクリックの間で
状態が保存されていません

00:02:11.350 --> 00:02:14.190
何人の人がudacicolaに
投票しているかに記憶しません

00:02:14.190 --> 00:02:18.700
しかし 他の問題はここにあります
このコードは実はエラーを投げます

00:02:18.700 --> 00:02:22.610
そしてその理由は udacicolaVotesは

00:02:22.610 --> 00:02:26.820
ここでその存在が始まる
またはそのスコープが始まります

00:02:26.820 --> 00:02:29.880
そしてこのvoteudacicolaメソッドの最後に

00:02:29.880 --> 00:02:32.090
破棄されます 
存在していません

00:02:32.090 --> 00:02:36.190
つまりここにくるとvoteudacicolaは
本当は存在していないことを意味します

00:02:36.190 --> 00:02:39.640
もっと専門的には
この変数はスコープ外と私たちは言います

00:02:39.640 --> 00:02:44.010
スコープはここで宣言されています
そして ここで終了しました

00:02:45.040 --> 00:02:46.700
しかし 私たちはここで
使用しようとしています

00:02:46.700 --> 00:02:47.612
そして使用できません

00:02:47.612 --> 00:02:51.490
udacicolaVotesをローカル変数とすることは
このケースでは正しい選択ではありません

00:02:51.490 --> 00:02:54.130
そして私はこの２つのポイントを使って
なぜなのかまとめる事ができます

00:02:54.130 --> 00:02:57.850
それはボタンクリック間で投票数を
保存していないこと

00:02:57.850 --> 00:02:59.650
showMeVotesメソッドの
スコープ内でないことです

00:02:59.650 --> 00:03:01.700
つまり これが実は
エラーを引き起こします

00:03:01.700 --> 00:03:03.680
つまり これは
実はコンパイルできません

00:03:03.680 --> 00:03:06.140
それでは このプログラムの
他の変数をみてみましょう

