WEBVTT
Kind: captions
Language: zh-CN

00:00:00.080 --> 00:00:01.290
所以我问你的第一个事情是

00:00:01.290 --> 00:00:04.710
udacicolaVotes 是一个局部变量还是一个全局变量

00:00:04.710 --> 00:00:07.780
然后你已经判断它是局部变量

00:00:07.780 --> 00:00:11.330
好的 为了证明它 你要去声明这个变量的地方 在这

00:00:11.330 --> 00:00:14.340
你知道它已经声明了 因为数据类型已经在这了

00:00:15.590 --> 00:00:19.800
你看到这是一个方法内的声明 意味着在这两个花括号之间

00:00:19.800 --> 00:00:23.900
或者它是方法外的声明？

00:00:23.900 --> 00:00:25.890
现在 如果它是方法内的声明

00:00:25.890 --> 00:00:27.670
这意味着它是一个局部变量

00:00:27.670 --> 00:00:30.960
我们可以清楚看到方法内的声明

00:00:32.150 --> 00:00:33.790
所以它是一个局部变量

00:00:33.790 --> 00:00:35.150
好的 这意味着什么？

00:00:35.150 --> 00:00:36.720
我们应该常常问自己

00:00:36.720 --> 00:00:41.030
如果我声明局部变量 我应该怎么做？

00:00:41.030 --> 00:00:42.930
让我们在这个例子里思考

00:00:42.930 --> 00:00:44.060
这是我们的手机

00:00:44.060 --> 00:00:46.010
我们已经讨论过 udacicola 所以

00:00:46.010 --> 00:00:49.550
我们只关注点击 udacicola 按钮的时候

00:00:49.550 --> 00:00:52.230
当我们点击这个按钮 这个方法开始

00:00:52.230 --> 00:00:57.008
它将 udacicolaVotes 归零 并将1票加给 udacicolaVotes

00:00:57.008 --> 00:00:58.790
udacicolaVotes 的初始值是0

00:00:58.790 --> 00:01:00.870
所以 udacicolaVotes 变为1

00:01:00.870 --> 00:01:05.430
现在 因为 udacicolaVotes 是局部变量 在这个方法的最后

00:01:05.430 --> 00:01:07.990
它实际上注销了 或者说被删除了

00:01:07.990 --> 00:01:11.940
事实上 udacicolaVotes 已经废除了 或者 在这个方法的最后因为

00:01:11.940 --> 00:01:15.640
它是局部变量 导致两个问题

00:01:15.640 --> 00:01:16.880
为什么引起这些问题？

00:01:16.880 --> 00:01:19.580
好的 你可以想象三个不同的人投票给 udacicola

00:01:19.580 --> 00:01:25.905
通过点击按钮 udacicolaVvotes 会变为3

00:01:25.905 --> 00:01:30.001
好的 当你第一次点击按钮时会发生 udacicola

00:01:30.001 --> 00:01:31.105
归零

00:01:31.105 --> 00:01:32.865
它加了1 变为1

00:01:32.865 --> 00:01:34.185
之后它废除了

00:01:34.185 --> 00:01:35.815
它就再也不存在了

00:01:35.815 --> 00:01:38.605
第二次有人点击 udacicolaVvotes

00:01:38.605 --> 00:01:41.785
udacicolaVvotes 再把那些做一遍

00:01:41.785 --> 00:01:42.565
它再一次声明

00:01:44.155 --> 00:01:47.575
因为记得 第一次本质上已经废除了

00:01:47.575 --> 00:01:49.520
所以它需要资源回收

00:01:49.520 --> 00:01:51.840
当它资源回收 它归零

00:01:51.840 --> 00:01:54.690
现在我们再对它加1 不过记得值是0

00:01:54.690 --> 00:01:58.700
所以 udacicolaVvotes 依然是1 甚至当按钮被按两次

00:01:59.930 --> 00:02:02.250
当点击三次同样的事情会发生

00:02:02.250 --> 00:02:06.550
它还是1并且再次废除在方法的最后

00:02:06.550 --> 00:02:07.740
所以这是第一个问题

00:02:07.740 --> 00:02:11.350
它实际上没有存储点击两次的状态

00:02:11.350 --> 00:02:14.190
关于多少人投票给 udacicola

00:02:14.190 --> 00:02:18.700
不过另一个问题在这里 这段代码有一个错误

00:02:18.700 --> 00:02:22.610
原因是 记得我说过的 udacicolaVvotes

00:02:22.610 --> 00:02:26.820
存在或它的作用域开始于这里

00:02:26.820 --> 00:02:29.880
在 voteudacicola 方法的最后

00:02:29.880 --> 00:02:32.090
它被废除了 它不存在了

00:02:32.090 --> 00:02:36.190
意味着当我回到这 udacicolaVotes 已经不存在了

00:02:36.190 --> 00:02:39.640
更深技术层面 我们说这个变量不在作用域内

00:02:39.640 --> 00:02:44.010
它的作用域在这 它声明在这 它在这结束

00:02:45.040 --> 00:02:46.700
我们试着把它用在这

00:02:46.700 --> 00:02:47.612
它不能使用

00:02:47.612 --> 00:02:51.490
在这个例子里将 udacicolaVotes 定义为局部变量是不正确的决定

00:02:51.490 --> 00:02:54.130
我把它总结为这两点

00:02:54.130 --> 00:02:58.320
它在两次点击按钮之间不能保存票数 并且对于显示 Votes 方法

00:02:58.320 --> 00:02:59.650
不是在作用域里

00:02:59.650 --> 00:03:01.700
所以这会引起错误

00:03:01.700 --> 00:03:03.680
这不能被编译

00:03:03.680 --> 00:03:06.140
好的 让我们看看这个程序的另一个变量

