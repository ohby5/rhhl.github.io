WEBVTT
Kind: captions
Language: zh-CN

00:00:00.130 --> 00:00:02.020
下面 我们来回顾一下 之前所学的内容

00:00:02.020 --> 00:00:05.424
字符串是不可变的 也就是说 一旦创建便不可更改

00:00:05.424 --> 00:00:07.978
即使只需要稍微不同的字符串 也不得不重新创建

00:00:07.978 --> 00:00:09.640
一个全新的字符串对象

00:00:09.640 --> 00:00:13.320
而 StringBuilder 也是一个字符序列 但 StringBuilder

00:00:13.320 --> 00:00:14.570
是可变的

00:00:14.570 --> 00:00:16.990
因此 可以在创建后 对其进行更改

00:00:16.990 --> 00:00:20.290
那么在什么情况下 选用哪一种 也各有利弊

00:00:20.290 --> 00:00:23.090
但如果要通过若干步骤 分步构建一个较长的

00:00:23.090 --> 00:00:26.550
文本字符串 则 StringBuilder 是更为高效的数据类型

00:00:26.550 --> 00:00:27.980
因为它是可变的

00:00:27.980 --> 00:00:31.508
否则 每个中间步骤都不得不 重新创建一个字符串对象

00:00:31.508 --> 00:00:33.309
从而导致设备内存的浪费

00:00:33.309 --> 00:00:36.962
此外 当不再使用这些字符串对象后 还需要清理

00:00:36.962 --> 00:00:38.960
这些额外的内存分配

00:00:38.960 --> 00:00:41.590
因此 使用单独一个 StringBuilder 对象 内存更为简洁

00:00:41.590 --> 00:00:43.630
还可以根据需要进行修改

00:00:43.630 --> 00:00:47.220
好了 下面我们来研究代码以了解 如何使用 StringBuilder 类

00:00:47.220 --> 00:00:50.970
像往常一样 我们可以先声明 并实例化一个新 StringBuilder

00:00:50.970 --> 00:00:52.740
然后

00:00:52.740 --> 00:00:58.798
使用 append 添加方法 将拼写为 W-O-R-L-D 的单词 world 放入 builder 中

00:00:58.798 --> 00:01:01.370
现在 StringBuilder 里面存储了 拼写 world 的

00:01:01.370 --> 00:01:02.960
字符序列

00:01:02.960 --> 00:01:05.900
实际上 我们想把 world

00:01:05.900 --> 00:01:09.500
改成 word 也就是把第三个 位置的字符 L 移除

00:01:09.500 --> 00:01:15.800
如此一来 builder 里面现在包含 字符 W-O-R-D 也就是 word

00:01:15.800 --> 00:01:18.860
接下来 代码又向 StringBuilder 中 添加了更多字符

00:01:18.860 --> 00:01:23.190
首先 添加一个空格和单词 builder 最后添加句号

00:01:23.190 --> 00:01:26.700
注意 append 方法会返回 一个 builder 对象

00:01:26.700 --> 00:01:30.370
很方便的一点是 我们其实可以在同一行中 多次调用 append 方法

00:01:30.370 --> 00:01:33.660
这种出现在同一行中对多个方法 进行的一连串调用

00:01:33.660 --> 00:01:35.470
程序员们称之为方法链

00:01:35.470 --> 00:01:39.370
因此可以看到 当第二次调用 append 时 我们可以添加了一个句号

00:01:39.370 --> 00:01:42.690
完成构建后 我们可以直接调用 toString 方法 即可得到一个固定

00:01:42.690 --> 00:01:44.700
不可变的字符串

00:01:44.700 --> 00:01:47.970
因此完成后我们可以看到 在构建的 String 变量中

00:01:47.970 --> 00:01:50.620
现在包含的内容为 word builder

