WEBVTT
Kind: captions
Language: zh-CN

00:00:00.640 --> 00:00:04.180
以下是我们在 Tsunami 应用中 对 makeHttpRequest 方法

00:00:04.180 --> 00:00:05.520
所做出的更改

00:00:05.520 --> 00:00:07.050
如果响应代码不是 200

00:00:07.050 --> 00:00:12.300
我们将使用 log.e 方法调用 记录错误响应代码

00:00:12.300 --> 00:00:17.260
如果发生这种情况 我们将看到日志中记录的错误 包括日志标记

00:00:17.260 --> 00:00:21.600
主要活动 随后是 消息错误响应代码 和

00:00:21.600 --> 00:00:23.300
数字响应代码

00:00:24.400 --> 00:00:27.260
我们在  doInBackground 方法中 执行类似操作

00:00:27.260 --> 00:00:31.460
而尝试关闭 InputStream 时 则可能引发 I/O 例外

00:00:31.460 --> 00:00:34.230
我们可以验证此日志信息语句 是否由错误请求 URL

00:00:34.230 --> 00:00:36.630
故意 创建

00:00:37.840 --> 00:00:39.420
请注意这些 混杂的字符

00:00:40.760 --> 00:00:41.850
运行此应用时

00:00:41.850 --> 00:00:44.320
如果我们尝试连接到无效的 URL 则会收到一条错误信息

00:00:44.320 --> 00:00:46.170
如你所见

00:00:46.170 --> 00:00:50.280
日志中会出现响应代码为 400 的 红色的错误信息

00:00:50.280 --> 00:00:51.630
好的 非常好

00:00:51.630 --> 00:00:55.810
我们已经完成验证 当请求失败时 将调用此日志信息

00:00:55.810 --> 00:00:59.167
第二个任务就是 当我们发现 I/O 例外时 记录该错误信息

00:01:00.180 --> 00:01:03.650
我们可以将手机设置为飞行模式 以验证是否已经执行

00:01:03.650 --> 00:01:04.920
此代码路径

00:01:04.920 --> 00:01:07.880
当我们尝试连网 获取结果时

00:01:07.880 --> 00:01:09.400
一定会出现例外

00:01:09.400 --> 00:01:12.570
运行应用时 未显示地震信息

00:01:12.570 --> 00:01:16.330
但是我们会在日志中 看到错误信息说明

00:01:16.330 --> 00:01:18.970
问题检索 和地震 JSON 结果

00:01:18.970 --> 00:01:21.640
现在我们知道 已引发并捕获 I/O

00:01:21.640 --> 00:01:23.313
错误记录圆满完成

00:01:23.313 --> 00:01:26.860
这是一种很好的做法 开发者应该遵循这种做法

00:01:26.860 --> 00:01:29.400
如果要引用 Tsunami 应用代码的 最终状态

00:01:29.400 --> 00:01:30.610
请参阅以下 GitHub 链接

