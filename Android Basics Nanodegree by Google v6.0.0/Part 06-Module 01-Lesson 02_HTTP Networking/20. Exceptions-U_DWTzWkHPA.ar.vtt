WEBVTT
Kind: captions
Language: ar

00:00:00.333 --> 00:00:04.233
‫في كود التشبيك، قد تلاحظ وجود
‫أنواع مختلفة من الأخطاء..

00:00:04.633 --> 00:00:06.200
‫لكنك لم تدر ما غرضهم

00:00:06.733 --> 00:00:09.733
‫لم نتحدث عنهم سابقاً،
‫لذا سنفعل هذا الآن

00:00:10.467 --> 00:00:13.767
‫أول مرة رأيت الأخطاء كانت في
‫الدورة الأولى من الدرجة المصغرة

00:00:14.067 --> 00:00:16.834
‫عندما بنينا تطبيق JustJava
‫لطلب القهوة

00:00:17.633 --> 00:00:20.000
‫الآن واجه التطبيق خطئاً وانهار

00:00:20.733 --> 00:00:23.466
‫لاكتشاف الأخطاء،
‫فتحنا سجلات آندرويد..

00:00:24.333 --> 00:00:25.933
‫للكشف عن متعقب الحزم..

00:00:26.833 --> 00:00:28.933
‫واكتشفنا خطأ (حالة غير مناسبة)..

00:00:29.000 --> 00:00:32.933
‫يحدث عندما لم يمكن إيجاد وظيفة
‫submitOrder في (النشاط الرئيسي)

00:00:33.700 --> 00:00:36.667
‫لننظر إلى بعض التوثيقات حول الأخطاء

00:00:37.733 --> 00:00:40.866
‫عندما تفشل وظيفة جافا
‫أو تواجه حالة غير متوقعة..

00:00:41.200 --> 00:00:42.767
‫فقد ترفع خطئاً..

00:00:43.033 --> 00:00:45.166
‫وException اختصار (حدث استثنائي)

00:00:45.533 --> 00:00:47.466
‫الاستثناءات هي أخطاء في الأساس

00:00:47.667 --> 00:00:52.100
‫ولكن يتم التقاطهم أو تغليفهم
‫في نسخة من فئة exception

00:00:52.367 --> 00:00:56.400
‫والذي يحفظ معلومات حول ما الخطأ
‫وما كان يحدث في النظام لحظتها

00:00:57.033 --> 00:00:58.900
‫إن نظرت على اليسار هنا مثلاً..

00:00:59.067 --> 00:01:02.034
‫ستلاحظ أيضاً وجود أنواع
‫محددة من الأخطاء..

00:01:02.133 --> 00:01:04.633
‫والتي تمدد فئة exception العليا

00:01:05.133 --> 00:01:08.200
‫أحد الأمثلة الجيدة على التوريث
‫في إطار عمل جافا

00:01:08.733 --> 00:01:13.800
‫بمعنى آخر، كل هذه الفئات المحددة
‫هي فروع لفئة exception الرئيسية

00:01:14.333 --> 00:01:17.166
‫مثلاً، لدينا IllegalStateException..

00:01:17.567 --> 00:01:19.167
‫أو NullPointerException

00:01:19.767 --> 00:01:22.634
‫كما رأينا SecurityException
‫سابقاً في هذا الدرس..

00:01:22.700 --> 00:01:25.367
‫عندما كانت صلاحية الإنترنت
‫مفقودة من تطبيق (تسونامي)

00:01:26.133 --> 00:01:29.266
‫يمكنك إنشاء فئة exception
‫جديدة لأغراضك الخاصة

00:01:30.000 --> 00:01:33.467
‫مثلاً، يمكنك إنشاء (خطأ زلزال غير صالح)
‫InvalidEarthquakeException

00:01:33.633 --> 00:01:36.466
‫وتعريفها كما سنفعل عادة
‫بإنشاء فئة مخصصة..

00:01:36.533 --> 00:01:40.666
‫ونجعلها تُمدد فئة Exception الأساسية

00:01:41.167 --> 00:01:43.600
‫ومن هناك يمكننا لتحفظ مثلاً..

00:01:43.900 --> 00:01:47.300
‫معلومات محددة حول
‫سيناريو زلزال غير صالح

00:01:48.333 --> 00:01:49.433
‫لذا كمطور..

00:01:49.500 --> 00:01:52.833
‫يمكنك كتابة وظيفة تعلن
‫أنها ستلقي خطئاً..

00:01:53.367 --> 00:01:56.234
‫أو ما يعني أن الكود في
‫تلك الوظيفة إما 1..

00:01:56.567 --> 00:01:59.667
‫فينشئ خطئاً ليشير إلى حالة فريدة..

00:02:00.067 --> 00:02:02.567
‫أو 2، والأكثر شيوعاً..

00:02:02.767 --> 00:02:04.667
‫يستدعي وظيفة تلقي الخطأ

00:02:05.067 --> 00:02:08.167
‫بما يعني أن آندرويد أثناء التشغيل
‫حاول تنفيذ كود ما..

00:02:08.267 --> 00:02:12.634
‫ولكن واجه مشكلة وبالتالي
‫أخطر عنها بإلقاء خطأ

00:02:13.667 --> 00:02:16.734
‫من المهم ملاحظة أنه عند إلقاء خطأ..

00:02:16.933 --> 00:02:20.566
‫أن الكود اللاحق للسطر المسبب للخطأ..

00:02:20.767 --> 00:02:21.934
‫لن يتم تنفيذه

00:02:22.633 --> 00:02:24.466
‫فكيف تفعل ذلك في كود جافا؟

00:02:25.000 --> 00:02:27.500
‫يوجد تمييزان أريدك أن تنتبه إليهما..

00:02:27.767 --> 00:02:28.834
‫أولهما..

00:02:29.067 --> 00:02:32.834
‫في أي مكان من الكود حيث تريد
‫التسبب أو إنشاء خطأ..

00:02:33.067 --> 00:02:35.100
‫فإنك تستخدم الكلمة الدلالية throw

00:02:35.400 --> 00:02:36.800
‫كما في هذا المثال هنا

00:02:36.933 --> 00:02:39.833
‫حيث نريد إلقاء خطأ (شراء غير صالح)

00:02:40.133 --> 00:02:44.666
‫لاكتشافنا حدوث شيء خاطئ
‫في وظيفة completePurchase

00:02:45.733 --> 00:02:47.800
‫ثانيهما، وهو أقل وضوحاً..

00:02:48.333 --> 00:02:51.666
‫في أي وقت يلقي فيه
‫الكود خطئاً غير تابع..

00:02:51.767 --> 00:02:54.434
‫لفئة Exception في وقت التشغيل..

00:02:54.733 --> 00:03:00.033
‫فيجب أن نعلن في توقيع الوظيفة..
‫أنها قادرة على إلقاء مثل هذا الخطأ

00:03:00.333 --> 00:03:03.700
‫في أحاديث مبرمجي جافا،
‫يشار إليه بخطأ مُقرر

00:03:04.000 --> 00:03:07.933
‫ومعناه ضمنياً أن أي كود يستدعي
‫أو يستخدم وظيفتنا..

00:03:08.100 --> 00:03:09.600
‫يجب أن يتولى الخطأ..

00:03:09.933 --> 00:03:12.066
‫مثل استدعاء الوظيفة في مقطع try

00:03:12.433 --> 00:03:14.600
‫يُفرض هذا عبر مترجم جافا
‫Java Compiler

00:03:14.633 --> 00:03:17.700
‫بمعنى آخر، من يستدعي
‫وظيفة completePurchase..

00:03:18.067 --> 00:03:23.000
‫يجب أن يكون لديه معالجة إذا حدث
‫أو وقع خطأ InvalidPurchase

00:03:23.467 --> 00:03:26.200
‫سنتحدث عن معاملة الأخطاء
‫في الفيديو التالي

00:03:27.233 --> 00:03:31.666
‫إن أردت معرفة المزيد عن
‫الأخطاء المُقررة وغير المُقررة..

00:03:31.967 --> 00:03:34.533
‫انظر رابط الدرس في الملاحظات
‫أسفل هذا الفيديو

00:03:35.000 --> 00:03:36.267
‫ملاحظة هامة أخيرة..

00:03:36.800 --> 00:03:40.400
‫وجود إطار عمل قياسي لاستخدام
‫الأخطاء في جافا..

00:03:40.633 --> 00:03:44.066
‫فهذا لا يعني إلقاء خطأ كلما سار
‫شيء ما بشكل خاطئ

00:03:44.833 --> 00:03:47.400
‫هنا حيث يأتي تحفظ المطور

00:03:48.067 --> 00:03:51.267
‫مثالياً، وإذا اكتشفنا مشكلة
‫أو حالة خاصة..

00:03:51.500 --> 00:03:53.900
‫فيجدر بنا حلها في الكود

00:03:54.167 --> 00:03:57.434
‫عبر الرجوع إلى سلوك افتراضي منطقي
‫على سبيل المثال..

00:03:57.533 --> 00:03:59.533
‫ومتابعة التنفيذ إن أمكن

00:04:00.167 --> 00:04:02.200
‫نسمي هذا (الفشل في صمت)

00:04:02.733 --> 00:04:07.066
‫لكن إذا ارتأينا أنه من الأفضل
‫البقاء في حالة الخطأ..

00:04:07.433 --> 00:04:12.266
‫فقد نقرر أنه من الأفضل إخطار كود
‫الاستدعاء بحدوث الخطأ وإلقاءه

00:04:12.767 --> 00:04:14.434
‫رأينا هذا عملياً بالفعل

00:04:15.000 --> 00:04:19.100
‫في حالة تطبيق (تسونامي)، وعندما حاولنا
‫طلب بيانات الزلازل من الإنترنت..

00:04:19.500 --> 00:04:22.367
‫ألقى إطار عمل آندرويد
‫SecurityException

00:04:23.033 --> 00:04:25.400
‫هذه حالة من الأفضل إلقاء خطأ فيها

00:04:25.467 --> 00:04:29.100
‫وترك التطبيق ينهار في مقابل
‫المتابعة بدون صلاحية الإنترنت

00:04:29.800 --> 00:04:32.467
‫أما إذا فشل إطار عمل آندرويد
‫في صمت في هذه الحالة..

00:04:32.633 --> 00:04:35.433
‫فقد نتحير كمطورين جداً..

00:04:35.500 --> 00:04:37.867
‫حول لم لا نتلقى استجابة من الملقم

00:04:38.567 --> 00:04:40.900
‫في حالة تطبيقي (تسونامي) والزلازل..

00:04:41.133 --> 00:04:43.633
‫لن نقوم بإنشاء أخطاء مُخصصة..

00:04:43.767 --> 00:04:45.534
‫أو إلقاء أخطاء عمداً..

00:04:46.167 --> 00:04:50.234
‫ولكننا سنستدعي إطار عمل آندرويد
‫ليلقي أخطاء

00:04:50.600 --> 00:04:52.800
‫وسنحتاج لمعاملتها بشكل مناسب

00:04:53.267 --> 00:04:54.600
‫لنتحدث عن هذا تالياً

