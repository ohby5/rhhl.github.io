WEBVTT
Kind: captions
Language: zh-CN

00:00:00.702 --> 00:00:04.510
我将按照以下四步来完成这一编程任务

00:00:04.510 --> 00:00:07.410
首先我们需要更新 Word 类来为每个单词

00:00:07.410 --> 00:00:09.050
存储音频信息

00:00:09.050 --> 00:00:12.990
接着 我们需要更新单词列表的创建方式

00:00:12.990 --> 00:00:15.850
然后 我们需要更新 OnItemClickListener

00:00:15.850 --> 00:00:19.280
当列表项被点击时 能播放正确的声音文件

00:00:19.280 --> 00:00:22.800
最后 我们一直针对的是 NumbersActivity

00:00:22.800 --> 00:00:25.520
但是现在我们将为所有其他类别重复相同的流程

00:00:26.830 --> 00:00:30.740
打开 Word 类 首先我将添加一个整型变量

00:00:30.740 --> 00:00:32.990
用来存储音频资源 ID

00:00:34.020 --> 00:00:36.370
我们将通过该资源 ID

00:00:36.370 --> 00:00:38.550
找到实际的音频文件所在的位置

00:00:38.550 --> 00:00:42.375
注意这里 我称其为 mAudioResourceId

00:00:42.375 --> 00:00:45.797
然后我需要修改 Word 构造函数来接受另一个输入值

00:00:45.797 --> 00:00:48.068
以便设置音频字段

00:00:48.068 --> 00:00:50.880
我将其添加到两个构造函数中 因为所有的单词

00:00:50.880 --> 00:00:53.690
都需要具有一个音频文件 无论是否具有图片

00:00:54.830 --> 00:00:58.070
然后我将成员变量 mAudioResourceId

00:00:58.070 --> 00:01:00.510
设为等于传入的音频参数

00:01:01.620 --> 00:01:03.780
每次修改构造函数时

00:01:03.780 --> 00:01:06.190
都要记得更新 java 注释

00:01:06.190 --> 00:01:09.150
这样其他调用该构造函数的开发者

00:01:09.150 --> 00:01:11.090
就能知道要传入什么输入值

00:01:11.090 --> 00:01:13.630
因为我们将 Audio 变量声明为私有变量

00:01:13.630 --> 00:01:15.960
所以应该创建一个公共的 getter 方法

00:01:15.960 --> 00:01:19.070
就像我们为其他类创建了公共方法

00:01:19.070 --> 00:01:22.180
以便访问英语和米沃克字符串以及 ImageResourceId 一样

00:01:22.180 --> 00:01:27.030
我要在这里创建一个公共方法 返回整型 ResourceId

00:01:27.030 --> 00:01:30.212
我将该方法称为 getAudioResourceId

00:01:30.212 --> 00:01:33.490
该方法没有输入参数

00:01:33.490 --> 00:01:36.890
直接返回私有 Audio 变量

00:01:36.890 --> 00:01:39.730
因为它是公共方法 我为该方法添加一条注释

00:01:39.730 --> 00:01:42.512
解释下它的作用是什么

00:01:42.512 --> 00:01:45.530
这些就是我们需要对 Word 类做出的所有更改

00:01:45.530 --> 00:01:48.910
现在我们具有了一个新的私有 Audio 变量

00:01:48.910 --> 00:01:53.412
通过两个构造函数进行了设置 我们具有一个公共方法来访问该变量

00:01:53.412 --> 00:01:55.460
第一步就完成了

00:01:55.460 --> 00:01:57.650
我们修改了 Word 类构造函数

00:01:57.650 --> 00:02:00.510
需要修改下使用这些构造函数的地方

00:02:00.510 --> 00:02:03.740
例如 在 NumbersActivity FamilyActivity

00:02:03.740 --> 00:02:05.130
以及所有其他 Activity 中

00:02:05.130 --> 00:02:08.250
在这些 Activity 中 我们需要更改 Word 对象的创建方式

00:02:08.250 --> 00:02:12.180
在 NumbersActivity 中 我们创建了一个单词数组列表

00:02:12.180 --> 00:02:14.710
每个单词都具有三个参数

00:02:14.710 --> 00:02:19.830
第一个是英语单词 第二个是米沃克单词 最后一个是图片

00:02:19.830 --> 00:02:22.530
现在我们需要添加第四个参数 即与该单词相关的音频文件的

00:02:22.530 --> 00:02:25.020
资源 ID

00:02:25.020 --> 00:02:29.949
对于数字一 我将添加 R.raw.number_1

00:02:29.949 --> 00:02:33.973
在这里可以看到 Android Studio 非常智能 能够自动提示

00:02:33.973 --> 00:02:36.813
已经添加到 Raw 文件夹中的文件

00:02:36.813 --> 00:02:39.440
以防我忘记了资源的名称

00:02:39.440 --> 00:02:44.059
对于数字二 我将添加 R.raw.number_2

00:02:45.400 --> 00:02:47.560
我将为剩余的几个数字复制粘贴这些代码

00:02:47.560 --> 00:02:48.780
并稍加修改

00:02:49.980 --> 00:02:52.610
当所有单词都具有音频资源 ID 后

00:02:52.610 --> 00:02:53.520
代码应该是这样的

00:02:54.890 --> 00:02:58.370
NumbersActivity 中剩余的代码可以继续

00:02:58.370 --> 00:02:59.350
像之前一样使用单词数组列表

00:03:00.410 --> 00:03:02.780
现在我将对其他类别做出更新

00:03:02.780 --> 00:03:04.880
使它们都使用正确的构造函数

00:03:04.880 --> 00:03:08.850
当我打开 PhrasesActivity 时 我发现这里出现了错误

00:03:08.850 --> 00:03:12.235
这是因为 没有只有两个输入参数的有效

00:03:12.235 --> 00:03:13.619
Word 构造函数了

00:03:13.619 --> 00:03:16.490
我们做出一些更改 解决这些错误

00:03:16.490 --> 00:03:19.140
这是当每个单词都使用正确的三个输入参数构造函数时

00:03:19.140 --> 00:03:21.450
单词列表所具有的最终代码

00:03:22.570 --> 00:03:25.550
注意 如果代码行超过 100 列

00:03:25.550 --> 00:03:29.995
我们应该将文本换到下一行 并缩进 8 个空格

00:03:29.995 --> 00:03:32.810
注意 ArrayList 现在被声明为 final

00:03:32.810 --> 00:03:36.000
现在我将对 FamilyActivity 和 ColorsActivity 做出类似的更改

00:03:37.070 --> 00:03:41.383
这是 FamilyActivity 和 ColorsActivity 完成更改后的

00:03:41.383 --> 00:03:42.732
最终代码

00:03:42.732 --> 00:03:45.098
现在 Word 类被更新了

00:03:45.098 --> 00:03:47.980
以及调用 Word 类构造函数的地方也被更新了

00:03:47.980 --> 00:03:50.338
现在 我们将更新 OnItemClickListener

00:03:50.338 --> 00:03:52.758
使其播放正确的音频文件

00:03:52.758 --> 00:03:55.380
在 NumberActivity 中我将修改当列表项被点击时

00:03:55.380 --> 00:03:57.260
出现的行为对应的代码

00:03:57.260 --> 00:04:01.580
现在 我们始终播放的都是相同的 number_one MP3 文件

00:04:01.580 --> 00:04:03.050
我们在上面插入一些代码

00:04:03.050 --> 00:04:05.950
首先我们需要弄明白哪个单词被点击了

00:04:05.950 --> 00:04:08.130
然后将其存储在一个变量中

00:04:08.130 --> 00:04:11.190
通过 onItemClick 方法的 position 参数

00:04:11.190 --> 00:04:14.720
我可以检查下 Words ArrayList 获取被点击的单词

00:04:14.720 --> 00:04:18.950
为此 我可以调用 words.get()

00:04:18.950 --> 00:04:21.060
并传入 position 变量

00:04:21.060 --> 00:04:24.378
该方法将返回一个 Word 变量

00:04:24.378 --> 00:04:26.750
我可以将该变量存储在左侧

00:04:27.810 --> 00:04:31.470
如果这里出现了红色的曲线 表示出错了

00:04:31.470 --> 00:04:35.570
错误消息类似于变量 Words 无法从内部访问

00:04:35.570 --> 00:04:38.150
类需要声明为 final

00:04:38.150 --> 00:04:41.930
注意 这意味着我们需要将 words ArrayList 声明为 final

00:04:41.930 --> 00:04:44.650
请再次检查下你是否在这里声明为 final

00:04:44.650 --> 00:04:47.060
当我知道哪个单词被点击后

00:04:47.060 --> 00:04:51.660
我就可以获取该单词的 AudioResourceId 然后将其传入 MediaPlayer

00:04:51.660 --> 00:04:56.550
这意味着我可以删除这里硬编码的 R.raw.number_one

00:04:56.550 --> 00:05:01.190
直接使用 word.getAudioResourceId

00:05:02.440 --> 00:05:03.930
就是这样 应该是可行的

00:05:03.930 --> 00:05:07.438
创建 MediaPlayer 后 我们可以开始播放音频文件了

00:05:07.438 --> 00:05:10.570
我将在这里也添加一些注释

00:05:10.570 --> 00:05:11.640
以便记住这里的操作

00:05:12.810 --> 00:05:14.730
第三步就完成了

00:05:14.730 --> 00:05:17.110
第四步是确保剩余的类别 Activity

00:05:17.110 --> 00:05:19.540
也是可行的

00:05:19.540 --> 00:05:23.880
为了使 FamilyActivity 可行 我复制了 MediaPlayer 变量

00:05:23.880 --> 00:05:26.485
以及 setOnItemClickListener 的代码

00:05:27.610 --> 00:05:29.260
注意 在复制粘贴时

00:05:29.260 --> 00:05:35.000
确保带上最后的大括号 右括号以及分号

00:05:35.000 --> 00:05:37.370
同时 我将 Words ArrayList 声明为 final

00:05:37.370 --> 00:05:40.780
以便在 itemClickListener 中引用它

00:05:40.780 --> 00:05:43.748
现在 MediaPlayer 需要引用相应的 Activity Context

00:05:43.748 --> 00:05:46.830
所以我将其从 NumbersActivity 改成了 FamilyActivity

00:05:46.830 --> 00:05:50.320
因为这是我们当前所处的 Activity

00:05:50.320 --> 00:05:54.420
然后为 Colors 类重复相同的流程

00:05:54.420 --> 00:05:56.240
然后再为 PhrasesActivity 重复一次

00:05:56.240 --> 00:05:59.550
希望在多次设置后 你已经开始明白

00:05:59.550 --> 00:06:02.630
如何设置 ItemClickListener 以及如何使用 MediaPlayer

00:06:04.480 --> 00:06:07.986
现在我们来演示下应用 对于所有单词 我们都应该能够听到

00:06:07.986 --> 00:06:08.744
Andrea 的发音

00:06:08.744 --> 00:06:10.147
这次我们从 Phrases 开始

00:06:10.147 --> 00:06:13.979
- [米沃克语] - 不错

00:06:13.979 --> 00:06:14.699
然后转到 Colors

00:06:14.699 --> 00:06:19.018
- [米沃克语] - 目前听起来不错

00:06:19.018 --> 00:06:20.585
现在转到 Family Members

00:06:20.585 --> 00:06:23.311
- [米沃克语] - 最后

00:06:23.311 --> 00:06:24.277
转到我们的 NumbersActivity

00:06:24.277 --> 00:06:28.700
- [米沃克语] - 很不错

00:06:28.700 --> 00:06:29.800
我想停下来

00:06:29.800 --> 00:06:32.790
对你一直以来的努力表示祝贺

00:06:32.790 --> 00:06:36.400
你完成了里程碑式的成就 将所有这些功能都添加到了该应用中

00:06:36.400 --> 00:06:40.010
并且一路以来 学到了很多新的技能

00:06:40.010 --> 00:06:42.420
停下来 表扬下自己吧

00:06:42.420 --> 00:06:45.040
然后向亲朋好友展示下你的应用吧

00:06:45.040 --> 00:06:46.830
我们太为你感到骄傲了 你值得我们的表扬

