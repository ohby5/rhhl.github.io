WEBVTT
Kind: captions
Language: zh-CN

00:00:00.460 --> 00:00:03.220
我从 Material Design 网站下载了播放箭头图标

00:00:03.220 --> 00:00:07.630
并将各个版本添加到了对应的 drawable 文件夹中

00:00:07.630 --> 00:00:11.000
现在我需要更改布局并包含这些播放箭头

00:00:11.000 --> 00:00:14.170
我们需要在列表项布局中做出这一更改

00:00:14.170 --> 00:00:16.620
这将是个很难的布局更改

00:00:16.620 --> 00:00:20.780
因为当前我的列表项布局的根元素是

00:00:20.780 --> 00:00:22.600
水平 LinerLayout

00:00:22.600 --> 00:00:26.380
如果我要在此布局中添加播放图标作为第三个子视图

00:00:26.380 --> 00:00:28.150
那么颜色背景将无法在该视图后面

00:00:29.250 --> 00:00:31.795
为了使播放箭头覆盖在颜色背景上方

00:00:31.795 --> 00:00:34.335
我将我的布局切换成了 RelativeLayout

00:00:34.335 --> 00:00:37.425
我也是试了好几遍并出错了几次才发现这一方法

00:00:37.425 --> 00:00:39.675
一开始的时候属性并非都正确

00:00:39.675 --> 00:00:43.445
当然 你可以通过多种方式实现这一相同的布局

00:00:43.445 --> 00:00:45.280
这只是我的实现方法

00:00:45.280 --> 00:00:49.180
对我来说 我使 ImageView 成为 RelativeLayout 的第一个子视图

00:00:49.180 --> 00:00:53.030
因为视图默认地会自动添加到左上角 所以我不需要

00:00:53.030 --> 00:00:56.800
添加任何特殊属性来设置此视图的位置

00:00:56.800 --> 00:01:01.470
然后这里有两个垂直 LinearLayout 并包含两个 TextView

00:01:01.470 --> 00:01:03.460
根据该类别的主题背景 它们将具有

00:01:03.460 --> 00:01:05.310
相同的背景颜色

00:01:05.310 --> 00:01:09.620
这些 TextView 应该与父视图的右上角和底部边缘对齐

00:01:10.740 --> 00:01:14.470
同时必须指定为位于图片的右侧

00:01:14.470 --> 00:01:17.140
否则的话 可能会覆盖在图片上方

00:01:17.140 --> 00:01:20.000
接着 可以将播放图标放在 LinearLayout 上方

00:01:20.000 --> 00:01:23.470
我们可以将这个添加为 ImageView

00:01:23.470 --> 00:01:26.480
来源指向的是我们添加到应用中的图片 drawable

00:01:26.480 --> 00:01:27.900
对于位置来说

00:01:27.900 --> 00:01:32.268
我们希望播放图标与 RelativeLayout 的右边缘对齐

00:01:32.268 --> 00:01:35.110
同时还希望在父视图中保持居中

00:01:35.110 --> 00:01:38.560
在这里指定为垂直居中 = true

00:01:38.560 --> 00:01:40.560
根据测试题中的红色标示

00:01:40.560 --> 00:01:44.150
我们希望图标距离屏幕右边缘 16dp

00:01:44.150 --> 00:01:47.630
为此 我们在 ImageView 上右侧添加了 16dp 的外边距

00:01:48.790 --> 00:01:51.750
当你在代码中做出这些更改时 这些项的 XML 文件

00:01:51.750 --> 00:01:53.780
现在应该是这样的

00:01:53.780 --> 00:01:57.680
这里是布局根视图 RelativeLayout

00:01:57.680 --> 00:02:01.370
然后是 ImageView 接着是垂直 LinearLayout

00:02:02.620 --> 00:02:04.910
里面包含两个 TextView

00:02:04.910 --> 00:02:07.070
对于我们刚刚添加的 LinearLayout

00:02:07.070 --> 00:02:09.598
我们需要向其添加一些新的 RelativeLayout 参数

00:02:10.639 --> 00:02:14.300
我的意思是将列表项的高度更改为

00:02:14.300 --> 00:02:16.740
list_item_height 维度

00:02:16.740 --> 00:02:20.190
否则的话 背景颜色将不会像预期的那样

00:02:20.190 --> 00:02:22.100
填充整个列表项

00:02:22.100 --> 00:02:25.350
我通过这里的三个 alignParent 属性实现了这一点

00:02:25.350 --> 00:02:28.360
即 alignParentBottom alignParentRight 和

00:02:28.360 --> 00:02:31.220
alignParentTop 都设为 true

00:02:31.220 --> 00:02:33.240
最后 对于 RelativeLayout

00:02:33.240 --> 00:02:35.890
我们为播放箭头添加了新的 ImageView

00:02:35.890 --> 00:02:38.690
它的高度和宽度都是 24dp

00:02:38.690 --> 00:02:40.872
同时与父视图的右侧对齐

00:02:40.872 --> 00:02:45.248
保持垂直居中 右侧外边距为 16dp

00:02:45.248 --> 00:02:49.335
更改完这些代码后 别忘了格式化 xml 代码

00:02:49.335 --> 00:02:53.750
确保属性符合 Android 代码格式指南

00:02:53.750 --> 00:02:55.240
我演示下操作过程

00:02:55.240 --> 00:02:56.870
从“项目 (Project)”视图中

00:02:56.870 --> 00:03:01.630
选中要修改的文件 转到“代码 (Code)” 然后选择“格式化代码 (Reformat Code)”

00:03:03.120 --> 00:03:07.110
系统弹出这个提示框 询问你是否要格式化选中的文件

00:03:07.110 --> 00:03:07.927
点击“确定 (OK)”

00:03:07.927 --> 00:03:11.710
现在我们在设备上运行下应用

00:03:11.710 --> 00:03:14.340
点按 NumbersActivity 看看效果如何

00:03:14.340 --> 00:03:15.860
哇 看起来好多了

00:03:15.860 --> 00:03:18.770
所有列表项都显示了播放器图标

00:03:18.770 --> 00:03:20.490
我们再看看其他类别

00:03:20.490 --> 00:03:22.967
FamilyActivity 中也有了播放箭头

00:03:22.967 --> 00:03:27.650
ColorsActivity 中也有了

00:03:27.650 --> 00:03:29.740
PhrasesActivity 也一样

00:03:30.840 --> 00:03:32.300
我们再

00:03:32.300 --> 00:03:35.760
测试下音频播放效果 确保每个列表依然能播放

00:03:35.760 --> 00:03:38.287
[米沃克语]

00:03:40.642 --> 00:03:42.070
[米沃克语]

00:03:44.102 --> 00:03:45.379
[米沃克语]

00:03:48.142 --> 00:03:51.930
- [米沃克语] － 不错 所有的都发音正常

00:03:51.930 --> 00:03:54.990
最后 我们需要测试下 当我们旋转设备的时候

00:03:54.990 --> 00:03:58.550
布局还是正常的 水平方向占据了更多的屏幕空间

00:03:58.550 --> 00:04:00.870
我们来检查下所有的 Activity

00:04:00.870 --> 00:04:02.230
很棒

00:04:02.230 --> 00:04:05.550
现在音频播放功能更容易发现了

00:04:05.550 --> 00:04:07.720
使用户体验更加完善

00:04:07.720 --> 00:04:10.190
新用户会发现点击某个列表项

00:04:10.190 --> 00:04:12.440
将能播放单词发音

00:04:12.440 --> 00:04:12.940
很棒

