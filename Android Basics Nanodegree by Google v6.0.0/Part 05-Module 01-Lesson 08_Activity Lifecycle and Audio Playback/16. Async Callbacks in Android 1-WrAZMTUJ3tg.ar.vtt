WEBVTT
Kind: captions
Language: ar

00:00:00.380 --> 00:00:03.600
عند الاطلاع على مستندات توثيق مشغل الوسائط،
ستعثر على هذه الطريقة،

00:00:03.600 --> 00:00:05.012
setOnCompletionListener.

00:00:05.012 --> 00:00:07.939
الوصف هنا يقول أن هذه الوظيفة

00:00:07.939 --> 00:00:09.350
تسمح لك بتسجيل أي استدعاء.

00:00:09.350 --> 00:00:12.260
سيتم استدعاؤها عند نهاية
مصدر الوسائط

00:00:12.260 --> 00:00:14.002
أو عند الوصول إلى الملف الصوتي.

00:00:14.002 --> 00:00:17.170
ولاحظ أن إدخال هذه الوظيفة هو
OnCompletionListener.

00:00:17.170 --> 00:00:19.300
ولذا، هيا بنا ننقر فوقها لمزيد من التفاصيل.

00:00:19.300 --> 00:00:22.420
ومن ثم فإن OnCompletionListener
لمشغل الوسائط تمثل واجهة.

00:00:22.420 --> 00:00:24.990
وهذا يعني أنك بحاجة إلى
تنفيذها

00:00:24.990 --> 00:00:27.120
وتوفير الكود لوظيفة
onCompletion.

00:00:28.240 --> 00:00:32.470
وبالتالي فإن الإجابة على السؤال الأول
هو وظيفة onCompletion

00:00:32.470 --> 00:00:35.020
وسيتم استدعاء كائن
onCompletionListener

00:00:35.020 --> 00:00:37.170
عند انتهاء مشغل الوسائط
من تشغيل ملف الوسائط.

00:00:37.170 --> 00:00:41.830
وبعد ذلك، في الخطوة رقم 2،
سأطلب منك استخدام هذه المعلومات.

00:00:41.830 --> 00:00:44.010
لتعديل التطبيق العينة لمشغل الموسيقى.

00:00:44.010 --> 00:00:46.740
ومن ثم، عند تشغيل الأغنية،
ستظهر رسالة منبثقة.

00:00:47.900 --> 00:00:50.910
ولذا هيا بنا نعود إلى مشروع
مشغل الموسيقى في آندرويد ستوديو.

00:00:50.910 --> 00:00:52.300
وبعد بدء تشغيل مشغل الوسائط،

00:00:52.300 --> 00:00:56.400
سأقوم بإعداد استدعاء ليتم إخطارنا
عند الانتهاء من تشغيل الأغنية.

00:00:56.400 --> 00:00:59.250
وكما لاحظت في نصائح الاختبار
التي قدمناها لك، نحن بحاجة إلى

00:00:59.250 --> 00:01:02.095
إعداد OnCompletionListener
قبل بدء تشغيل مشغل الوسائط.

00:01:02.095 --> 00:01:05.260
ولذا بعد استدعاء بدء تشغيل مشغل الوسائط،

00:01:05.260 --> 00:01:07.770
هيا بنا نستدعي المجموعة الموجودة في
وظيفة OnCompletionListener.

00:01:09.900 --> 00:01:13.670
ومن ثم داخل هذه الوظيفة سأحدد
فئة مستمع مجهولة

00:01:13.670 --> 00:01:18.870
في السطر وتذكر أنه مجهول
لأنني لم أعطيه اسم فئة.

00:01:18.870 --> 00:01:21.010
ولذا ليس هناك حاجة
إلى تسمية الفئة هنا.

00:01:21.010 --> 00:01:23.447
لأنني سأستخدم تعريف
الفئة مرة واحدة.

00:01:23.447 --> 00:01:26.860
[BLANK_AUDIO]

00:01:26.860 --> 00:01:29.661
والآن داخل وظيفة onCompletion
سأقوم بالتعديل

00:01:29.661 --> 00:01:32.243
كي تظهر رسالة منبثقة تقول،
انتيهت!

00:01:32.243 --> 00:01:35.482
[BLANK_AUDIO]

00:01:35.482 --> 00:01:38.287
حسنًا، هيا نختبرها الآن،
سأضغط على زر التشغيل.

00:01:38.287 --> 00:01:48.002
[MUSIC]

00:01:48.002 --> 00:01:50.490
وعند الانتهاء،
تظهر الرسالة المنبثقة.

00:01:50.490 --> 00:01:51.600
عمل عظيم.

00:01:51.600 --> 00:01:54.790
لتلخيص ما مضى،
أنا أستخدم استدعاء المزامنة

00:01:54.790 --> 00:01:57.530
لإشعاري عند انتهاء مشغل الوسائط
من تشغيل الأغنية.

00:01:57.530 --> 00:02:00.500
وفي ذلك الأثناء،
سأقوم بفعل بعض الأشياء الأخرى.

00:02:00.500 --> 00:02:02.940
مثل الرد على زر آخر
نقر فوقه المستخدم.

00:02:02.940 --> 00:02:04.490
وذلك في انتظار الحصول على الاستدعاء.

