WEBVTT
Kind: captions
Language: ar

00:00:00.333 --> 00:00:04.333
إدارة تركيز الصوت في تطبيقنا،
سيكون تغييراً كبيراً في الكود

00:00:04.698 --> 00:00:06.232
لذا قبل أن تنطلق بمفردك..

00:00:06.424 --> 00:00:08.683
لندرس القرارات التي ستحتاج لاتخاذها..

00:00:08.767 --> 00:00:10.846
عند استخدام واجهة برمجة
تطبيقات AudioManager

00:00:11.617 --> 00:00:14.617
تذكر أن واجهة برمجة التطبيقات
تشير إلى الفئات والوظائف..

00:00:14.826 --> 00:00:16.560
التي يقدمها إطار (آندرويد)

00:00:16.675 --> 00:00:18.475
والتي يمكنك كمطور استغلالها

00:00:19.084 --> 00:00:22.634
الآن لنبدأ بطلب تركيز الصوت
من مدير الصوت AudioManager

00:00:22.999 --> 00:00:25.193
لتبدأ تشغيل الصوت في التطبيق

00:00:25.790 --> 00:00:28.157
في الاختبار الأخير، وجدنا
أننا نحتاج لاستدعاء..

00:00:28.314 --> 00:00:30.355
وظيفة (طلب تركيز الصوت)

00:00:30.667 --> 00:00:32.349
وهي تحتاج ثلاثة مدخلات

00:00:33.198 --> 00:00:35.372
OnAudioFocusChangeListener

00:00:35.946 --> 00:00:36.946
streamType

00:00:37.327 --> 00:00:38.560
و durationHint

00:00:39.624 --> 00:00:43.890
آخر مدخلان هنا، streamType
وdurationHint عددان طبيعيان

00:00:44.531 --> 00:00:47.065
عند استدعاء هذه الوظيفة
requestAudioFocus..

00:00:47.281 --> 00:00:49.381
ما الذي نمرره كنوع التدفق streamType؟

00:00:49.609 --> 00:00:51.009
وهو الباراميتر الثاني

00:00:51.400 --> 00:00:54.082
والذي يشير إلى نوع الصوت الذي نشغله

00:00:54.514 --> 00:00:56.743
أهو أغنية أم نغمة اتصال؟

00:00:57.555 --> 00:00:58.692
والسؤال الثاني..

00:00:58.906 --> 00:01:02.218
ما الذي نمرره للمدخل durationHint
الباراميتر الثالث؟

00:01:02.480 --> 00:01:05.547
والذي يشير إلى كم من الوقت
سنحتاج تركيز الصوت

00:01:05.717 --> 00:01:08.668
هل سنحتاجه لفترة قصيرة من الوقت؟
أم لفترة طويلة؟

00:01:09.300 --> 00:01:12.633
إليك تلميح.. كل من الإجابتين
يجب أن تكونا أعداد طبيعية

00:01:12.905 --> 00:01:18.538
وتحديداً سيكونا متغيران ثابتان مُعرفان
مسبقاً في فئة (مدير الصوت)

00:01:19.243 --> 00:01:22.343
التوثيقات المرجعية لفئة (مدير الصوت)..

00:01:22.600 --> 00:01:24.970
وإذا مررنا للأسفل لقسم الثوابت العامة..

00:01:25.368 --> 00:01:26.834
ونمرر أبعد قليلاً للأسفل..

00:01:27.087 --> 00:01:31.079
ستجد كافة أنواع التدفق Stream Types التي
يمكنك تمريرها لوظيفة (طلب تركيز الصوت)

00:01:31.233 --> 00:01:32.966
ويمكنك الإشارة لهم..

00:01:33.027 --> 00:01:34.831
مثل AudioManager.Stream_ALARM

00:01:34.927 --> 00:01:38.293
أو AudioManager.Stream_DTMF

00:01:38.445 --> 00:01:39.614
وهكذا دواليك

00:01:40.043 --> 00:01:43.054
ووصف كل نوع تدفق تجده في العمود الأيمن

00:01:44.049 --> 00:01:47.541
لننقر على Stream_Alarm
لنحصل على تفاصيل أكثر

00:01:48.338 --> 00:01:51.372
تذكر أن (الثابت) هو قيمة جامدة
لا تتغير أبداً

00:01:51.483 --> 00:01:54.783
وتقليدياً، فإن أسماء الثوابت
تكتب كلها بحروف كبيرة

00:01:55.050 --> 00:01:57.383
والتي تستخدم عادة لتُوصل حالة معينة

00:01:57.595 --> 00:02:01.928
في هذه الحالة، فإن Stream_Alarm
قيمته 4، ولن تتغير أبداً

00:02:02.433 --> 00:02:05.266
لذا عندما نمرر قيمة الثابت هذه
إلى مدير الصوت..

00:02:05.388 --> 00:02:07.914
فإنه يعرف أننا نقصد هذا النوع من التدفق

00:02:08.390 --> 00:02:11.824
إذاً فهذا ما يخص أنواع التدفق.
ولكن ماذا عن (تلميحات المدة)؟

00:02:12.067 --> 00:02:14.734
لنتصفح وصولاً إلى وظيفة
requiestAudioFocus

00:02:14.872 --> 00:02:19.755
ولاحظ الخيارات المختلفة الصالحة لتلميح
المدة موضح في وصف الوظيفة

00:02:20.078 --> 00:02:22.778
منها مثلاً
audioFocus_Gain_Transient

00:02:22.944 --> 00:02:24.700
audioFocus_Gain_Transient_May_Duck

00:02:24.860 --> 00:02:26.226
ثم بضعة آخرين

00:02:26.602 --> 00:02:30.808
ولكل من هؤلاء وصفاً ليساعدك
على اختيار المناسب منهم

00:02:31.544 --> 00:02:35.611
لك الحرية في البحث على الإنترنت عن دروس
إن احتجت المساعدة في إجابة السؤالين

00:02:35.791 --> 00:02:37.424
وأرغب منك وضع إجاباتك هنا

00:02:37.889 --> 00:02:38.956
ثم تابع

